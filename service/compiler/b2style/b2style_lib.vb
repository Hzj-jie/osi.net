Option Explicit On
Option Infer Off
Option Strict On
Imports osi.root.connector
Public NotInheritable Class b2style_lib
    Private Sub New()
    End Sub
    Public Shared ReadOnly data() As Byte = 
        Convert.FromBase64String(strcat_hint(CUInt(21031), 
            "CAAAAGFzc2VydC5oHgEAAO+7vw0KI2lmbmRlZiBCMlNUWUxFX0xJQl9BU1NFUlRfSA0KI2RlZmluZSBCMlNUWUxFX0xJQl9BU1NFUlRfSA0KDQojaW5jbHVkZSA8YjJzdHlsZS5oPg0KDQp2b2lkIGFzc2VydChib29sIHYsIHN0cmluZyBtc2cpIHsNCiAgaWYgKHYpIHJldHVybjsNCiAgYjJzdHlsZTo6c3RkX291dChtc2cpOw0KICBsb2dpYyAic3RvcCI7DQp9DQoNCnZvaWQgYXNzZXJ0KGJvb2wgdikgew0KICBhc3NlcnQodiwgIkFzc2VydGlvbiBmYWlsdXJlIik7DQp9DQoNCiNlbmRpZiAgLy8gQjJTVFlMRV9MSUJfQVNTRVJUX0gJAAAAYjJzdHlsZS5oEwEAAO+7vw0KI2lmbmRlZiBCMlNUWUxFX0xJQl9CMlNUWUxFX0gNCiNkZWZpbmUgQjJTVFlMRV9MSUJfQjJTVFlMRV9IDQoNCiNpbmNsdWRlIDxic3R5bGUuaD4NCg0KI2luY2x1ZGUgPGIyc3R5bGVfc3RkaW8uaD4NCiNpbmNsdWRlIDxiMnN0eWxlX29wZXJhdG9ycy5oPg0KI2luY2x1ZGUgPGIyc3R5bGVfdWZsb2F0Lmg+DQojaW5jbHVkZSA8YjJzdHlsZV90eXBlcy5oPg0KI2luY2x1ZGUgPGIyc3R5bGVfZGVsZWdhdGVzLmg+DQoNCiNlbmRpZiAgLy8gQjJTVFlMRV9MSUJfQjJTVFlMRV9IEwAAAGIyc3R5bGVfZGVsZWdhdGVzLmjVBwAA77u/DQojaWZuZGVmIEIyU1RZTEVfTElCX0IyU1RZTEVfREVMRUdBVEVTX0gNCiNkZWZpbmUgQjJTVFlMRV9MSUJfQjJTVFlMRV9ERUxFR0FURVNfSA0KDQojaW5jbHVkZSA8YjJzdHlsZV90eXBlcy5oPg0KDQpuYW1lc3BhY2UgYjJzdHlsZSB7DQoNCnRlbXBsYXRlIDxSVD4NCmRlbGVnYXRlIFJUIGZ1bmN0aW9uKCk7DQoNCnRlbXBsYXRlIDxULCBSVD4NCmRlbGVnYXRlIFJUIGZ1bmN0aW9uKFQpOw0KDQp0ZW1wbGF0ZSA8VCwgVDIsIFJUPg0KZGVsZWdhdGUgUlQgZnVuY3Rpb24oVCwgVDIpOw0KDQp0ZW1wbGF0ZSA8VCwgVDIsIFQzLCBSVD4NCmRlbGVnYXRlIFJUIGZ1bmN0aW9uKFQsIFQyLCBUMyk7DQoNCnRlbXBsYXRlIDxULCBUMiwgVDMsIFQ0LCBSVD4NCmRlbGVnYXRlIFJUIGZ1bmN0aW9uKFQsIFQyLCBUMywgVDQpOw0KDQp0ZW1wbGF0ZSA8VCwgVDIsIFQzLCBUNCwgVDUsIFJUPg0KZGVsZWdhdGUgUlQgZnVuY3Rpb24oVCwgVDIsIFQzLCBUNCwgVDUpOw0KDQp0ZW1wbGF0ZSA8VCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBSVD4NCmRlbGVnYXRlIFJUIGZ1bmN0aW9uKFQsIFQyLCBUMywgVDQsIFQ1LCBUNik7DQoNCnRlbXBsYXRlIDxULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBSVD4NCmRlbGVnYXRlIFJUIGZ1bmN0aW9uKFQsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcpOw0KDQp0ZW1wbGF0ZSA8VCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFJUPg0KZGVsZWdhdGUgUlQgZnVuY3Rpb24oVCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgpOw0KDQp0ZW1wbGF0ZSA8VCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBSVD4NCmRlbGVnYXRlIFJUIGZ1bmN0aW9uKFQsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSk7DQoNCnRlbXBsYXRlIDxULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgUlQ+DQpkZWxlZ2F0ZSBSVCBmdW5jdGlvbihULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCk7DQoNCnRlbXBsYXRlIDxULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBSVD4NCmRlbGVnYXRlIFJUIGZ1bmN0aW9uKFQsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEpOw0KDQp0ZW1wbGF0ZSA8VCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBSVD4NCmRlbGVnYXRlIFJUIGZ1bmN0aW9uKFQsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMik7DQoNCnRlbXBsYXRlIDxULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgUlQ+DQpkZWxlZ2F0ZSBSVCBmdW5jdGlvbihULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMyk7DQoNCnRlbXBsYXRlIDxULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBSVD4NCmRlbGVnYXRlIFJUIGZ1bmN0aW9uKFQsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQpOw0KDQp0ZW1wbGF0ZSA8VCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1LCBSVD4NCmRlbGVnYXRlIFJUIGZ1bmN0aW9uKFQsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNSk7DQoNCnRlbXBsYXRlIDxULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTUsIFQxNiwgUlQ+DQpkZWxlZ2F0ZSBSVCBmdW5jdGlvbihULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTUsIFQxNik7DQoNCn0gIC8vIG5hbWVzcGFjZSBiMnN0eWxlDQoNCiNlbmRpZiAgLy8gQjJTVFlMRV9MSUJfQjJTVFlMRV9ERUxFR0FURVNfSBMAAABiMnN0eWxlX29wZXJhdG9ycy5o5yMAAO+7vw0KI2lmbmRlZiBCMlNUWUxFX0xJQl9CMlNUWUxFX09QRVJBVE9SU19IDQojZGVmaW5lIEIyU1RZTEVfTElCX0IyU1RZTEVfT1BFUkFUT1JTX0gNCg0KI2luY2x1ZGUgPGJzdHlsZS5oPg0KI2luY2x1ZGUgPGIyc3R5bGVfdHlwZXMuaD4NCg0KbmFtZXNwYWNlIGIyc3R5bGUgew0KDQpib29sIGFuZChib29sIGksIGJvb2wgaikgew0KICBpZiAoaSkgcmV0dXJuIGo7DQogIHJldHVybiBmYWxzZTsNCn0NCg0KYm9vbCBvcihib29sIGksIGJvb2wgaikgew0KICBpZiAoaSkgcmV0dXJuIHRydWU7DQogIGlmIChqKSByZXR1cm4gdHJ1ZTsNCiAgcmV0dXJuIGZhbHNlOw0KfQ0KDQpib29sIG5vdChib29sIGkpIHsNCiAgaWYgKGkpIHJldHVybiBmYWxzZTsNCiAgcmV0dXJuIHRydWU7DQp9DQoNCi8vIFRPRE86IFVzZSBhIGJldHRlciB3YXkgdG8gY29tcGFyZSBzdHJpbmdzLCB0cmVhdGluZyB0aGVtIGFzIGJpZ191aW50cyBpcyBub3QgYWNjdXJhdGUgb3IgZWZmaWNpZW50Lg0KYm9vbCBlcXVhbChzdHJpbmcgaSwgc3RyaW5nIGopIHsNCiAgYm9vbCByZXN1bHQ7DQogIGxvZ2ljICJlcXVhbCBiMnN0eWxlX19yZXN1bHQgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIHJlc3VsdDsNCn0NCg0KYm9vbCBub3RfZXF1YWwoc3RyaW5nIGksIHN0cmluZyBqKSB7DQogIGJvb2wgcmVzdWx0Ow0KICBsb2dpYyAiZXF1YWwgYjJzdHlsZV9fcmVzdWx0IGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7DQogIHJldHVybiBub3QocmVzdWx0KTsNCn0NCg0KYm9vbCBlcXVhbChiaWd1aW50IGksIGJpZ3VpbnQgaikgew0KICBib29sIHJlc3VsdDsNCiAgbG9naWMgImVxdWFsIGIyc3R5bGVfX3Jlc3VsdCBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gcmVzdWx0Ow0KfQ0KDQpib29sIG5vdF9lcXVhbChiaWd1aW50IGksIGJpZ3VpbnQgaikgew0KICBib29sIHJlc3VsdDsNCiAgbG9naWMgImVxdWFsIGIyc3R5bGVfX3Jlc3VsdCBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gbm90KHJlc3VsdCk7DQp9DQoNCmJvb2wgZXF1YWwobG9uZyBpLCBsb25nIGopIHsNCiAgcmV0dXJuIGVxdWFsKDo6YnN0eWxlOjp0b19iaWd1aW50KGkpLCA6OmJzdHlsZTo6dG9fYmlndWludChqKSk7DQp9DQoNCmJvb2wgbm90X2VxdWFsKGxvbmcgaSwgbG9uZyBqKSB7DQogIHJldHVybiBub3RfZXF1YWwoOjpic3R5bGU6OnRvX2JpZ3VpbnQoaSksIDo6YnN0eWxlOjp0b19iaWd1aW50KGopKTsNCn0NCg0KYm9vbCBlcXVhbChpbnQgaSwgaW50IGopIHsNCiAgcmV0dXJuIGVxdWFsKDo6YnN0eWxlOjp0b19iaWd1aW50KGkpLCA6OmJzdHlsZTo6dG9fYmlndWludChqKSk7DQp9DQoNCmJvb2wgbm90X2VxdWFsKGludCBpLCBpbnQgaikgew0KICByZXR1cm4gbm90X2VxdWFsKDo6YnN0eWxlOjp0b19iaWd1aW50KGkpLCA6OmJzdHlsZTo6dG9fYmlndWludChqKSk7DQp9DQoNCmJvb2wgZ3JlYXRlcl90aGFuKGJpZ3VpbnQgaSwgYmlndWludCBqKSB7DQogIGJvb2wgcmVzdWx0Ow0KICBsb2dpYyAibW9yZSBiMnN0eWxlX19yZXN1bHQgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIHJlc3VsdDsNCn0NCg0KYm9vbCBncmVhdGVyX3RoYW4obG9uZyBpLCBsb25nIGopIHsNCiAgcmV0dXJuIGdyZWF0ZXJfdGhhbig6OmJzdHlsZTo6dG9fYmlndWludChpKSwgOjpic3R5bGU6OnRvX2JpZ3VpbnQoaikpOw0KfQ0KDQpib29sIGdyZWF0ZXJfdGhhbihpbnQgaSwgaW50IGopIHsNCiAgcmV0dXJuIGdyZWF0ZXJfdGhhbig6OmJzdHlsZTo6dG9fYmlndWludChpKSwgOjpic3R5bGU6OnRvX2JpZ3VpbnQoaikpOw0KfQ0KDQpib29sIGxlc3NfdGhhbihiaWd1aW50IGksIGJpZ3VpbnQgaikgew0KICBib29sIHJlc3VsdDsNCiAgbG9naWMgImxlc3MgYjJzdHlsZV9fcmVzdWx0IGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7DQogIHJldHVybiByZXN1bHQ7DQp9DQoNCmJvb2wgbGVzc190aGFuKGxvbmcgaSwgbG9uZyBqKSB7DQogIHJldHVybiBsZXNzX3RoYW4oOjpic3R5bGU6OnRvX2JpZ3VpbnQoaSksIDo6YnN0eWxlOjp0b19iaWd1aW50KGopKTsNCn0NCg0KYm9vbCBsZXNzX3RoYW4oaW50IGksIGludCBqKSB7DQogIHJldHVybiBsZXNzX3RoYW4oOjpic3R5bGU6OnRvX2JpZ3VpbnQoaSksIDo6YnN0eWxlOjp0b19iaWd1aW50KGopKTsNCn0NCg0KYm9vbCBsZXNzX29yX2VxdWFsKGJpZ3VpbnQgaSwgYmlndWludCBqKSB7DQogIHJldHVybiBvcihsZXNzX3RoYW4oaSwgaiksIGVxdWFsKGksIGopKTsNCn0NCg0KYm9vbCBsZXNzX29yX2VxdWFsKGxvbmcgaSwgbG9uZyBqKSB7DQogIHJldHVybiBvcihsZXNzX3RoYW4oaSwgaiksIGVxdWFsKGksIGopKTsNCn0NCg0KYm9vbCBsZXNzX29yX2VxdWFsKGludCBpLCBpbnQgaikgew0KICByZXR1cm4gb3IobGVzc190aGFuKGksIGopLCBlcXVhbChpLCBqKSk7DQp9DQoNCmJvb2wgZ3JlYXRlcl9vcl9lcXVhbChiaWd1aW50IGksIGJpZ3VpbnQgaikgew0KICByZXR1cm4gb3IoZ3JlYXRlcl90aGFuKGksIGopLCBlcXVhbChpLCBqKSk7DQp9DQoNCmJvb2wgZ3JlYXRlcl9vcl9lcXVhbChsb25nIGksIGxvbmcgaikgew0KICByZXR1cm4gb3IoZ3JlYXRlcl90aGFuKGksIGopLCBlcXVhbChpLCBqKSk7DQp9DQoNCmJvb2wgZ3JlYXRlcl9vcl9lcXVhbChpbnQgaSwgaW50IGopIHsNCiAgcmV0dXJuIG9yKGdyZWF0ZXJfdGhhbihpLCBqKSwgZXF1YWwoaSwgaikpOw0KfQ0KDQpiaWd1aW50IGFkZChiaWd1aW50IGksIGJpZ3VpbnQgaikgew0KICBsb2dpYyAiYWRkIGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIGk7DQp9DQoNCmxvbmcgYWRkKGxvbmcgaSwgbG9uZyBqKSB7DQogIGxvZ2ljICJhZGQgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gOjpic3R5bGU6OmZpdF9pbl9sb25nKGkpOw0KfQ0KDQppbnQgYWRkKGludCBpLCBpbnQgaikgew0KICBsb2dpYyAiYWRkIGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIDo6YnN0eWxlOjpmaXRfaW5faW50KGkpOw0KfQ0KDQpieXRlIGFkZChieXRlIGksIGJ5dGUgaikgew0KICBsb2dpYyAiYWRkIGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIDo6YnN0eWxlOjpmaXRfaW5fYnl0ZShpKTsNCn0NCg0KYmlndWludCBtaW51cyhiaWd1aW50IGksIGJpZ3VpbnQgaikgew0KICBsb2dpYyAic3VidHJhY3QgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gaTsNCn0NCg0KbG9uZyBtaW51cyhsb25nIGksIGxvbmcgaikgew0KICBsb2dpYyAic3VidHJhY3QgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gOjpic3R5bGU6OmZpdF9pbl9sb25nKGkpOw0KfQ0KDQppbnQgbWludXMoaW50IGksIGludCBqKSB7DQogIGxvZ2ljICJzdWJ0cmFjdCBiMnN0eWxlX19pIGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7DQogIHJldHVybiA6OmJzdHlsZTo6Zml0X2luX2ludChpKTsNCn0NCg0KYmlndWludCBtdWx0aXBseShiaWd1aW50IGksIGJpZ3VpbnQgaikgew0KICBsb2dpYyAibXVsdGlwbHkgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gaTsNCn0NCg0KbG9uZyBtdWx0aXBseShsb25nIGksIGxvbmcgaikgew0KICBsb2dpYyAibXVsdGlwbHkgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gOjpic3R5bGU6OmZpdF9pbl9sb25nKGkpOw0KfQ0KDQppbnQgbXVsdGlwbHkoaW50IGksIGludCBqKSB7DQogIGxvZ2ljICJtdWx0aXBseSBiMnN0eWxlX19pIGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7DQogIHJldHVybiA6OmJzdHlsZTo6Zml0X2luX2ludChpKTsNCn0NCg0KYmlndWludCBkaXZpZGUoYmlndWludCBpLCBiaWd1aW50IGopIHsNCiAgYmlndWludCByZXN1bHQ7DQogIGxvZ2ljICJkaXZpZGUgYjJzdHlsZV9fcmVzdWx0IEBAcHJlZml4ZXNAdGVtcHNAc3RyaW5nIGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7DQogIHJldHVybiByZXN1bHQ7DQp9DQoNCmxvbmcgZGl2aWRlKGxvbmcgaSwgbG9uZyBqKSB7DQogIGxvbmcgcmVzdWx0Ow0KICBsb2dpYyAiZGl2aWRlIGIyc3R5bGVfX3Jlc3VsdCBAQHByZWZpeGVzQHRlbXBzQHN0cmluZyBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gOjpic3R5bGU6OmZpdF9pbl9sb25nKHJlc3VsdCk7DQp9DQoNCmludCBkaXZpZGUoaW50IGksIGludCBqKSB7DQogIGludCByZXN1bHQ7DQogIGxvZ2ljICJkaXZpZGUgYjJzdHlsZV9fcmVzdWx0IEBAcHJlZml4ZXNAdGVtcHNAc3RyaW5nIGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7DQogIHJldHVybiA6OmJzdHlsZTo6Zml0X2luX2ludChyZXN1bHQpOw0KfQ0KDQpiaWd1aW50IG1vZChiaWd1aW50IGksIGJpZ3VpbnQgaikgew0KICBiaWd1aW50IHJlc3VsdDsNCiAgbG9naWMgImRpdmlkZSBAQHByZWZpeGVzQHRlbXBzQHN0cmluZyBiMnN0eWxlX19yZXN1bHQgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIHJlc3VsdDsNCn0NCg0KbG9uZyBtb2QobG9uZyBpLCBsb25nIGopIHsNCiAgbG9uZyByZXN1bHQ7DQogIGxvZ2ljICJkaXZpZGUgQEBwcmVmaXhlc0B0ZW1wc0BzdHJpbmcgYjJzdHlsZV9fcmVzdWx0IGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7DQogIHJldHVybiA6OmJzdHlsZTo6Zml0X2luX2xvbmcocmVzdWx0KTsNCn0NCg0KaW50IG1vZChpbnQgaSwgaW50IGopIHsNCiAgaW50IHJlc3VsdDsNCiAgbG9naWMgImRpdmlkZSBAQHByZWZpeGVzQHRlbXBzQHN0cmluZyBiMnN0eWxlX19yZXN1bHQgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIDo6YnN0eWxlOjpmaXRfaW5faW50KHJlc3VsdCk7DQp9DQoNCmJpZ3VpbnQgcG93ZXIoYmlndWludCBpLCBiaWd1aW50IGopIHsNCiAgbG9naWMgInBvd2VyIGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIGk7DQp9DQoNCmxvbmcgcG93ZXIobG9uZyBpLCBsb25nIGopIHsNCiAgbG9naWMgInBvd2VyIGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIDo6YnN0eWxlOjpmaXRfaW5fbG9uZyhpKTsNCn0NCg0KaW50IHBvd2VyKGludCBpLCBpbnQgaikgew0KICBsb2dpYyAicG93ZXIgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gOjpic3R5bGU6OmZpdF9pbl9pbnQoaSk7DQp9DQoNCmJpZ3VpbnQgYml0X2FuZChiaWd1aW50IGksIGJpZ3VpbnQgaikgew0KICBsb2dpYyAiYW5kIGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIGk7DQp9DQoNCmxvbmcgYml0X2FuZChsb25nIGksIGxvbmcgaikgew0KICBsb2dpYyAiYW5kIGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIGk7DQp9DQoNCmludCBiaXRfYW5kKGludCBpLCBpbnQgaikgew0KICBsb2dpYyAiYW5kIGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIGk7DQp9DQoNCmJpZ3VpbnQgYml0X29yKGJpZ3VpbnQgaSwgYmlndWludCBqKSB7DQogIGxvZ2ljICJvciBiMnN0eWxlX19pIGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7DQogIHJldHVybiBpOw0KfQ0KDQpsb25nIGJpdF9vcihsb25nIGksIGxvbmcgaikgew0KICBsb2dpYyAib3IgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gaTsNCn0NCg0KaW50IGJpdF9vcihpbnQgaSwgaW50IGopIHsNCiAgbG9naWMgIm9yIGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIGk7DQp9DQoNCmJpZ3VpbnQgc2VsZl9pbmNfcG9zdChiaWd1aW50JiB4KSB7DQogIGJpZ3VpbnQgciA9IHg7DQogIGxvZ2ljICJhZGQgYjJzdHlsZV9feCBiMnN0eWxlX194IEBAcHJlZml4ZXNAY29uc3RhbnRzQGludF8xIjsNCiAgcmV0dXJuIHI7DQp9DQoNCmxvbmcgc2VsZl9pbmNfcG9zdChsb25nJiB4KSB7DQogIGxvbmcgciA9IHg7DQogIGxvZ2ljICJhZGQgYjJzdHlsZV9feCBiMnN0eWxlX194IEBAcHJlZml4ZXNAY29uc3RhbnRzQGludF8xIjsNCiAgcmV0dXJuIDo6YnN0eWxlOjpmaXRfaW5fbG9uZyhyKTsNCn0NCg0KaW50IHNlbGZfaW5jX3Bvc3QoaW50JiB4KSB7DQogIGludCByID0geDsNCiAgbG9naWMgImFkZCBiMnN0eWxlX194IGIyc3R5bGVfX3ggQEBwcmVmaXhlc0Bjb25zdGFudHNAaW50XzEiOw0KICByZXR1cm4gOjpic3R5bGU6OmZpdF9pbl9pbnQocik7DQp9DQoNCmJpZ3VpbnQgc2VsZl9kZWNfcG9zdChiaWd1aW50JiB4KSB7DQogIGJpZ3VpbnQgciA9IHg7DQogIGxvZ2ljICJzdWJ0cmFjdCBiMnN0eWxlX194IGIyc3R5bGVfX3ggQEBwcmVmaXhlc0Bjb25zdGFudHNAaW50XzEiOw0KICByZXR1cm4gcjsNCn0NCg0KbG9uZyBzZWxmX2RlY19wb3N0KGxvbmcmIHgpIHsNCiAgbG9uZyByID0geDsNCiAgbG9naWMgInN1YnRyYWN0IGIyc3R5bGVfX3ggYjJzdHlsZV9feCBAQHByZWZpeGVzQGNvbnN0YW50c0BpbnRfMSI7DQogIHJldHVybiA6OmJzdHlsZTo6Zml0X2luX2xvbmcocik7DQp9DQoNCmludCBzZWxmX2RlY19wb3N0KGludCYgeCkgew0KICBpbnQgciA9IHg7DQogIGxvZ2ljICJzdWJ0cmFjdCBiMnN0eWxlX194IGIyc3R5bGVfX3ggQEBwcmVmaXhlc0Bjb25zdGFudHNAaW50XzEiOw0KICByZXR1cm4gOjpic3R5bGU6OmZpdF9pbl9pbnQocik7DQp9DQoNCmJpZ3VpbnQgc2VsZl9pbmNfcHJlKGJpZ3VpbnQmIHgpIHsNCiAgbG9naWMgImFkZCBiMnN0eWxlX194IGIyc3R5bGVfX3ggQEBwcmVmaXhlc0Bjb25zdGFudHNAaW50XzEiOw0KICByZXR1cm4geDsNCn0NCg0KbG9uZyBzZWxmX2luY19wcmUobG9uZyYgeCkgew0KICBsb2dpYyAiYWRkIGIyc3R5bGVfX3ggYjJzdHlsZV9feCBAQHByZWZpeGVzQGNvbnN0YW50c0BpbnRfMSI7DQogIHJldHVybiA6OmJzdHlsZTo6Zml0X2luX2xvbmcoeCk7DQp9DQoNCmludCBzZWxmX2luY19wcmUoaW50JiB4KSB7DQogIGxvZ2ljICJhZGQgYjJzdHlsZV9feCBiMnN0eWxlX194IEBAcHJlZml4ZXNAY29uc3RhbnRzQGludF8xIjsNCiAgcmV0dXJuIDo6YnN0eWxlOjpmaXRfaW5faW50KHgpOw0KfQ0KDQpiaWd1aW50IHNlbGZfZGVjX3ByZShiaWd1aW50JiB4KSB7DQogIGxvZ2ljICJzdWJ0cmFjdCBiMnN0eWxlX194IGIyc3R5bGVfX3ggQEBwcmVmaXhlc0Bjb25zdGFudHNAaW50XzEiOw0KICByZXR1cm4geDsNCn0NCg0KbG9uZyBzZWxmX2RlY19wcmUobG9uZyYgeCkgew0KICBsb2dpYyAic3VidHJhY3QgYjJzdHlsZV9feCBiMnN0eWxlX194IEBAcHJlZml4ZXNAY29uc3RhbnRzQGludF8xIjsNCiAgcmV0dXJuIDo6YnN0eWxlOjpmaXRfaW5fbG9uZyh4KTsNCn0NCg0KaW50IHNlbGZfZGVjX3ByZShpbnQmIHgpIHsNCiAgbG9naWMgInN1YnRyYWN0IGIyc3R5bGVfX3ggYjJzdHlsZV9feCBAQHByZWZpeGVzQGNvbnN0YW50c0BpbnRfMSI7DQogIHJldHVybiA6OmJzdHlsZTo6Zml0X2luX2ludCh4KTsNCn0NCg0KYmlndWludCBleHRyYWN0KGJpZ3VpbnQgaSwgYmlndWludCBqKSB7DQogIGJpZ3VpbnQgcjsNCiAgbG9naWMgImV4dHJhY3QgYjJzdHlsZV9fciBAQHByZWZpeGVzQHRlbXBzQGJpZ3VpbnQgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIHI7DQp9DQoNCmJpZ3VpbnQgZXh0cmFjdF9yZW1haW5kZXIoYmlndWludCBpLCBiaWd1aW50IGopIHsNCiAgYmlndWludCByOw0KICBsb2dpYyAiZXh0cmFjdCBAQHByZWZpeGVzQHRlbXBzQGJpZ3VpbnQgYjJzdHlsZV9fciBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gcjsNCn0NCg0KYmlndWludCBsZWZ0X3NoaWZ0KGJpZ3VpbnQgaSwgYmlndWludCBqKSB7DQogIGJpZ3VpbnQgcjsNCiAgbG9naWMgImxlZnRfc2hpZnQgYjJzdHlsZV9fciBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gcjsNCn0NCg0KYmlndWludCByaWdodF9zaGlmdChiaWd1aW50IGksIGJpZ3VpbnQgaikgew0KICBiaWd1aW50IHI7DQogIGxvZ2ljICJyaWdodF9zaGlmdCBiMnN0eWxlX19yIGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7DQogIHJldHVybiByOw0KfQ0KDQpiaWd1aW50IGxlZnRfc2hpZnQoYmlndWludCBpLCBpbnQgaikgew0KICByZXR1cm4gbGVmdF9zaGlmdChpLCA6OmJzdHlsZTo6dG9fYmlndWludChqKSk7DQp9DQoNCmJpZ3VpbnQgcmlnaHRfc2hpZnQoYmlndWludCBpLCBpbnQgaikgew0KICByZXR1cm4gcmlnaHRfc2hpZnQoaSwgOjpic3R5bGU6OnRvX2JpZ3VpbnQoaikpOw0KfQ0KDQpiaWd1aW50IGxlZnRfc2hpZnQoYmlndWludCBpLCBsb25nIGopIHsNCiAgcmV0dXJuIGxlZnRfc2hpZnQoaSwgOjpic3R5bGU6OnRvX2JpZ3VpbnQoaikpOw0KfQ0KDQpiaWd1aW50IHJpZ2h0X3NoaWZ0KGJpZ3VpbnQgaSwgbG9uZyBqKSB7DQogIHJldHVybiByaWdodF9zaGlmdChpLCA6OmJzdHlsZTo6dG9fYmlndWludChqKSk7DQp9DQoNCmludCBsZWZ0X3NoaWZ0KGludCBpLCBpbnQgaikgew0KICByZXR1cm4gOjpic3R5bGU6OnRvX2ludCgNCiAgICBsZWZ0X3NoaWZ0KDo6YnN0eWxlOjp0b19iaWd1aW50KGkpLA0KICAgICAgICAgICAgICAgOjpic3R5bGU6OnRvX2JpZ3VpbnQoaikpDQogICk7DQp9DQoNCmludCByaWdodF9zaGlmdChpbnQgaSwgaW50IGopIHsNCiAgcmV0dXJuIDo6YnN0eWxlOjp0b19pbnQoDQogICAgcmlnaHRfc2hpZnQoOjpic3R5bGU6OnRvX2JpZ3VpbnQoaSksDQogICAgICAgICAgICAgICAgOjpic3R5bGU6OnRvX2JpZ3VpbnQoaikpDQogICk7DQp9DQoNCmxvbmcgbGVmdF9zaGlmdChsb25nIGksIGxvbmcgaikgew0KICByZXR1cm4gOjpic3R5bGU6OnRvX2xvbmcoDQogICAgbGVmdF9zaGlmdCg6OmJzdHlsZTo6dG9fYmlndWludChpKSwNCiAgICAgICAgICAgICAgIDo6YnN0eWxlOjp0b19iaWd1aW50KGopKQ0KICApOw0KfQ0KDQpsb25nIHJpZ2h0X3NoaWZ0KGxvbmcgaSwgbG9uZyBqKSB7DQogIHJldHVybiA6OmJzdHlsZTo6dG9fbG9uZygNCiAgICByaWdodF9zaGlmdCg6OmJzdHlsZTo6dG9fYmlndWludChpKSwNCiAgICAgICAgICAgICAgICA6OmJzdHlsZTo6dG9fYmlndWludChqKSkNCiAgKTsNCn0NCg0KfSAgLy8gbmFtZXNwYWNlIGIyc3R5bGUNCg0KI2VuZGlmICAvLyBCMlNUWUxFX0xJQl9CMlNUWUxFX09QRVJBVE9SU19IDwAAAGIyc3R5bGVfc3RkaW8uaLIGAADvu78NCiNpZm5kZWYgQjJTVFlMRV9MSUJfQjJTVFlMRV9TVERJT19IDQojZGVmaW5lIEIyU1RZTEVfTElCX0IyU1RZTEVfU1RESU9fSA0KDQojaW5jbHVkZSA8YnN0eWxlLmg+DQojaW5jbHVkZSA8YjJzdHlsZV90eXBlcy5oPg0KI2luY2x1ZGUgPGIyc3R5bGVfb3BlcmF0b3JzLmg+DQoNCm5hbWVzcGFjZSBiMnN0eWxlIHsNCg0Kdm9pZCBzdGRfb3V0KHN0cmluZyBpKSB7DQogIGxvZ2ljICJpbnRlcnJ1cHQgc3Rkb3V0IGIyc3R5bGVfX2kgQEBwcmVmaXhlc0B0ZW1wc0BzdHJpbmciOw0KfQ0KDQp2b2lkIHN0ZF9lcnIoc3RyaW5nIGkpIHsNCiAgbG9naWMgImludGVycnVwdCBzdGRlcnIgYjJzdHlsZV9faSBAQHByZWZpeGVzQHRlbXBzQHN0cmluZyI7DQp9DQoNCnZvaWQgc3RkX291dChib29sIGkpIHsNCiAgaWYgKGkpIHsNCiAgICBzdGRfb3V0KCJUcnVlIik7DQogIH0NCiAgZWxzZSB7DQogICAgc3RkX291dCgiRmFsc2UiKTsNCiAgfQ0KfQ0KDQp2b2lkIHN0ZF9lcnIoYm9vbCBpKSB7DQogIGlmIChpKSB7DQogICAgc3RkX2VycigiVHJ1ZSIpOw0KICB9DQogIGVsc2Ugew0KICAgIHN0ZF9lcnIoIkZhbHNlIik7DQogIH0NCn0NCg0Kc3RyaW5nIGxlZ2FjeV9iaWd1aW50X3RvX3N0cihiaWd1aW50IGkpIHsNCiAgaWYgKGVxdWFsKGksIDBMKSkgew0KICAgIHJldHVybiAiMCI7DQogIH0NCiAgc3RyaW5nIHM7DQogIHdoaWxlIChncmVhdGVyX3RoYW4oaSwgMEwpKSB7DQogICAgaW50IGIgPSA6OmJzdHlsZTo6dG9faW50KG1vZChpLCAxMEwpKTsNCiAgICBpID0gZGl2aWRlKGksIDEwTCk7DQogICAgYiA9IGFkZChiLCA0OCk7DQogICAgcyA9IDo6YnN0eWxlOjpzdHJfY29uY2F0KDo6YnN0eWxlOjp0b19zdHIoOjpic3R5bGU6OnRvX2J5dGUoYikpLCBzKTsNCiAgfQ0KICByZXR1cm4gczsNCn0NCg0Kc3RyaW5nIGJpZ3VpbnRfdG9fc3RyKGJpZ3VpbnQgaSkgew0KICA6OmJzdHlsZTo6bG9hZF9tZXRob2QoImJpZ191aW50X3RvX3N0ciIpOw0KICBzdHJpbmcgcmVzdWx0Ow0KICBsb2dpYyAiaW50ZXJydXB0IGV4ZWN1dGVfbG9hZGVkX21ldGhvZCBiMnN0eWxlX19pIGIyc3R5bGVfX3Jlc3VsdCI7DQogIHJldHVybiByZXN1bHQ7DQp9DQoNCnN0cmluZyBpbnRfdG9fc3RyKGludCBpKSB7DQogIGlmIChncmVhdGVyX3RoYW4oaSwgMjE0NzQ4MzY0NykpIHsNCiAgICBpID0gbWludXMoaSwgMjE0NzQ4MzY0Nyk7DQogICAgaSA9IG1pbnVzKDIxNDc0ODM2NDcsIGkpOw0KICAgIGkgPSBhZGQoaSwgMik7DQogICAgc3RyaW5nIHMgPSAiLSI7DQogICAgcmV0dXJuIDo6YnN0eWxlOjpzdHJfY29uY2F0KHMsIGJpZ3VpbnRfdG9fc3RyKDo6YnN0eWxlOjp0b19iaWd1aW50KGkpKSk7DQogIH0NCiAgcmV0dXJuIGJpZ3VpbnRfdG9fc3RyKDo6YnN0eWxlOjp0b19iaWd1aW50KGkpKTsNCn0NCg0Kdm9pZCBzdGRfb3V0KGJpZ3VpbnQgaSkgew0KICBzdGRfb3V0KGJpZ3VpbnRfdG9fc3RyKGkpKTsNCn0NCg0Kdm9pZCBzdGRfZXJyKGJpZ3VpbnQgaSkgew0KICBzdGRfZXJyKGJpZ3VpbnRfdG9fc3RyKGkpKTsNCn0NCg0Kdm9pZCBzdGRfb3V0KGludCBpKSB7DQogIHN0ZF9vdXQoaW50X3RvX3N0cihpKSk7DQp9DQoNCnZvaWQgc3RkX2VycihpbnQgaSkgew0KICBzdGRfZXJyKGludF90b19zdHIoaSkpOw0KfQ0KDQp9ICAvLyBuYW1lc3BhY2UgYjJzdHlsZQ0KDQojZW5kaWYgIC8vIEIyU1RZTEVfTElCX0IyU1RZTEVfU1RESU9fSA0KDwAAAGIyc3R5bGVfdHlwZXMuaKkBAADvu78NCiNpZm5kZWYgQjJTVFlMRV9MSUJfQjJTVFlMRV9UWVBFU19IDQojZGVmaW5lIEIyU1RZTEVfTElCX0IyU1RZTEVfVFlQRVNfSA0KDQojaW5jbHVkZSA8YnN0eWxlLmg+DQoNCi8vIFRPRE86IFNlYXJjaCB0eXBlcyBpbiBwYXJlbnQgc2NvcGVzLg0KbmFtZXNwYWNlIGIyc3R5bGUgew0KDQp0eXBlZGVmIDo6c3RyaW5nIHN0cmluZzsNCnR5cGVkZWYgOjp2b2lkIHZvaWQ7DQp0eXBlZGVmIDo6Ym9vbCBib29sOw0KdHlwZWRlZiA6OmJpZ3VpbnQgYmlndWludDsNCnR5cGVkZWYgOjpsb25nIGxvbmc7DQp0eXBlZGVmIDo6aW50IGludDsNCnR5cGVkZWYgOjpieXRlIGJ5dGU7DQp0eXBlZGVmIDo6dWZsb2F0IHVmbG9hdDsNCg0KfSAgLy8gbmFtZXNwYWNlIGIyc3R5bGUNCg0KI2VuZGlmICAvLyBCMlNUWUxFX0xJQl9CMlNUWUxFX1RZUEVTX0gNChAAAABiMnN0eWxlX3VmbG9hdC5oOw0AAO+7vw0KI2lmbmRlZiBCMlNUWUxFX0xJQl9CMlNUWUxFX1VGTE9BVF9IDQojZGVmaW5lIEIyU1RZTEVfTElCX0IyU1RZTEVfVUZMT0FUX0gNCg0KI2luY2x1ZGUgPGJzdHlsZS5oPg0KI2luY2x1ZGUgPGIyc3R5bGVfdHlwZXMuaD4NCg0KbmFtZXNwYWNlIGIyc3R5bGUgew0KDQpib29sIGVxdWFsKHVmbG9hdCBpLCB1ZmxvYXQgaikgew0KICBib29sIHJlc3VsdDsNCiAgbG9naWMgImZsb2F0X2VxdWFsIGIyc3R5bGVfX3Jlc3VsdCBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gcmVzdWx0Ow0KfQ0KDQpib29sIG5vdF9lcXVhbCh1ZmxvYXQgaSwgdWZsb2F0IGopIHsNCiAgYm9vbCByZXN1bHQ7DQogIGxvZ2ljICJmbG9hdF9lcXVhbCBiMnN0eWxlX19yZXN1bHQgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIG5vdChyZXN1bHQpOw0KfQ0KDQpib29sIGdyZWF0ZXJfdGhhbih1ZmxvYXQgaSwgdWZsb2F0IGopIHsNCiAgYm9vbCByZXN1bHQ7DQogIGxvZ2ljICJmbG9hdF9tb3JlIGIyc3R5bGVfX3Jlc3VsdCBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gcmVzdWx0Ow0KfQ0KDQpib29sIGdyZWF0ZXJfb3JfZXF1YWwodWZsb2F0IGksIHVmbG9hdCBqKSB7DQogIHJldHVybiBvcihncmVhdGVyX3RoYW4oaSwgaiksIGVxdWFsKGksIGopKTsNCn0NCg0KYm9vbCBsZXNzX3RoYW4odWZsb2F0IGksIHVmbG9hdCBqKSB7DQogIGJvb2wgcmVzdWx0Ow0KICBsb2dpYyAiZmxvYXRfbGVzcyBiMnN0eWxlX19yZXN1bHQgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIHJlc3VsdDsNCn0NCg0KYm9vbCBsZXNzX29yX2VxdWFsKHVmbG9hdCBpLCB1ZmxvYXQgaikgew0KICByZXR1cm4gb3IobGVzc190aGFuKGksIGopLCBlcXVhbChpLCBqKSk7DQp9DQoNCnVmbG9hdCBhZGQodWZsb2F0IGksIHVmbG9hdCBqKSB7DQogIGxvZ2ljICJmbG9hdF9hZGQgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gaTsNCn0NCg0KdWZsb2F0IG1pbnVzKHVmbG9hdCBpLCB1ZmxvYXQgaikgew0KICBsb2dpYyAiZmxvYXRfc3VidHJhY3QgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gaTsNCn0NCg0KdWZsb2F0IG11bHRpcGx5KHVmbG9hdCBpLCB1ZmxvYXQgaikgew0KICBsb2dpYyAiZmxvYXRfbXVsdGlwbHkgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gaTsNCn0NCg0KdWZsb2F0IGRpdmlkZSh1ZmxvYXQgaSwgdWZsb2F0IGopIHsNCiAgdWZsb2F0IHJlc3VsdDsNCiAgbG9naWMgImZsb2F0X2RpdmlkZSBiMnN0eWxlX19yZXN1bHQgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsNCiAgcmV0dXJuIHJlc3VsdDsNCn0NCg0KdWZsb2F0IHBvd2VyKHVmbG9hdCBpLCB1ZmxvYXQgaikgew0KICBsb2dpYyAiZmxvYXRfcG93ZXIgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOw0KICByZXR1cm4gaTsNCn0NCg0Kc3RyaW5nIHVmbG9hdF90b19zdHIodWZsb2F0IGkpIHsNCiAgOjpic3R5bGU6OmxvYWRfbWV0aG9kKCJiaWdfdWRlY190b19zdHIiKTsNCiAgc3RyaW5nIHJlc3VsdDsNCiAgbG9naWMgImludGVycnVwdCBleGVjdXRlX2xvYWRlZF9tZXRob2QgYjJzdHlsZV9faSBiMnN0eWxlX19yZXN1bHQiOw0KICByZXR1cm4gcmVzdWx0Ow0KfQ0KDQp2b2lkIHN0ZF9vdXQodWZsb2F0IGkpIHsNCiAgc3RkX291dCh1ZmxvYXRfdG9fc3RyKGkpKTsNCn0NCg0Kdm9pZCBzdGRfZXJyKHVmbG9hdCBpKSB7DQogIHN0ZF9lcnIodWZsb2F0X3RvX3N0cihpKSk7DQp9DQoNCnVmbG9hdCBzZWxmX2luY19wb3N0KHVmbG9hdCYgeCkgew0KICB1ZmxvYXQgciA9IHg7DQoJeCA9IGFkZCh4LCAxLjApOw0KICByZXR1cm4gcjsNCn0NCg0KdWZsb2F0IHNlbGZfZGVjX3Bvc3QodWZsb2F0JiB4KSB7DQogIHVmbG9hdCByID0geDsNCgl4ID0gbWludXMoeCwgMS4wKTsNCiAgcmV0dXJuIHI7DQp9DQoNCnVmbG9hdCBzZWxmX2luY19wcmUodWZsb2F0JiB4KSB7DQoJeCA9IGFkZCh4LCAxLjApOw0KICByZXR1cm4geDsNCn0NCg0KdWZsb2F0IHNlbGZfZGVjX3ByZSh1ZmxvYXQmIHgpIHsNCgl4ID0gbWludXMoeCwgMS4wKTsNCiAgcmV0dXJuIHg7DQp9DQoNCnVmbG9hdCB1ZmxvYXRfX2Zyb20oYmlndWludCBpKSB7DQogIDo6YnN0eWxlOjpsb2FkX21ldGhvZCgiYmlnX3VpbnRfdG9fYmlnX3VkZWMiKTsNCiAgdWZsb2F0IHJlc3VsdDsNCiAgbG9naWMgImludGVycnVwdCBleGVjdXRlX2xvYWRlZF9tZXRob2QgYjJzdHlsZV9faSBiMnN0eWxlX19yZXN1bHQiOw0KICByZXR1cm4gcmVzdWx0Ow0KfQ0KDQp1ZmxvYXQgdWZsb2F0X19mcm9tKGludCBpKSB7DQogIHJldHVybiB1ZmxvYXRfX2Zyb20oOjpic3R5bGU6OnRvX2JpZ3VpbnQoaSkpOw0KfQ0KDQp1ZmxvYXQgdWZsb2F0X19mcm9tKGxvbmcgaSkgew0KICByZXR1cm4gdWZsb2F0X19mcm9tKDo6YnN0eWxlOjp0b19iaWd1aW50KGkpKTsNCn0NCg0KdWZsb2F0IHVmbG9hdF9fZnJhY3Rpb24oYmlndWludCBuLCBiaWd1aW50IGQpIHsNCiAgdWZsb2F0IHJlc3VsdCA9IHVmbG9hdF9fZnJvbShuKTsNCiAgdWZsb2F0IHVkID0gdWZsb2F0X19mcm9tKGQpOw0KICByZXR1cm4gZGl2aWRlKHJlc3VsdCwgdWQpOw0KfQ0KDQp1ZmxvYXQgdWZsb2F0X19mcmFjdGlvbihiaWd1aW50IG4sIGludCBkKSB7DQogIHJldHVybiB1ZmxvYXRfX2ZyYWN0aW9uKG4sIDo6YnN0eWxlOjp0b19iaWd1aW50KGQpKTsNCn0NCg0KdWZsb2F0IHVmbG9hdF9fZnJhY3Rpb24oYmlndWludCBuLCBsb25nIGQpIHsNCiAgcmV0dXJuIHVmbG9hdF9fZnJhY3Rpb24obiwgOjpic3R5bGU6OnRvX2JpZ3VpbnQoZCkpOw0KfQ0KDQp1ZmxvYXQgdWZsb2F0X19mcmFjdGlvbihpbnQgbiwgYmlndWludCBkKSB7DQogIHJldHVybiB1ZmxvYXRfX2ZyYWN0aW9uKDo6YnN0eWxlOjp0b19iaWd1aW50KG4pLCBkKTsNCn0NCg0KdWZsb2F0IHVmbG9hdF9fZnJhY3Rpb24obG9uZyBuLCBiaWd1aW50IGQpIHsNCiAgcmV0dXJuIHVmbG9hdF9fZnJhY3Rpb24oOjpic3R5bGU6OnRvX2JpZ3VpbnQobiksIGQpOw0KfQ0KDQp1ZmxvYXQgdWZsb2F0X19mcmFjdGlvbihpbnQgbiwgaW50IGQpIHsNCiAgcmV0dXJuIHVmbG9hdF9fZnJhY3Rpb24oOjpic3R5bGU6OnRvX2JpZ3VpbnQobiksIDo6YnN0eWxlOjp0b19iaWd1aW50KGQpKTsNCn0NCg0KdWZsb2F0IHVmbG9hdF9fZnJhY3Rpb24obG9uZyBuLCBsb25nIGQpIHsNCiAgcmV0dXJuIHVmbG9hdF9fZnJhY3Rpb24oOjpic3R5bGU6OnRvX2JpZ3VpbnQobiksIDo6YnN0eWxlOjp0b19iaWd1aW50KGQpKTsNCn0NCg0KfSAgLy8gbmFtZXNwYWNlIGIyc3R5bGUNCiNlbmRpZiAgLy8gQjJTVFlMRV9MSUJfQjJTVFlMRV9VRkxPQVRfSAcAAABydW4uY21kawAAAA0KZGVsIC9zICoudW5+DQouLlwuLlwuLlxyZXNvdXJjZVxnZW5cdGFyX2dlblxvc2kucm9vdC51dHQgdGFyX2dlbiAtLW91dHB1dD1iMnN0eWxlX2xpYg0KbW92ZSAvWSAqLnZiIC4uXA0KCQAAAHRlc3RpbmcuaH4BAAANCiNpZm5kZWYgVEVTVElOR19URVNUSU5HX0gNCiNkZWZpbmUgVEVTVElOR19URVNUSU5HX0gNCg0KI2luY2x1ZGUgPHRlc3RpbmcvdHlwZXMuaD4NCiNpbmNsdWRlIDx0ZXN0aW5nL2Fzc2VydC5oPg0KDQpuYW1lc3BhY2UgYjJzdHlsZSB7DQpuYW1lc3BhY2UgdGVzdGluZyB7DQoNCnZvaWQgZmluaXNoZWQoKSB7DQogIDo6YjJzdHlsZTo6c3RkX291dCgiVG90YWwgYXNzZXJ0aW9uczogIik7DQogIDo6YjJzdHlsZTo6c3RkX291dChfYXNzZXJ0aW9uX2NvdW50KTsNCiAgOjpiMnN0eWxlOjpzdGRfb3V0KCJcbiIpOw0KfQ0KDQp9ICAvLyBuYW1lc3BhY2UgdGVzdGluZw0KfSAgLy8gbmFtZXNwYWNlIGIyc3R5bGUNCg0KI2VuZGlmICAvLyBURVNUSU5HX1RFU1RJTkdfSA0KCwAAAHN0ZC90eXBlcy5oagEAAO+7vw0KI2lmbmRlZiBCMlNUWUxFX0xJQl9TVERfVFlQRVNfSA0KI2RlZmluZSBCMlNUWUxFX0xJQl9TVERfVFlQRVNfSA0KDQojaW5jbHVkZSA8YnN0eWxlLmg+DQoNCm5hbWVzcGFjZSBzdGQgew0KDQp0eXBlZGVmIDo6c3RyaW5nIHN0cmluZzsNCnR5cGVkZWYgOjp2b2lkIHZvaWQ7DQp0eXBlZGVmIDo6Ym9vbCBib29sOw0KdHlwZWRlZiA6OmJpZ3VpbnQgYmlndWludDsNCnR5cGVkZWYgOjpsb25nIGxvbmc7DQp0eXBlZGVmIDo6aW50IGludDsNCnR5cGVkZWYgOjpieXRlIGJ5dGU7DQp0eXBlZGVmIDo6dWZsb2F0IHVmbG9hdDsNCg0KfSAgLy8gbmFtZXNwYWNlIHN0ZA0KDQojZW5kaWYgIC8vIEIyU1RZTEVfTElCX1NURF9UWVBFU19ICgAAAHN0ZC92ZWN0b3I3BQAA77u/DQojaWZuZGVmIEIyU1RZTEVfTElCX1NURF9WRUNUT1INCiNkZWZpbmUgQjJTVFlMRV9MSUJfU1REX1ZFQ1RPUg0KDQojaW5jbHVkZSA8YjJzdHlsZS5oPg0KI2luY2x1ZGUgPGFzc2VydC5oPg0KI2luY2x1ZGUgPHN0ZC90eXBlcy5oPg0KDQpuYW1lc3BhY2Ugc3RkIHsNCg0KdGVtcGxhdGUgPFQ+DQpjbGFzcyB2ZWN0b3Igew0KICBUIF9hOw0KICBpbnQgX3M7DQogIGludCBfYzsNCg0KICBpbnQgc2l6ZSgpIHsNCiAgICByZXR1cm4gdGhpcy5fczsNCiAgfQ0KDQogIGludCBjYXBhY2l0eSgpIHsNCiAgICByZXR1cm4gdGhpcy5fYzsNCiAgfQ0KDQogIFQgZ2V0KGludCBpbmRleCkgew0KICAgIDo6YXNzZXJ0KGluZGV4ID49IDAsICJnZXQiKTsNCiAgICA6OmFzc2VydChpbmRleCA8IHRoaXMuc2l6ZSgpLCAiZ2V0Iik7DQogICAgcmV0dXJuIHRoaXMuX2FbaW5kZXhdOyANCiAgfQ0KDQogIHZvaWQgc2V0KGludCBpbmRleCwgVCB2KSB7DQogICAgOjphc3NlcnQoaW5kZXggPj0gMCwgInNldCIpOw0KICAgIDo6YXNzZXJ0KGluZGV4IDwgdGhpcy5zaXplKCksICJzZXQiKTsNCiAgICB0aGlzLl9hW2luZGV4XSA9IHY7DQogIH0NCg0KICB2b2lkIHJlc2VydmUoaW50IHNpemUpIHsNCiAgICBUIHhbc2l6ZV07DQogICAgZm9yIChpbnQgaSA9IDA7IGkgPCB0aGlzLnNpemUoKTsgaSsrKSB7DQogICAgICB4W2ldID0gdGhpcy5nZXQoaSk7DQogICAgfQ0KICAgIHRoaXMuX2EgPSB4Ow0KICAgIGxvZ2ljICJ1bmRlZmluZSBzdGRfX3giOw0KICAgIHRoaXMuX2MgPSBzaXplOw0KICB9DQoNCiAgdm9pZCBjb25zdHJ1Y3QoaW50IHNpemUpIHsNCiAgICB0aGlzLnJlc2VydmUoc2l6ZSk7DQogIH0NCg0KICB2b2lkIGNvbnN0cnVjdCgpIHsNCiAgICB0aGlzLnJlc2VydmUoNCk7DQogIH0NCg0KICB2b2lkIGRlc3RydWN0KCkgew0KICAgIGxvZ2ljICJkZWFsbG9jX2hlYXAgc3RkX190aGlzLl9hIjsNCiAgfQ0KDQogIHZvaWQgcHVzaF9iYWNrKFQgdikgew0KICAgIGlmICh0aGlzLnNpemUoKSA9PSB0aGlzLmNhcGFjaXR5KCkpIHsNCiAgICAgIHRoaXMucmVzZXJ2ZSh0aGlzLmNhcGFjaXR5KCkgPDwgMSk7DQogICAgfQ0KICAgIHRoaXMuX3MrKzsNCiAgICB0aGlzLnNldCh0aGlzLnNpemUoKSAtIDEsIHYpOw0KICB9DQoNCiAgdm9pZCBwb3BfYmFjaygpIHsNCiAgICA6OmFzc2VydCh0aGlzLnNpemUoKSA+IDAsICJwb3BfYmFjayIpOw0KICAgIHRoaXMuX3MtLTsNCiAgfQ0KDQogIHZvaWQgY2xlYXIoKSB7DQogICAgdGhpcy5fcyA9IDA7DQogIH0NCn07DQoNCn0gIC8vIG5hbWVzcGFjZSBzdGQNCg0KI2VuZGlmICAvLyBCMlNUWUxFX0xJQl9TVERfVkVDVE9SEAAAAHRlc3RpbmcvYXNzZXJ0LmjXAwAA77u/DQojaWZuZGVmIEIyU1RZTEVfTElCX1RFU1RJTkdfQVNTRVJUX0gNCiNkZWZpbmUgQjJTVFlMRV9MSUJfVEVTVElOR19BU1NFUlRfSA0KDQojaW5jbHVkZSA8YnN0eWxlLmg+DQojaW5jbHVkZSA8dGVzdGluZy90eXBlcy5oPg0KDQpuYW1lc3BhY2UgYjJzdHlsZSB7DQpuYW1lc3BhY2UgdGVzdGluZyB7DQoNCmludCBfYXNzZXJ0aW9uX2NvdW50ID0gMDsNCg0Kdm9pZCBhc3NlcnRfdHJ1ZShib29sIHYsIHN0cmluZyBtc2cpIHsNCiAgX2Fzc2VydGlvbl9jb3VudCsrOw0KICBzdHJpbmcgcHJlZml4Ow0KICBpZiAodikgew0KICAgIHByZWZpeCA9ICJTdWNjZXNzOiAiOw0KICB9IGVsc2Ugew0KICAgIHByZWZpeCA9ICJGYWlsdXJlOiAiOw0KICB9DQogIDo6YjJzdHlsZTo6c3RkX291dChwcmVmaXgpOw0KICA6OmIyc3R5bGU6OnN0ZF9vdXQobXNnKTsNCiAgOjpiMnN0eWxlOjpzdGRfb3V0KCJcbiIpOw0KfQ0KDQp2b2lkIGFzc2VydF90cnVlKGJvb2wgdikgew0KICBhc3NlcnRfdHJ1ZSh2LCAibm8gZXh0cmEgaW5mb3JtYXRpb24uIik7DQp9DQoNCi8qDQpUT0RPOiBNYWtlIHRoaXMgd29yay4gQ3VycmVudGx5IGFzc2VydF9lcXVhbF9fMiBjb25mbGljdHMgd2l0aCB0aGUgZm9sbG93aW5nIG9uZS4NCnRlbXBsYXRlIDxULCBUMj4NCnZvaWQgYXNzZXJ0X2VxdWFsKFQgdCwgVDIgdDIsIHN0cmluZyBtc2cpIHsNCiAgYXNzZXJ0X3RydWUodCA9PSB0MiwgbXNnKTsNCn0NCiovDQoNCnRlbXBsYXRlIDxULCBUMj4NCnZvaWQgYXNzZXJ0X2VxdWFsKFQgdCwgVDIgdDIpIHsNCiAgYXNzZXJ0X3RydWUodCA9PSB0Mik7DQp9DQoNCnRlbXBsYXRlIDxUPg0Kdm9pZCBhc3NlcnRfZXF1YWwoVCB0LCBUIHQyKSB7DQogIGFzc2VydF9lcXVhbDxULCBUPih0LCB0Mik7DQp9DQoNCn0gIC8vIG5hbWVzcGFjZSB0ZXN0aW5nDQp9ICAvLyBuYW1lc3BhY2UgYjJzdHlsZQ0KDQojZW5kaWYgIC8vIEIyU1RZTEVfTElCX1RFU1RJTkdfQVNTRVJUX0gPAAAAdGVzdGluZy90eXBlcy5oMgEAAA0KI2lmbmRlZiBCMlNUWUxFX0xJQl9URVNUSU5HX1RZUEVTX0gNCiNkZWZpbmUgQjJTVFlMRV9MSUJfVEVTVElOR19UWVBFU19IDQoNCm5hbWVzcGFjZSBiMnN0eWxlIHsNCm5hbWVzcGFjZSB0ZXN0aW5nIHsNCg0KdHlwZWRlZiA6OnN0cmluZyBzdHJpbmc7DQp0eXBlZGVmIDo6dm9pZCB2b2lkOw0KdHlwZWRlZiA6OmJvb2wgYm9vbDsNCnR5cGVkZWYgOjppbnQgaW50Ow0KDQoNCn0gIC8vIG5hbWVzcGFjZSB0ZXN0aW5nDQp9ICAvLyBuYWVtc3BhY2UgYjJzdHlsZQ0KDQojZW5kaWYgIC8vIEIyU1RZTEVfTElCX1RFU1RJTkdfVFlQRVNfSA=="
        ))
End Class
