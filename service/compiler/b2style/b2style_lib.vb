Option Explicit On
Option Infer Off
Option Strict On
Imports osi.root.connector
Public NotInheritable Class b2style_lib
    Private Sub New()
    End Sub
    Public Shared ReadOnly data() As Byte = 
        Convert.FromBase64String(strcat_hint(CUInt(33313), 
            "CAAAAGFzc2VydC5oOAIAAO+7vwojaWZuZGVmIEIyU1RZTEVfTElCX0FTU0VSVF9ICiNkZWZpbmUgQjJTVFlMRV9MSUJfQVNTRVJUX0gKCiNpbmNsdWRlIDxiMnN0eWxlL3N0ZGlvLmg+CiNpbmNsdWRlIDxiMnN0eWxlL3R5cGVzLmg+CiNpbmNsdWRlIDxic3R5bGUvc3RyLmg+Cgp2b2lkIGFzc2VydChzdHJpbmcgc3RhdGVtZW50LCBib29sIHYsIHN0cmluZyBtc2cpIHsKICBpZiAodikgcmV0dXJuOwogIGlmIChzdHJfZW1wdHkoc3RhdGVtZW50KSkgewogICAgYjJzdHlsZTo6c3RkX291dChtc2cpOwogIH0gZWxzZSB7CiAgICBiMnN0eWxlOjpzdGRfb3V0KHN0YXRlbWVudCArICI6ICIgKyBtc2cpOwogIH0KICBsb2dpYyAic3RvcCI7Cn0KCnZvaWQgYXNzZXJ0KGJvb2wgdiwgc3RyaW5nIG1zZykgewogIGFzc2VydCgiIiwgdiwgbXNnKTsKfQoKdm9pZCBhc3NlcnQoc3RyaW5nIHN0YXRlbWVudCwgYm9vbCB2KSB7CiAgYXNzZXJ0KHN0YXRlbWVudCwgdiwgIkFzc2VydGlvbiBmYWlsdXJlIik7Cn0KCnZvaWQgYXNzZXJ0KGJvb2wgdikgewogIGFzc2VydCgiIiwgdik7Cn0KCiNlbmRpZiAgLy8gQjJTVFlMRV9MSUJfQVNTRVJUX0gJAAAAYjJzdHlsZS5o6wAAAO+7vw0KI2lmbmRlZiBCMlNUWUxFX0xJQl9CMlNUWUxFX0gNCiNkZWZpbmUgQjJTVFlMRV9MSUJfQjJTVFlMRV9IDQoNCiNpbmNsdWRlIDxic3R5bGUuaD4NCg0KI2luY2x1ZGUgPGIyc3R5bGUvb3BlcmF0b3JzLmg+DQoNCi8vIFVuc3VwcG9ydGVkIHlldC4NCiNpZm5kZWYgQjNTVFlMRQ0KI2luY2x1ZGUgPGIyc3R5bGUvdWZsb2F0Lmg+DQojZW5kaWYNCg0KI2VuZGlmICAvLyBCMlNUWUxFX0xJQl9CMlNUWUxFX0gHAAAAcnVuLmNtZGsAAAANCmRlbCAvcyAqLnVufg0KLi5cLi5cLi5ccmVzb3VyY2VcZ2VuXHRhcl9nZW5cb3NpLnJvb3QudXR0IHRhcl9nZW4gLS1vdXRwdXQ9YjJzdHlsZV9saWINCm1vdmUgL1kgKi52YiAuLlwNCgkAAAB0ZXN0aW5nLmiFAQAACiNpZm5kZWYgVEVTVElOR19URVNUSU5HX0gKI2RlZmluZSBURVNUSU5HX1RFU1RJTkdfSAoKI2luY2x1ZGUgPGIyc3R5bGUvc3RkaW8uaD4KI2luY2x1ZGUgPHRlc3RpbmcvdHlwZXMuaD4KI2luY2x1ZGUgPHRlc3RpbmcvYXNzZXJ0Lmg+CgpuYW1lc3BhY2UgYjJzdHlsZSB7Cm5hbWVzcGFjZSB0ZXN0aW5nIHsKCnZvaWQgZmluaXNoZWQoKSB7CiAgOjpiMnN0eWxlOjpzdGRfb3V0KCJUb3RhbCBhc3NlcnRpb25zOiAiKTsKICA6OmIyc3R5bGU6OnN0ZF9vdXQoX2Fzc2VydGlvbl9jb3VudCk7CiAgOjpiMnN0eWxlOjpzdGRfb3V0KCJcbiIpOwp9Cgp9ICAvLyBuYW1lc3BhY2UgdGVzdGluZwp9ICAvLyBuYW1lc3BhY2UgYjJzdHlsZQoKI2VuZGlmICAvLyBURVNUSU5HX1RFU1RJTkdfSAoTAAAAYjJzdHlsZS9kZWxlZ2F0ZXMuaJgHAADvu78KI2lmbmRlZiBCMlNUWUxFX0xJQl9CMlNUWUxFX0RFTEVHQVRFU19ICiNkZWZpbmUgQjJTVFlMRV9MSUJfQjJTVFlMRV9ERUxFR0FURVNfSAoKI2luY2x1ZGUgPGIyc3R5bGUvdHlwZXMuaD4KCm5hbWVzcGFjZSBiMnN0eWxlIHsKCnRlbXBsYXRlIDxSVD4KZGVsZWdhdGUgUlQgZnVuY3Rpb24oKTsKCnRlbXBsYXRlIDxULCBSVD4KZGVsZWdhdGUgUlQgZnVuY3Rpb24oVCk7Cgp0ZW1wbGF0ZSA8VCwgVDIsIFJUPgpkZWxlZ2F0ZSBSVCBmdW5jdGlvbihULCBUMik7Cgp0ZW1wbGF0ZSA8VCwgVDIsIFQzLCBSVD4KZGVsZWdhdGUgUlQgZnVuY3Rpb24oVCwgVDIsIFQzKTsKCnRlbXBsYXRlIDxULCBUMiwgVDMsIFQ0LCBSVD4KZGVsZWdhdGUgUlQgZnVuY3Rpb24oVCwgVDIsIFQzLCBUNCk7Cgp0ZW1wbGF0ZSA8VCwgVDIsIFQzLCBUNCwgVDUsIFJUPgpkZWxlZ2F0ZSBSVCBmdW5jdGlvbihULCBUMiwgVDMsIFQ0LCBUNSk7Cgp0ZW1wbGF0ZSA8VCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBSVD4KZGVsZWdhdGUgUlQgZnVuY3Rpb24oVCwgVDIsIFQzLCBUNCwgVDUsIFQ2KTsKCnRlbXBsYXRlIDxULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBSVD4KZGVsZWdhdGUgUlQgZnVuY3Rpb24oVCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNyk7Cgp0ZW1wbGF0ZSA8VCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFJUPgpkZWxlZ2F0ZSBSVCBmdW5jdGlvbihULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCk7Cgp0ZW1wbGF0ZSA8VCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBSVD4KZGVsZWdhdGUgUlQgZnVuY3Rpb24oVCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5KTsKCnRlbXBsYXRlIDxULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgUlQ+CmRlbGVnYXRlIFJUIGZ1bmN0aW9uKFQsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwKTsKCnRlbXBsYXRlIDxULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBSVD4KZGVsZWdhdGUgUlQgZnVuY3Rpb24oVCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSk7Cgp0ZW1wbGF0ZSA8VCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBSVD4KZGVsZWdhdGUgUlQgZnVuY3Rpb24oVCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyKTsKCnRlbXBsYXRlIDxULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgUlQ+CmRlbGVnYXRlIFJUIGZ1bmN0aW9uKFQsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzKTsKCnRlbXBsYXRlIDxULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBSVD4KZGVsZWdhdGUgUlQgZnVuY3Rpb24oVCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCk7Cgp0ZW1wbGF0ZSA8VCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1LCBSVD4KZGVsZWdhdGUgUlQgZnVuY3Rpb24oVCwgVDIsIFQzLCBUNCwgVDUsIFQ2LCBUNywgVDgsIFQ5LCBUMTAsIFQxMSwgVDEyLCBUMTMsIFQxNCwgVDE1KTsKCnRlbXBsYXRlIDxULCBUMiwgVDMsIFQ0LCBUNSwgVDYsIFQ3LCBUOCwgVDksIFQxMCwgVDExLCBUMTIsIFQxMywgVDE0LCBUMTUsIFQxNiwgUlQ+CmRlbGVnYXRlIFJUIGZ1bmN0aW9uKFQsIFQyLCBUMywgVDQsIFQ1LCBUNiwgVDcsIFQ4LCBUOSwgVDEwLCBUMTEsIFQxMiwgVDEzLCBUMTQsIFQxNSwgVDE2KTsKCn0gIC8vIG5hbWVzcGFjZSBiMnN0eWxlCgojZW5kaWYgIC8vIEIyU1RZTEVfTElCX0IyU1RZTEVfREVMRUdBVEVTX0gSAAAAYjJzdHlsZS9oZWFwX3B0ci5oIgQAAO+7vwojaWZuZGVmIEIyU1RZTEVfTElCX0IyU1RZTEVfSEVBUF9QVFJfSAojZGVmaW5lIEIyU1RZTEVfTElCX0IyU1RZTEVfSEVBUF9QVFJfSAoKI2luY2x1ZGUgPGIyc3R5bGUvdHlwZXMuaD4KI2luY2x1ZGUgPGFzc2VydC5oPgoKbmFtZXNwYWNlIGIyc3R5bGUgewoKLy8gVHlwZSBUIGlzIHJlcXVpcmVkIHRvIHVzZSB0aGUgZGVhbGxvYyBpbnN0cnVjdGlvbi4KdGVtcGxhdGUgPFQ+CmNsYXNzIGhlYXBfcHRyIHsKICBUIF9hOwogIGludCBfczsKCiAgaW50IHNpemUoKSB7CiAgICByZXR1cm4gdGhpcy5fczsKICB9CgogIGJvb2wgZW1wdHkoKSB7CiAgICByZXR1cm4gdGhpcy5zaXplKCkgPT0gMDsKICB9CgogIHZvaWQgY29uc3RydWN0KCkgewogICAgdGhpcy5fcyA9IDA7CiAgfQoKICB2b2lkIGRlc3RydWN0KCkgewogICAgaWYgKHRoaXMuZW1wdHkoKSkgcmV0dXJuOwogICAgZGVhbGxvYyh0aGlzLl9hKTsKICAgIHRoaXMuY29uc3RydWN0KCk7CiAgfQoKICB2b2lkIGFsbG9jKGludCBzaXplKSB7CiAgICB0aGlzLmRlc3RydWN0KCk7CiAgICA6OmFzc2VydChzaXplID4gMCk7CiAgICBUIHhbc2l6ZV07CiAgICB0aGlzLl9hID0geDsKICAgIHRoaXMuX3MgPSBzaXplOwogICAgdW5kZWZpbmUoeCk7CiAgfQoKICB2b2lkIGNvbnN0cnVjdChpbnQgc2l6ZSkgewogICAgdGhpcy5jb25zdHJ1Y3QoKTsKICAgIHRoaXMuYWxsb2Moc2l6ZSk7CiAgfQoKICBUIGdldChpbnQgaW5kZXgpIHsKICAgIDo6YXNzZXJ0KGluZGV4ID49IDApOwogICAgOjphc3NlcnQoaW5kZXggPCB0aGlzLnNpemUoKSk7CiAgICByZXR1cm4gdGhpcy5fYVtpbmRleF07CiAgfQoKICB2b2lkIHNldChpbnQgaW5kZXgsIFQgdikgewogICAgOjphc3NlcnQoaW5kZXggPj0gMCk7CiAgICA6OmFzc2VydChpbmRleCA8IHRoaXMuc2l6ZSgpKTsKICAgIHRoaXMuX2FbaW5kZXhdID0gdjsKICB9CgogIHZvaWQgcmVsZWFzZSgpIHsKICAgIHRoaXMuY29uc3RydWN0KCk7CiAgfQp9OwoKfSAgLy8gbmFtZXNwYWNlIGIyc3R5bGUKCiNlbmRpZiAgLy8gQjJTVFlMRV9MSUJfQjJTVFlMRV9IRUFQX1BUUl9IFwAAAGIyc3R5bGUvbG9hZGVkX21ldGhvZC5okwMAAO+7vwojaWZuZGVmIEIyU1RZTEVfTElCX0IyU1RZTEVfTE9BREVEX01FVEhPRF9ICiNkZWZpbmUgQjJTVFlMRV9MSUJfQjJTVFlMRV9MT0FERURfTUVUSE9EX0gKCiNpbmNsdWRlIDxiMnN0eWxlL3R5cGVzLmg+CiNpbmNsdWRlIDxic3R5bGUvbG9hZF9tZXRob2QuaD4KCm5hbWVzcGFjZSBiMnN0eWxlIHsKCnZvaWQgbG9hZF9tZXRob2Qoc3RyaW5nIG0pIHsKICA6OmxvYWRfbWV0aG9kKG0pOwp9CgojaWZkZWYgQjNTVFlMRQp0ZW1wbGF0ZSA8VD4KVCBleGVjdXRlX2xvYWRlZF9tZXRob2QoKSB7CiAgVCByZXN1bHQ7CiAgbG9naWMgImludGVycnVwdCBleGVjdXRlX2xvYWRlZF9tZXRob2QgQEBwcmVmaXhlc0B0ZW1wc0BzdHJpbmcgcmVzdWx0IjsKICByZXR1cm4gcmVzdWx0Owp9Cgp0ZW1wbGF0ZSA8VCwgUlQ+ClJUIGV4ZWN1dGVfbG9hZGVkX21ldGhvZChUIHApIHsKICBSVCByZXN1bHQ7CiAgbG9naWMgImludGVycnVwdCBleGVjdXRlX2xvYWRlZF9tZXRob2QgcCByZXN1bHQiOwogIHJldHVybiByZXN1bHQ7Cn0KI2Vsc2UKdGVtcGxhdGUgPFQ+ClQgZXhlY3V0ZV9sb2FkZWRfbWV0aG9kKCkgewogIFQgcmVzdWx0OwogIGxvZ2ljICJpbnRlcnJ1cHQgZXhlY3V0ZV9sb2FkZWRfbWV0aG9kIEBAcHJlZml4ZXNAdGVtcHNAc3RyaW5nIGIyc3R5bGVfX3Jlc3VsdCI7CiAgcmV0dXJuIHJlc3VsdDsKfQoKdGVtcGxhdGUgPFQsIFJUPgpSVCBleGVjdXRlX2xvYWRlZF9tZXRob2QoVCBwKSB7CiAgUlQgcmVzdWx0OwogIGxvZ2ljICJpbnRlcnJ1cHQgZXhlY3V0ZV9sb2FkZWRfbWV0aG9kIGIyc3R5bGVfX3AgYjJzdHlsZV9fcmVzdWx0IjsKICByZXR1cm4gcmVzdWx0Owp9CiNlbmRpZgoJCn0gIC8vIG5hbWVzcGFjZSBiMnN0eWxlCgojZW5kaWYgIC8vIEIyU1RZTEVfTElCX0IyU1RZTEVfTE9BREVEX01FVEhPRF9IChMAAABiMnN0eWxlL29wZXJhdG9ycy5o1TgAAO+7vwojaWZuZGVmIEIyU1RZTEVfTElCX0IyU1RZTEVfT1BFUkFUT1JTX0gKI2RlZmluZSBCMlNUWUxFX0xJQl9CMlNUWUxFX09QRVJBVE9SU19ICgojaW5jbHVkZSA8YjJzdHlsZS90eXBlcy5oPgojaW5jbHVkZSA8YnN0eWxlL2ludC5oPgojaW5jbHVkZSA8YnN0eWxlL3N0ci5oPgoKbmFtZXNwYWNlIGIyc3R5bGUgewoKYm9vbCBhbmQoYm9vbCBpLCBib29sIGopIHsKICBpZiAoaSkgcmV0dXJuIGo7CiAgcmV0dXJuIGZhbHNlOwp9Cgpib29sIG9yKGJvb2wgaSwgYm9vbCBqKSB7CiAgaWYgKGkpIHJldHVybiB0cnVlOwogIGlmIChqKSByZXR1cm4gdHJ1ZTsKICByZXR1cm4gZmFsc2U7Cn0KCmJvb2wgbm90KGJvb2wgaSkgewogIGlmIChpKSByZXR1cm4gZmFsc2U7CiAgcmV0dXJuIHRydWU7Cn0KCi8vIFRPRE86IENvbnNpZGVyIHRvIGF2b2lkIGFkZGluZyAiX3ByZSIgZm9yIG9wZXJhdG9yICEuCmJvb2wgbm90X3ByZShib29sIGkpIHsKICByZXR1cm4gbm90KGkpOwp9Cgpib29sIGVxdWFsKHN0cmluZyBpLCBzdHJpbmcgaikgewogIHJldHVybiA6OnN0cl9lcXVhbChpLCBqKTsKfQoKYm9vbCBub3RfZXF1YWwoc3RyaW5nIGksIHN0cmluZyBqKSB7CiAgcmV0dXJuIG5vdChlcXVhbChpLCBqKSk7Cn0KCmJvb2wgZXF1YWwoYmlndWludCBpLCBiaWd1aW50IGopIHsKICByZXR1cm4gOjplcXVhbChpLCBqKTsKfQoKYm9vbCBub3RfZXF1YWwoYmlndWludCBpLCBiaWd1aW50IGopIHsKICByZXR1cm4gbm90KGVxdWFsKGksIGopKTsKfQoKYm9vbCBlcXVhbChsb25nIGksIGxvbmcgaikgewogIHJldHVybiA6OmVxdWFsKGksIGopOwp9Cgpib29sIG5vdF9lcXVhbChsb25nIGksIGxvbmcgaikgewogIHJldHVybiBub3QoZXF1YWwoaSwgaikpOwp9Cgpib29sIGVxdWFsKGludCBpLCBpbnQgaikgewogIHJldHVybiA6OmVxdWFsKGksIGopOwp9Cgpib29sIG5vdF9lcXVhbChpbnQgaSwgaW50IGopIHsKICByZXR1cm4gbm90KGVxdWFsKGksIGopKTsKfQoKYm9vbCBlcXVhbChib29sIGksIGJvb2wgaikgewogIGlmIChpKSByZXR1cm4gajsKICByZXR1cm4gbm90KGopOwp9Cgpib29sIG5vdF9lcXVhbChib29sIGksIGJvb2wgaikgewogIHJldHVybiBub3QoZXF1YWwoaSwgaikpOwp9CgojaWZkZWYgQjJTVFlMRQpib29sIGdyZWF0ZXJfdGhhbihiaWd1aW50IGksIGJpZ3VpbnQgaikgewogIGJvb2wgcmVzdWx0OwogIGxvZ2ljICJtb3JlIGIyc3R5bGVfX3Jlc3VsdCBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOwogIHJldHVybiByZXN1bHQ7Cn0KI2Vsc2UKYm9vbCBncmVhdGVyX3RoYW4oYmlndWludCBpLCBiaWd1aW50IGopIHsKICBib29sIHJlc3VsdDsKICBsb2dpYyAibW9yZSByZXN1bHQgaSBqIjsKICByZXR1cm4gcmVzdWx0Owp9CiNlbmRpZgoKYm9vbCBncmVhdGVyX3RoYW4obG9uZyBpLCBsb25nIGopIHsKICByZXR1cm4gZ3JlYXRlcl90aGFuKDo6dG9fYmlndWludChpKSwgOjp0b19iaWd1aW50KGopKTsKfQoKYm9vbCBncmVhdGVyX3RoYW4oaW50IGksIGludCBqKSB7CiAgcmV0dXJuIGdyZWF0ZXJfdGhhbig6OnRvX2JpZ3VpbnQoaSksIDo6dG9fYmlndWludChqKSk7Cn0KCiNpZmRlZiBCMlNUWUxFCmJvb2wgbGVzc190aGFuKGJpZ3VpbnQgaSwgYmlndWludCBqKSB7CiAgYm9vbCByZXN1bHQ7CiAgbG9naWMgImxlc3MgYjJzdHlsZV9fcmVzdWx0IGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7CiAgcmV0dXJuIHJlc3VsdDsKfQojZWxzZQpib29sIGxlc3NfdGhhbihiaWd1aW50IGksIGJpZ3VpbnQgaikgewogIGJvb2wgcmVzdWx0OwogIGxvZ2ljICJsZXNzIHJlc3VsdCBpIGoiOwogIHJldHVybiByZXN1bHQ7Cn0KI2VuZGlmCgpib29sIGxlc3NfdGhhbihsb25nIGksIGxvbmcgaikgewogIHJldHVybiBsZXNzX3RoYW4oOjp0b19iaWd1aW50KGkpLCA6OnRvX2JpZ3VpbnQoaikpOwp9Cgpib29sIGxlc3NfdGhhbihpbnQgaSwgaW50IGopIHsKICByZXR1cm4gbGVzc190aGFuKDo6dG9fYmlndWludChpKSwgOjp0b19iaWd1aW50KGopKTsKfQoKYm9vbCBsZXNzX29yX2VxdWFsKGJpZ3VpbnQgaSwgYmlndWludCBqKSB7CiAgcmV0dXJuIG9yKGxlc3NfdGhhbihpLCBqKSwgZXF1YWwoaSwgaikpOwp9Cgpib29sIGxlc3Nfb3JfZXF1YWwobG9uZyBpLCBsb25nIGopIHsKICByZXR1cm4gb3IobGVzc190aGFuKGksIGopLCBlcXVhbChpLCBqKSk7Cn0KCmJvb2wgbGVzc19vcl9lcXVhbChpbnQgaSwgaW50IGopIHsKICByZXR1cm4gb3IobGVzc190aGFuKGksIGopLCBlcXVhbChpLCBqKSk7Cn0KCmJvb2wgZ3JlYXRlcl9vcl9lcXVhbChiaWd1aW50IGksIGJpZ3VpbnQgaikgewogIHJldHVybiBvcihncmVhdGVyX3RoYW4oaSwgaiksIGVxdWFsKGksIGopKTsKfQoKYm9vbCBncmVhdGVyX29yX2VxdWFsKGxvbmcgaSwgbG9uZyBqKSB7CiAgcmV0dXJuIG9yKGdyZWF0ZXJfdGhhbihpLCBqKSwgZXF1YWwoaSwgaikpOwp9Cgpib29sIGdyZWF0ZXJfb3JfZXF1YWwoaW50IGksIGludCBqKSB7CiAgcmV0dXJuIG9yKGdyZWF0ZXJfdGhhbihpLCBqKSwgZXF1YWwoaSwgaikpOwp9CgojaWZkZWYgQjJTVFlMRQpiaWd1aW50IGFkZChiaWd1aW50IGksIGJpZ3VpbnQgaikgewogIGxvZ2ljICJhZGQgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOwogIHJldHVybiBpOwp9Cgpsb25nIGFkZChsb25nIGksIGxvbmcgaikgewogIGxvZ2ljICJhZGQgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOwogIHJldHVybiA6OmZpdF9pbl9sb25nKGkpOwp9CgppbnQgYWRkKGludCBpLCBpbnQgaikgewogIGxvZ2ljICJhZGQgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOwogIHJldHVybiA6OmZpdF9pbl9pbnQoaSk7Cn0KCmJ5dGUgYWRkKGJ5dGUgaSwgYnl0ZSBqKSB7CiAgbG9naWMgImFkZCBiMnN0eWxlX19pIGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7CiAgcmV0dXJuIDo6Zml0X2luX2J5dGUoaSk7Cn0KI2Vsc2UKYmlndWludCBhZGQoYmlndWludCBpLCBiaWd1aW50IGopIHsKICBsb2dpYyAiYWRkIGkgaSBqIjsKICByZXR1cm4gaTsKfQoKbG9uZyBhZGQobG9uZyBpLCBsb25nIGopIHsKICBsb2dpYyAiYWRkIGkgaSBqIjsKICByZXR1cm4gOjpmaXRfaW5fbG9uZyhpKTsKfQoKaW50IGFkZChpbnQgaSwgaW50IGopIHsKICBsb2dpYyAiYWRkIGkgaSBqIjsKICByZXR1cm4gOjpmaXRfaW5faW50KGkpOwp9CgpieXRlIGFkZChieXRlIGksIGJ5dGUgaikgewogIGxvZ2ljICJhZGQgaSBpIGoiOwogIHJldHVybiA6OmZpdF9pbl9ieXRlKGkpOwp9CiNlbmRpZgoKc3RyaW5nIGFkZChzdHJpbmcgaSwgc3RyaW5nIGopIHsKICByZXR1cm4gOjpzdHJfY29uY2F0KGksIGopOwp9CgojaWZkZWYgQjJTVFlMRQpiaWd1aW50IG1pbnVzKGJpZ3VpbnQgaSwgYmlndWludCBqKSB7CiAgbG9naWMgInN1YnRyYWN0IGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsKICByZXR1cm4gaTsKfQoKbG9uZyBtaW51cyhsb25nIGksIGxvbmcgaikgewogIGxvZ2ljICJzdWJ0cmFjdCBiMnN0eWxlX19pIGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7CiAgcmV0dXJuIDo6Zml0X2luX2xvbmcoaSk7Cn0KCmludCBtaW51cyhpbnQgaSwgaW50IGopIHsKICBsb2dpYyAic3VidHJhY3QgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOwogIHJldHVybiA6OmZpdF9pbl9pbnQoaSk7Cn0KCmJpZ3VpbnQgbXVsdGlwbHkoYmlndWludCBpLCBiaWd1aW50IGopIHsKICBsb2dpYyAibXVsdGlwbHkgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOwogIHJldHVybiBpOwp9Cgpsb25nIG11bHRpcGx5KGxvbmcgaSwgbG9uZyBqKSB7CiAgbG9naWMgIm11bHRpcGx5IGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsKICByZXR1cm4gOjpmaXRfaW5fbG9uZyhpKTsKfQoKaW50IG11bHRpcGx5KGludCBpLCBpbnQgaikgewogIGxvZ2ljICJtdWx0aXBseSBiMnN0eWxlX19pIGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7CiAgcmV0dXJuIDo6Zml0X2luX2ludChpKTsKfQoKYmlndWludCBkaXZpZGUoYmlndWludCBpLCBiaWd1aW50IGopIHsKICBiaWd1aW50IHJlc3VsdDsKICBsb2dpYyAiZGl2aWRlIGIyc3R5bGVfX3Jlc3VsdCBAQHByZWZpeGVzQHRlbXBzQHN0cmluZyBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOwogIHJldHVybiByZXN1bHQ7Cn0KCmxvbmcgZGl2aWRlKGxvbmcgaSwgbG9uZyBqKSB7CiAgbG9uZyByZXN1bHQ7CiAgbG9naWMgImRpdmlkZSBiMnN0eWxlX19yZXN1bHQgQEBwcmVmaXhlc0B0ZW1wc0BzdHJpbmcgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsKICByZXR1cm4gOjpmaXRfaW5fbG9uZyhyZXN1bHQpOwp9CgppbnQgZGl2aWRlKGludCBpLCBpbnQgaikgewogIGludCByZXN1bHQ7CiAgbG9naWMgImRpdmlkZSBiMnN0eWxlX19yZXN1bHQgQEBwcmVmaXhlc0B0ZW1wc0BzdHJpbmcgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsKICByZXR1cm4gOjpmaXRfaW5faW50KHJlc3VsdCk7Cn0KCmJpZ3VpbnQgbW9kKGJpZ3VpbnQgaSwgYmlndWludCBqKSB7CiAgYmlndWludCByZXN1bHQ7CiAgbG9naWMgImRpdmlkZSBAQHByZWZpeGVzQHRlbXBzQHN0cmluZyBiMnN0eWxlX19yZXN1bHQgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsKICByZXR1cm4gcmVzdWx0Owp9Cgpsb25nIG1vZChsb25nIGksIGxvbmcgaikgewogIGxvbmcgcmVzdWx0OwogIGxvZ2ljICJkaXZpZGUgQEBwcmVmaXhlc0B0ZW1wc0BzdHJpbmcgYjJzdHlsZV9fcmVzdWx0IGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7CiAgcmV0dXJuIDo6Zml0X2luX2xvbmcocmVzdWx0KTsKfQoKaW50IG1vZChpbnQgaSwgaW50IGopIHsKICBpbnQgcmVzdWx0OwogIGxvZ2ljICJkaXZpZGUgQEBwcmVmaXhlc0B0ZW1wc0BzdHJpbmcgYjJzdHlsZV9fcmVzdWx0IGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7CiAgcmV0dXJuIDo6Zml0X2luX2ludChyZXN1bHQpOwp9CgpiaWd1aW50IHBvd2VyKGJpZ3VpbnQgaSwgYmlndWludCBqKSB7CiAgbG9naWMgInBvd2VyIGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsKICByZXR1cm4gaTsKfQoKbG9uZyBwb3dlcihsb25nIGksIGxvbmcgaikgewogIGxvZ2ljICJwb3dlciBiMnN0eWxlX19pIGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7CiAgcmV0dXJuIDo6Zml0X2luX2xvbmcoaSk7Cn0KCmludCBwb3dlcihpbnQgaSwgaW50IGopIHsKICBsb2dpYyAicG93ZXIgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOwogIHJldHVybiA6OmZpdF9pbl9pbnQoaSk7Cn0KCmJpZ3VpbnQgYml0X2FuZChiaWd1aW50IGksIGJpZ3VpbnQgaikgewogIGxvZ2ljICJhbmQgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOwogIHJldHVybiBpOwp9Cgpsb25nIGJpdF9hbmQobG9uZyBpLCBsb25nIGopIHsKICBsb2dpYyAiYW5kIGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsKICByZXR1cm4gaTsKfQoKaW50IGJpdF9hbmQoaW50IGksIGludCBqKSB7CiAgbG9naWMgImFuZCBiMnN0eWxlX19pIGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7CiAgcmV0dXJuIGk7Cn0KCmJpZ3VpbnQgYml0X29yKGJpZ3VpbnQgaSwgYmlndWludCBqKSB7CiAgbG9naWMgIm9yIGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsKICByZXR1cm4gaTsKfQoKbG9uZyBiaXRfb3IobG9uZyBpLCBsb25nIGopIHsKICBsb2dpYyAib3IgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOwogIHJldHVybiBpOwp9CgppbnQgYml0X29yKGludCBpLCBpbnQgaikgewogIGxvZ2ljICJvciBiMnN0eWxlX19pIGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7CiAgcmV0dXJuIGk7Cn0KCmJpZ3VpbnQgc2VsZl9pbmNfcG9zdChiaWd1aW50JiB4KSB7CiAgYmlndWludCByID0geDsKICBsb2dpYyAiYWRkIGIyc3R5bGVfX3ggYjJzdHlsZV9feCBAQHByZWZpeGVzQGNvbnN0YW50c0BpbnRfMSI7CiAgcmV0dXJuIHI7Cn0KCmxvbmcgc2VsZl9pbmNfcG9zdChsb25nJiB4KSB7CiAgbG9uZyByID0geDsKICBsb2dpYyAiYWRkIGIyc3R5bGVfX3ggYjJzdHlsZV9feCBAQHByZWZpeGVzQGNvbnN0YW50c0BpbnRfMSI7CiAgcmV0dXJuIDo6Zml0X2luX2xvbmcocik7Cn0KCmludCBzZWxmX2luY19wb3N0KGludCYgeCkgewogIGludCByID0geDsKICBsb2dpYyAiYWRkIGIyc3R5bGVfX3ggYjJzdHlsZV9feCBAQHByZWZpeGVzQGNvbnN0YW50c0BpbnRfMSI7CiAgcmV0dXJuIDo6Zml0X2luX2ludChyKTsKfQoKYmlndWludCBzZWxmX2RlY19wb3N0KGJpZ3VpbnQmIHgpIHsKICBiaWd1aW50IHIgPSB4OwogIGxvZ2ljICJzdWJ0cmFjdCBiMnN0eWxlX194IGIyc3R5bGVfX3ggQEBwcmVmaXhlc0Bjb25zdGFudHNAaW50XzEiOwogIHJldHVybiByOwp9Cgpsb25nIHNlbGZfZGVjX3Bvc3QobG9uZyYgeCkgewogIGxvbmcgciA9IHg7CiAgbG9naWMgInN1YnRyYWN0IGIyc3R5bGVfX3ggYjJzdHlsZV9feCBAQHByZWZpeGVzQGNvbnN0YW50c0BpbnRfMSI7CiAgcmV0dXJuIDo6Zml0X2luX2xvbmcocik7Cn0KCmludCBzZWxmX2RlY19wb3N0KGludCYgeCkgewogIGludCByID0geDsKICBsb2dpYyAic3VidHJhY3QgYjJzdHlsZV9feCBiMnN0eWxlX194IEBAcHJlZml4ZXNAY29uc3RhbnRzQGludF8xIjsKICByZXR1cm4gOjpmaXRfaW5faW50KHIpOwp9CgpiaWd1aW50IHNlbGZfaW5jX3ByZShiaWd1aW50JiB4KSB7CiAgbG9naWMgImFkZCBiMnN0eWxlX194IGIyc3R5bGVfX3ggQEBwcmVmaXhlc0Bjb25zdGFudHNAaW50XzEiOwogIHJldHVybiB4Owp9Cgpsb25nIHNlbGZfaW5jX3ByZShsb25nJiB4KSB7CiAgbG9naWMgImFkZCBiMnN0eWxlX194IGIyc3R5bGVfX3ggQEBwcmVmaXhlc0Bjb25zdGFudHNAaW50XzEiOwogIHJldHVybiA6OmZpdF9pbl9sb25nKHgpOwp9CgppbnQgc2VsZl9pbmNfcHJlKGludCYgeCkgewogIGxvZ2ljICJhZGQgYjJzdHlsZV9feCBiMnN0eWxlX194IEBAcHJlZml4ZXNAY29uc3RhbnRzQGludF8xIjsKICByZXR1cm4gOjpmaXRfaW5faW50KHgpOwp9CgpiaWd1aW50IHNlbGZfZGVjX3ByZShiaWd1aW50JiB4KSB7CiAgbG9naWMgInN1YnRyYWN0IGIyc3R5bGVfX3ggYjJzdHlsZV9feCBAQHByZWZpeGVzQGNvbnN0YW50c0BpbnRfMSI7CiAgcmV0dXJuIHg7Cn0KCmxvbmcgc2VsZl9kZWNfcHJlKGxvbmcmIHgpIHsKICBsb2dpYyAic3VidHJhY3QgYjJzdHlsZV9feCBiMnN0eWxlX194IEBAcHJlZml4ZXNAY29uc3RhbnRzQGludF8xIjsKICByZXR1cm4gOjpmaXRfaW5fbG9uZyh4KTsKfQoKaW50IHNlbGZfZGVjX3ByZShpbnQmIHgpIHsKICBsb2dpYyAic3VidHJhY3QgYjJzdHlsZV9feCBiMnN0eWxlX194IEBAcHJlZml4ZXNAY29uc3RhbnRzQGludF8xIjsKICByZXR1cm4gOjpmaXRfaW5faW50KHgpOwp9CgpiaWd1aW50IGV4dHJhY3QoYmlndWludCBpLCBiaWd1aW50IGopIHsKICBiaWd1aW50IHI7CiAgbG9naWMgImV4dHJhY3QgYjJzdHlsZV9fciBAQHByZWZpeGVzQHRlbXBzQGJpZ3VpbnQgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsKICByZXR1cm4gcjsKfQoKYmlndWludCBleHRyYWN0X3JlbWFpbmRlcihiaWd1aW50IGksIGJpZ3VpbnQgaikgewogIGJpZ3VpbnQgcjsKICBsb2dpYyAiZXh0cmFjdCBAQHByZWZpeGVzQHRlbXBzQGJpZ3VpbnQgYjJzdHlsZV9fciBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOwogIHJldHVybiByOwp9CgpiaWd1aW50IGxlZnRfc2hpZnQoYmlndWludCBpLCBiaWd1aW50IGopIHsKICBiaWd1aW50IHI7CiAgbG9naWMgImxlZnRfc2hpZnQgYjJzdHlsZV9fciBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOwogIHJldHVybiByOwp9CgpiaWd1aW50IHJpZ2h0X3NoaWZ0KGJpZ3VpbnQgaSwgYmlndWludCBqKSB7CiAgYmlndWludCByOwogIGxvZ2ljICJyaWdodF9zaGlmdCBiMnN0eWxlX19yIGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7CiAgcmV0dXJuIHI7Cn0KI2Vsc2UKYmlndWludCBtaW51cyhiaWd1aW50IGksIGJpZ3VpbnQgaikgewogIGxvZ2ljICJzdWJ0cmFjdCBpIGkgaiI7CiAgcmV0dXJuIGk7Cn0KCmxvbmcgbWludXMobG9uZyBpLCBsb25nIGopIHsKICBsb2dpYyAic3VidHJhY3QgaSBpIGoiOwogIHJldHVybiA6OmZpdF9pbl9sb25nKGkpOwp9CgppbnQgbWludXMoaW50IGksIGludCBqKSB7CiAgbG9naWMgInN1YnRyYWN0IGkgaSBqIjsKICByZXR1cm4gOjpmaXRfaW5faW50KGkpOwp9CgpiaWd1aW50IG11bHRpcGx5KGJpZ3VpbnQgaSwgYmlndWludCBqKSB7CiAgbG9naWMgIm11bHRpcGx5IGkgaSBqIjsKICByZXR1cm4gaTsKfQoKbG9uZyBtdWx0aXBseShsb25nIGksIGxvbmcgaikgewogIGxvZ2ljICJtdWx0aXBseSBpIGkgaiI7CiAgcmV0dXJuIDo6Zml0X2luX2xvbmcoaSk7Cn0KCmludCBtdWx0aXBseShpbnQgaSwgaW50IGopIHsKICBsb2dpYyAibXVsdGlwbHkgaSBpIGoiOwogIHJldHVybiA6OmZpdF9pbl9pbnQoaSk7Cn0KCmJpZ3VpbnQgZGl2aWRlKGJpZ3VpbnQgaSwgYmlndWludCBqKSB7CiAgYmlndWludCByZXN1bHQ7CiAgbG9naWMgImRpdmlkZSByZXN1bHQgQEBwcmVmaXhlc0B0ZW1wc0BzdHJpbmcgaSBqIjsKICByZXR1cm4gcmVzdWx0Owp9Cgpsb25nIGRpdmlkZShsb25nIGksIGxvbmcgaikgewogIGxvbmcgcmVzdWx0OwogIGxvZ2ljICJkaXZpZGUgcmVzdWx0IEBAcHJlZml4ZXNAdGVtcHNAc3RyaW5nIGkgaiI7CiAgcmV0dXJuIDo6Zml0X2luX2xvbmcocmVzdWx0KTsKfQoKaW50IGRpdmlkZShpbnQgaSwgaW50IGopIHsKICBpbnQgcmVzdWx0OwogIGxvZ2ljICJkaXZpZGUgcmVzdWx0IEBAcHJlZml4ZXNAdGVtcHNAc3RyaW5nIGkgaiI7CiAgcmV0dXJuIDo6Zml0X2luX2ludChyZXN1bHQpOwp9CgpiaWd1aW50IG1vZChiaWd1aW50IGksIGJpZ3VpbnQgaikgewogIGJpZ3VpbnQgcmVzdWx0OwogIGxvZ2ljICJkaXZpZGUgQEBwcmVmaXhlc0B0ZW1wc0BzdHJpbmcgcmVzdWx0IGkgaiI7CiAgcmV0dXJuIHJlc3VsdDsKfQoKbG9uZyBtb2QobG9uZyBpLCBsb25nIGopIHsKICBsb25nIHJlc3VsdDsKICBsb2dpYyAiZGl2aWRlIEBAcHJlZml4ZXNAdGVtcHNAc3RyaW5nIHJlc3VsdCBpIGoiOwogIHJldHVybiA6OmZpdF9pbl9sb25nKHJlc3VsdCk7Cn0KCmludCBtb2QoaW50IGksIGludCBqKSB7CiAgaW50IHJlc3VsdDsKICBsb2dpYyAiZGl2aWRlIEBAcHJlZml4ZXNAdGVtcHNAc3RyaW5nIHJlc3VsdCBpIGoiOwogIHJldHVybiA6OmZpdF9pbl9pbnQocmVzdWx0KTsKfQoKYmlndWludCBwb3dlcihiaWd1aW50IGksIGJpZ3VpbnQgaikgewogIGxvZ2ljICJwb3dlciBpIGkgaiI7CiAgcmV0dXJuIGk7Cn0KCmxvbmcgcG93ZXIobG9uZyBpLCBsb25nIGopIHsKICBsb2dpYyAicG93ZXIgaSBpIGoiOwogIHJldHVybiA6OmZpdF9pbl9sb25nKGkpOwp9CgppbnQgcG93ZXIoaW50IGksIGludCBqKSB7CiAgbG9naWMgInBvd2VyIGkgaSBqIjsKICByZXR1cm4gOjpmaXRfaW5faW50KGkpOwp9CgpiaWd1aW50IGJpdF9hbmQoYmlndWludCBpLCBiaWd1aW50IGopIHsKICBsb2dpYyAiYW5kIGkgaSBqIjsKICByZXR1cm4gaTsKfQoKbG9uZyBiaXRfYW5kKGxvbmcgaSwgbG9uZyBqKSB7CiAgbG9naWMgImFuZCBpIGkgaiI7CiAgcmV0dXJuIGk7Cn0KCmludCBiaXRfYW5kKGludCBpLCBpbnQgaikgewogIGxvZ2ljICJhbmQgaSBpIGoiOwogIHJldHVybiBpOwp9CgpiaWd1aW50IGJpdF9vcihiaWd1aW50IGksIGJpZ3VpbnQgaikgewogIGxvZ2ljICJvciBpIGkgaiI7CiAgcmV0dXJuIGk7Cn0KCmxvbmcgYml0X29yKGxvbmcgaSwgbG9uZyBqKSB7CiAgbG9naWMgIm9yIGkgaSBqIjsKICByZXR1cm4gaTsKfQoKaW50IGJpdF9vcihpbnQgaSwgaW50IGopIHsKICBsb2dpYyAib3IgaSBpIGoiOwogIHJldHVybiBpOwp9CgpiaWd1aW50IHNlbGZfaW5jX3Bvc3QoYmlndWludCYgeCkgewogIGJpZ3VpbnQgciA9IHg7CiAgbG9naWMgImFkZCB4IHggQEBwcmVmaXhlc0Bjb25zdGFudHNAaW50XzEiOwogIHJldHVybiByOwp9Cgpsb25nIHNlbGZfaW5jX3Bvc3QobG9uZyYgeCkgewogIGxvbmcgciA9IHg7CiAgbG9naWMgImFkZCB4IHggQEBwcmVmaXhlc0Bjb25zdGFudHNAaW50XzEiOwogIHJldHVybiA6OmZpdF9pbl9sb25nKHIpOwp9CgppbnQgc2VsZl9pbmNfcG9zdChpbnQmIHgpIHsKICBpbnQgciA9IHg7CiAgbG9naWMgImFkZCB4IHggQEBwcmVmaXhlc0Bjb25zdGFudHNAaW50XzEiOwogIHJldHVybiA6OmZpdF9pbl9pbnQocik7Cn0KCmJpZ3VpbnQgc2VsZl9kZWNfcG9zdChiaWd1aW50JiB4KSB7CiAgYmlndWludCByID0geDsKICBsb2dpYyAic3VidHJhY3QgeCB4IEBAcHJlZml4ZXNAY29uc3RhbnRzQGludF8xIjsKICByZXR1cm4gcjsKfQoKbG9uZyBzZWxmX2RlY19wb3N0KGxvbmcmIHgpIHsKICBsb25nIHIgPSB4OwogIGxvZ2ljICJzdWJ0cmFjdCB4IHggQEBwcmVmaXhlc0Bjb25zdGFudHNAaW50XzEiOwogIHJldHVybiA6OmZpdF9pbl9sb25nKHIpOwp9CgppbnQgc2VsZl9kZWNfcG9zdChpbnQmIHgpIHsKICBpbnQgciA9IHg7CiAgbG9naWMgInN1YnRyYWN0IHggeCBAQHByZWZpeGVzQGNvbnN0YW50c0BpbnRfMSI7CiAgcmV0dXJuIDo6Zml0X2luX2ludChyKTsKfQoKYmlndWludCBzZWxmX2luY19wcmUoYmlndWludCYgeCkgewogIGxvZ2ljICJhZGQgeCB4IEBAcHJlZml4ZXNAY29uc3RhbnRzQGludF8xIjsKICByZXR1cm4geDsKfQoKbG9uZyBzZWxmX2luY19wcmUobG9uZyYgeCkgewogIGxvZ2ljICJhZGQgeCB4IEBAcHJlZml4ZXNAY29uc3RhbnRzQGludF8xIjsKICByZXR1cm4gOjpmaXRfaW5fbG9uZyh4KTsKfQoKaW50IHNlbGZfaW5jX3ByZShpbnQmIHgpIHsKICBsb2dpYyAiYWRkIHggeCBAQHByZWZpeGVzQGNvbnN0YW50c0BpbnRfMSI7CiAgcmV0dXJuIDo6Zml0X2luX2ludCh4KTsKfQoKYmlndWludCBzZWxmX2RlY19wcmUoYmlndWludCYgeCkgewogIGxvZ2ljICJzdWJ0cmFjdCB4IHggQEBwcmVmaXhlc0Bjb25zdGFudHNAaW50XzEiOwogIHJldHVybiB4Owp9Cgpsb25nIHNlbGZfZGVjX3ByZShsb25nJiB4KSB7CiAgbG9naWMgInN1YnRyYWN0IHggeCBAQHByZWZpeGVzQGNvbnN0YW50c0BpbnRfMSI7CiAgcmV0dXJuIDo6Zml0X2luX2xvbmcoeCk7Cn0KCmludCBzZWxmX2RlY19wcmUoaW50JiB4KSB7CiAgbG9naWMgInN1YnRyYWN0IHggeCBAQHByZWZpeGVzQGNvbnN0YW50c0BpbnRfMSI7CiAgcmV0dXJuIDo6Zml0X2luX2ludCh4KTsKfQoKYmlndWludCBleHRyYWN0KGJpZ3VpbnQgaSwgYmlndWludCBqKSB7CiAgYmlndWludCByOwogIGxvZ2ljICJleHRyYWN0IHIgQEBwcmVmaXhlc0B0ZW1wc0BiaWd1aW50IGkgaiI7CiAgcmV0dXJuIHI7Cn0KCmJpZ3VpbnQgZXh0cmFjdF9yZW1haW5kZXIoYmlndWludCBpLCBiaWd1aW50IGopIHsKICBiaWd1aW50IHI7CiAgbG9naWMgImV4dHJhY3QgQEBwcmVmaXhlc0B0ZW1wc0BiaWd1aW50IHIgaSBqIjsKICByZXR1cm4gcjsKfQoKYmlndWludCBsZWZ0X3NoaWZ0KGJpZ3VpbnQgaSwgYmlndWludCBqKSB7CiAgYmlndWludCByOwogIGxvZ2ljICJsZWZ0X3NoaWZ0IHIgaSBqIjsKICByZXR1cm4gcjsKfQoKYmlndWludCByaWdodF9zaGlmdChiaWd1aW50IGksIGJpZ3VpbnQgaikgewogIGJpZ3VpbnQgcjsKICBsb2dpYyAicmlnaHRfc2hpZnQgciBpIGoiOwogIHJldHVybiByOwp9CiNlbmRpZgoKYmlndWludCBsZWZ0X3NoaWZ0KGJpZ3VpbnQgaSwgaW50IGopIHsKICByZXR1cm4gbGVmdF9zaGlmdChpLCA6OnRvX2JpZ3VpbnQoaikpOwp9CgpiaWd1aW50IHJpZ2h0X3NoaWZ0KGJpZ3VpbnQgaSwgaW50IGopIHsKICByZXR1cm4gcmlnaHRfc2hpZnQoaSwgOjp0b19iaWd1aW50KGopKTsKfQoKYmlndWludCBsZWZ0X3NoaWZ0KGJpZ3VpbnQgaSwgbG9uZyBqKSB7CiAgcmV0dXJuIGxlZnRfc2hpZnQoaSwgOjp0b19iaWd1aW50KGopKTsKfQoKYmlndWludCByaWdodF9zaGlmdChiaWd1aW50IGksIGxvbmcgaikgewogIHJldHVybiByaWdodF9zaGlmdChpLCA6OnRvX2JpZ3VpbnQoaikpOwp9CgppbnQgbGVmdF9zaGlmdChpbnQgaSwgaW50IGopIHsKICByZXR1cm4gOjp0b19pbnQoCiAgICBsZWZ0X3NoaWZ0KDo6dG9fYmlndWludChpKSwKICAgICAgICAgICAgICAgOjp0b19iaWd1aW50KGopKQogICk7Cn0KCmludCByaWdodF9zaGlmdChpbnQgaSwgaW50IGopIHsKICByZXR1cm4gOjp0b19pbnQoCiAgICByaWdodF9zaGlmdCg6OnRvX2JpZ3VpbnQoaSksCiAgICAgICAgICAgICAgICA6OnRvX2JpZ3VpbnQoaikpCiAgKTsKfQoKbG9uZyBsZWZ0X3NoaWZ0KGxvbmcgaSwgbG9uZyBqKSB7CiAgcmV0dXJuIDo6dG9fbG9uZygKICAgIGxlZnRfc2hpZnQoOjp0b19iaWd1aW50KGkpLAogICAgICAgICAgICAgICA6OnRvX2JpZ3VpbnQoaikpCiAgKTsKfQoKbG9uZyByaWdodF9zaGlmdChsb25nIGksIGxvbmcgaikgewogIHJldHVybiA6OnRvX2xvbmcoCiAgICByaWdodF9zaGlmdCg6OnRvX2JpZ3VpbnQoaSksCiAgICAgICAgICAgICAgICA6OnRvX2JpZ3VpbnQoaikpCiAgKTsKfQoKdm9pZCBzZWxmX2FuZChib29sJiBpLCBib29sIGopIHsKICBpID0gYW5kKGksIGopOwp9Cgp2b2lkIHNlbGZfb3IoYm9vbCYgaSwgYm9vbCBqKSB7CiAgaSA9IG9yKGksIGopOwp9Cgp2b2lkIHNlbGZfYWRkKGJpZ3VpbnQmIGksIGJpZ3VpbnQgaikgewogIGkgPSBhZGQoaSwgaik7Cn0KCnZvaWQgc2VsZl9hZGQobG9uZyYgaSwgbG9uZyBqKSB7CiAgaSA9IGFkZChpLCBqKTsKfQoKdm9pZCBzZWxmX2FkZChpbnQmIGksIGludCBqKSB7CiAgaSA9IGFkZChpLCBqKTsKfQoKdm9pZCBzZWxmX2FkZChieXRlJiBpLCBieXRlIGopIHsKICBpID0gYWRkKGksIGopOwp9Cgp2b2lkIHNlbGZfbWludXMoYmlndWludCYgaSwgYmlndWludCBqKSB7CiAgaSA9IG1pbnVzKGksIGopOwp9Cgp2b2lkIHNlbGZfbWludXMobG9uZyYgaSwgbG9uZyBqKSB7CiAgaSA9IG1pbnVzKGksIGopOwp9Cgp2b2lkIHNlbGZfbWludXMoaW50JiBpLCBpbnQgaikgewogIGkgPSBtaW51cyhpLCBqKTsKfQoKdm9pZCBzZWxmX211bHRpcGx5KGJpZ3VpbnQmIGksIGJpZ3VpbnQgaikgewogIGkgPSBtdWx0aXBseShpLCBqKTsKfQoKdm9pZCBzZWxmX211bHRpcGx5KGxvbmcmIGksIGxvbmcgaikgewogIGkgPSBtdWx0aXBseShpLCBqKTsKfQoKdm9pZCBzZWxmX211bHRpcGx5KGludCYgaSwgaW50IGopIHsKICBpID0gbXVsdGlwbHkoaSwgaik7Cn0KCnZvaWQgc2VsZl9kaXZpZGUoYmlndWludCYgaSwgYmlndWludCBqKSB7CiAgaSA9IGRpdmlkZShpLCBqKTsKfQoKdm9pZCBzZWxmX2RpdmlkZShsb25nJiBpLCBsb25nIGopIHsKICBpID0gZGl2aWRlKGksIGopOwp9Cgp2b2lkIHNlbGZfZGl2aWRlKGludCYgaSwgaW50IGopIHsKICBpID0gZGl2aWRlKGksIGopOwp9Cgp2b2lkIHNlbGZfbW9kKGJpZ3VpbnQmIGksIGJpZ3VpbnQgaikgewogIGkgPSBtb2QoaSwgaik7Cn0KCnZvaWQgc2VsZl9tb2QobG9uZyYgaSwgbG9uZyBqKSB7CiAgaSA9IG1vZChpLCBqKTsKfQoKdm9pZCBzZWxmX21vZChpbnQmIGksIGludCBqKSB7CiAgaSA9IG1vZChpLCBqKTsKfQoKdm9pZCBzZWxmX3Bvd2VyKGJpZ3VpbnQmIGksIGJpZ3VpbnQgaikgewogIGkgPSBwb3dlcihpLCBqKTsKfQoKdm9pZCBzZWxmX3Bvd2VyKGxvbmcmIGksIGxvbmcgaikgewogIGkgPSBwb3dlcihpLCBqKTsKfQoKdm9pZCBzZWxmX3Bvd2VyKGludCYgaSwgaW50IGopIHsKICBpID0gcG93ZXIoaSwgaik7Cn0KCnZvaWQgc2VsZl9iaXRfYW5kKGJpZ3VpbnQmIGksIGJpZ3VpbnQgaikgewogIGkgPSBiaXRfYW5kKGksIGopOwp9Cgp2b2lkIHNlbGZfYml0X2FuZChsb25nJiBpLCBsb25nIGopIHsKICBpID0gYml0X2FuZChpLCBqKTsKfQoKdm9pZCBzZWxmX2JpdF9hbmQoaW50JiBpLCBpbnQgaikgewogIGkgPSBiaXRfYW5kKGksIGopOwp9Cgp2b2lkIHNlbGZfYml0X29yKGJpZ3VpbnQmIGksIGJpZ3VpbnQgaikgewogIGkgPSBiaXRfb3IoaSwgaik7Cn0KCnZvaWQgc2VsZl9iaXRfb3IobG9uZyYgaSwgbG9uZyBqKSB7CiAgaSA9IGJpdF9vcihpLCBqKTsKfQoKdm9pZCBzZWxmX2JpdF9vcihpbnQmIGksIGludCBqKSB7CiAgaSA9IGJpdF9vcihpLCBqKTsKfQoKdm9pZCBzZWxmX2xlZnRfc2hpZnQoYmlndWludCYgaSwgYmlndWludCBqKSB7CiAgaSA9IGxlZnRfc2hpZnQoaSwgaik7Cn0KCnZvaWQgc2VsZl9yaWdodF9zaGlmdChiaWd1aW50JiBpLCBiaWd1aW50IGopIHsKICBpID0gcmlnaHRfc2hpZnQoaSwgaik7Cn0KCnZvaWQgc2VsZl9sZWZ0X3NoaWZ0KGxvbmcmIGksIGxvbmcgaikgewogIGkgPSBsZWZ0X3NoaWZ0KGksIGopOwp9Cgp2b2lkIHNlbGZfcmlnaHRfc2hpZnQobG9uZyYgaSwgbG9uZyBqKSB7CiAgaSA9IHJpZ2h0X3NoaWZ0KGksIGopOwp9Cgp2b2lkIHNlbGZfbGVmdF9zaGlmdChpbnQmIGksIGludCBqKSB7CiAgaSA9IGxlZnRfc2hpZnQoaSwgaik7Cn0KCnZvaWQgc2VsZl9yaWdodF9zaGlmdChpbnQmIGksIGludCBqKSB7CiAgaSA9IHJpZ2h0X3NoaWZ0KGksIGopOwp9Cgp9ICAvLyBuYW1lc3BhY2UgYjJzdHlsZQoKI2VuZGlmICAvLyBCMlNUWUxFX0xJQl9CMlNUWUxFX09QRVJBVE9SU19IFgAAAGIyc3R5bGUvcmF3X2hlYXBfcHRyLmjYAwAA77u/DQovKiBUT0RPOiBJbXBsZW1lbnRhdGlvbg0KI2lmbmRlZiBCMlNUWUxFX0xJQl9CMlNUWUxFX1JBV19IRUFQX1BUUg0KI2RlZmluZSBCMlNUWUxFX0xJQl9CMlNUWUxFX1JBV19IRUFQX1BUUg0KDQojaW5jbHVkZSA8YjJzdHlsZS5oPg0KI2luY2x1ZGUgPGFzc2VydC5oPg0KDQpuYW1lc3BhY2UgYjJzdHlsZSB7DQoNCmNsYXNzIHJhd19oZWFwX3B0ciB7DQogIHR5cGVfcHRyIHA7DQoNCiNpZmRlZiBCM1NUWUxFDQogIGJvb2wgaXNfbnVsbCgpIHsNCiAgICBib29sIHI7DQogICAgbG9naWMgImVtcHR5IHIgdGhpcy5wIjsNCiAgICByZXR1cm4gcjsNCiAgfQ0KI2Vsc2UNCiAgYm9vbCBpc19udWxsKCkgew0KICAgIGJvb2wgcjsNCiAgICBsb2dpYyAiZW1wdHkgYjJzdHlsZV9fciB0aGlzLnAiOw0KICAgIHJldHVybiByOw0KICB9DQojZW5kaWYNCg0KICB0ZW1wbGF0ZSA8VD4NCiAgVCBnZXQoKSB7DQogICAgdHlwZV9wdHIgdiA9IHRoaXMucDsNCiAgICBzdGF0aWNfY2FzdCh2LCBUKTsNCiAgICByZXR1cm4gdjsNCiAgfQ0KDQogIHZvaWQgc2V0X251bGwoKSB7DQogICAgdHlwZV9wdHIgeDsNCiAgICB0aGlzLnAgPSB4Ow0KICB9DQoNCiAgLy8gVE9ETzogRmluZCBhIGdvb2Qgd2F5IHRvIGF1dG9tYXRpY2FsbHkgZGVhbGxvYyBoZWFwIHJlc291cmNlcy4NCiAgdGVtcGxhdGUgPFQ+DQogIHZvaWQgZGVzdHJ1Y3QoKSB7DQogICAgOjphc3NlcnQoIXRoaXMuaXNfbnVsbCgpKTsNCiAgICBUIHggPSB0aGlzLmdldDxUPigpOw0KICAgIGRlYWxsb2MoeCk7DQogICAgdHlwZV9wdHIgeDsNCiAgICB0aGlzLnAgPSB4Ow0KICB9DQoNCiAgdGVtcGxhdGUgPFQ+DQogIHZvaWQgc2V0KFQgdCkgew0KICAgIHN0YXRpY19jYXN0KHQsIHR5cGVfcHRyKTsNCiAgICB0aGlzLnAgPSB0Ow0KICB9DQp9Ow0KDQp9ICAvLyBuYW1lc3BhY2UgYjJzdHlsZQ0KDQojZW5kaWYgIC8vIEIyU1RZTEVfTElCX0IyU1RZTEVfUkFXX0hFQVBfUFRSDQoqLw0KDQAAAGIyc3R5bGUvcmVmLmg3AwAA77u/CiNpZm5kZWYgQjJTVFlMRV9MSUJfQjJTVFlMRV9SRUZfSAojZGVmaW5lIEIyU1RZTEVfTElCX0IyU1RZTEVfUkVGX0gKCiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDxiMnN0eWxlL2hlYXBfcHRyLmg+CiNpbmNsdWRlIDxhc3NlcnQuaD4KCm5hbWVzcGFjZSBiMnN0eWxlIHsKCnRlbXBsYXRlIDxUPgpjbGFzcyByZWYgewogIGhlYXBfcHRyPFQ+IF9hOwoKICB2b2lkIGRlc3RydWN0KCkgewogICAgdGhpcy5fYS5kZXN0cnVjdCgpOwogIH0KCiAgYm9vbCBlbXB0eSgpIHsKICAgIHJldHVybiB0aGlzLl9hLmVtcHR5KCk7CiAgfQoKICB2b2lkIHNldChUIHYpIHsKICAgIGlmICh0aGlzLmVtcHR5KCkpIHRoaXMuX2EuYWxsb2MoMSk7CiAgICB0aGlzLl9hLnNldCgwLCB2KTsKICB9CgogIHZvaWQgYWxsb2MoKSB7CiAgICBUIHY7CiAgICB0aGlzLnNldCh2KTsKICB9CgogIFQgZ2V0KCkgewogICAgOjphc3NlcnQoIXRoaXMuZW1wdHkoKSk7CiAgICByZXR1cm4gdGhpcy5fYS5nZXQoMCk7CiAgfQoKICBUIHJlbGVhc2UoKSB7CiAgICBUIHIgPSB0aGlzLmdldCgpOwoJdGhpcy5kZXN0cnVjdCgpOwogICAgcmV0dXJuIHI7CiAgfQoKICB2b2lkIGNvbnN0cnVjdCgpIHt9CgogIHZvaWQgY29uc3RydWN0KFQgdikgewogICAgdGhpcy5jb25zdHJ1Y3QoKTsKICAgIHRoaXMuc2V0KHYpOwogIH0KCiAgdm9pZCBjb25zdHJ1Y3QocmVmPFQ+JiBvdGhlcikgewogICAgdGhpcy5jb25zdHJ1Y3Qob3RoZXIucmVsZWFzZSgpKTsKICB9Cn07Cgp9ICAvLyBuYW1lc3BhY2UgYjJzdHlsZQoKI2VuZGlmICAvLyBCMlNUWUxFX0xJQl9CMlNUWUxFX1JFRl9ICg8AAABiMnN0eWxlL3N0ZGlvLmj8AgAA77u/CiNpZm5kZWYgQjJTVFlMRV9MSUJfQjJTVFlMRV9TVERJT19ICiNkZWZpbmUgQjJTVFlMRV9MSUJfQjJTVFlMRV9TVERJT19ICgojaW5jbHVkZSA8YjJzdHlsZS90b19zdHIuaD4KI2luY2x1ZGUgPGIyc3R5bGUvdHlwZXMuaD4KI2luY2x1ZGUgPHN0ZGlvLmg+CgpuYW1lc3BhY2UgYjJzdHlsZSB7Cgp2b2lkIHN0ZF9vdXQoc3RyaW5nIGkpIHsKICA6OnN0ZF9vdXQoaSk7Cn0KCnZvaWQgc3RkX2VycihzdHJpbmcgaSkgewogIDo6c3RkX2VycihpKTsKfQoKdGVtcGxhdGUgPFQ+CnZvaWQgc3RkX291dChUIGkpIHsKICBzdGRfb3V0KHRvX3N0cihpKSk7Cn0KCnRlbXBsYXRlIDxUPgp2b2lkIHN0ZF9lcnIoVCBpKSB7CiAgc3RkX2Vycih0b19zdHIoaSkpOwp9CgovLyBUT0RPOiBJbXBsZW1lbnQgdGVtcGxhdGUgaW5mZXJlbmNlLgp2b2lkIHN0ZF9vdXQoYm9vbCBpKSB7CiAgc3RkX291dDxib29sPihpKTsKfQoKdm9pZCBzdGRfZXJyKGJvb2wgaSkgewogIHN0ZF9lcnI8Ym9vbD4oaSk7Cn0KCnZvaWQgc3RkX291dChpbnQgaSkgewogIHN0ZF9vdXQ8aW50PihpKTsKfQoKdm9pZCBzdGRfZXJyKGludCBpKSB7CiAgc3RkX2VycjxpbnQ+KGkpOwp9Cgp2b2lkIHN0ZF9vdXQoYmlndWludCBpKSB7CiAgc3RkX291dDxiaWd1aW50PihpKTsKfQoKdm9pZCBzdGRfZXJyKGJpZ3VpbnQgaSkgewogIHN0ZF9lcnI8YmlndWludD4oaSk7Cn0KCn0gIC8vIG5hbWVzcGFjZSBiMnN0eWxlCgojZW5kaWYgIC8vIEIyU1RZTEVfTElCX0IyU1RZTEVfU1RESU9fSAoNAAAAYjJzdHlsZS9zdHIuaGoDAADvu78KI2lmbmRlZiBCMlNUWUxFX0xJQl9CMlNUWUxFX1NUUl9ICiNkZWZpbmUgQjJTVFlMRV9MSUJfQjJTVFlMRV9TVFJfSAoKI2luY2x1ZGUgPGIyc3R5bGUvdHlwZXMuaD4KI2luY2x1ZGUgPGJzdHlsZS9zdHIuaD4KI2luY2x1ZGUgPGFzc2VydC5oPgoKbmFtZXNwYWNlIGIyc3R5bGUgewoKI2lmZGVmIEIzU1RZTEUKc3RyaW5nIF9zdHJfbWlkKHN0cmluZyBzLCBpbnQgaSwgaW50IGwpIHsKICBzdHJpbmcgcjsKICBsb2dpYyAiY3V0X2xlbiByIHMgaSBsIjsKICByZXR1cm4gcjsKfQojZWxzZQpzdHJpbmcgX3N0cl9taWQoc3RyaW5nIHMsIGludCBpLCBpbnQgbCkgewogIHN0cmluZyByOwogIGxvZ2ljICJjdXRfbGVuIGIyc3R5bGVfX3IgYjJzdHlsZV9fcyBiMnN0eWxlX19pIGIyc3R5bGVfX2wiOwogIHJldHVybiByOwp9CiNlbmRpZgoKc3RyaW5nIHN0cl9taWQoc3RyaW5nIHMsIGludCBpLCBpbnQgbCkgewogIDo6YXNzZXJ0KF9fU1RBVEVNRU5UX18gKyAiQCIgKyBfX0ZJTEVfXywgKGkgPj0gMCkgJiYgKGwgPj0gMCkpOwogIHJldHVybiBfc3RyX21pZChzLCBpLCBsKTsKfQoKYm9vbCBzdHJfZW5kc193aXRoKHN0cmluZyBpLCBzdHJpbmcgaikgewogIGludCBpbCA9IDo6c3RyX2xlbihpKTsKICBpbnQgamwgPSA6OnN0cl9sZW4oaik7CiAgaWYgKGlsIDwgamwpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CiAgaWYgKGlsID09IGpsKSB7CiAgICByZXR1cm4gOjpzdHJfZXF1YWwoaSwgaik7CiAgfQogIHN0cmluZyBzaSA9IHN0cl9taWQoaSwgaWwgLSBqbCwgamwpOwogIHJldHVybiA6OnN0cl9lcXVhbChzaSwgaik7Cn0KCn0gIC8vIG5hbWVzcGFjZSBiMnN0eWxlCgojZW5kaWYgIC8vIEIyU1RZTEVfTElCX0IyU1RZTEVfU1RSX0gKEAAAAGIyc3R5bGUvdG9fc3RyLmhDBgAA77u/DQojaWZuZGVmIEIyU1RZTEVfTElCX0IyU1RZTEVfVE9fU1RSX0gNCiNkZWZpbmUgQjJTVFlMRV9MSUJfQjJTVFlMRV9UT19TVFJfSA0KDQojaW5jbHVkZSA8YjJzdHlsZS9sb2FkZWRfbWV0aG9kLmg+DQojaW5jbHVkZSA8YjJzdHlsZS9vcGVyYXRvcnMuaD4NCiNpbmNsdWRlIDxsaW1pdHMuaD4NCg0KbmFtZXNwYWNlIGIyc3R5bGUgew0KDQpzdHJpbmcgdG9fc3RyKHN0cmluZyBpKSB7DQogIHJldHVybiBpOw0KfQ0KDQpzdHJpbmcgdG9fc3RyKGJ5dGUgaSkgew0KICByZXR1cm4gOjp0b19zdHIoaSk7DQp9DQoNCnN0cmluZyB0b19zdHIoYm9vbCBpKSB7DQogIGlmIChpKSByZXR1cm4gIlRydWUiOw0KICByZXR1cm4gIkZhbHNlIjsNCn0NCg0Kc3RyaW5nIGxlZ2FjeV9iaWd1aW50X3RvX3N0cihiaWd1aW50IGkpIHsNCiAgaWYgKGkgPT0gMEwpIHsNCiAgICByZXR1cm4gIjAiOw0KICB9DQogIHN0cmluZyBzOw0KICB3aGlsZSAoaSA+IDBMKSB7DQogICAgaW50IGIgPSA6OnRvX2ludChtb2QoaSwgMTBMKSk7DQogICAgaSAvPSAxMEw7DQogICAgYiArPSA0ODsNCiAgICBzID0gOjpzdHJfY29uY2F0KDo6dG9fc3RyKDo6dG9fYnl0ZShiKSksIHMpOw0KICB9DQogIHJldHVybiBzOw0KfQ0KDQpzdHJpbmcgYmlndWludF90b19zdHIoYmlndWludCBpKSB7DQogIGxvYWRfbWV0aG9kKCJiaWdfdWludF90b19zdHIiKTsNCiAgcmV0dXJuIGV4ZWN1dGVfbG9hZGVkX21ldGhvZDxiaWd1aW50LCBzdHJpbmc+KGkpOw0KfQ0KDQpzdHJpbmcgdG9fc3RyKGJpZ3VpbnQgaSkgew0KICByZXR1cm4gYmlndWludF90b19zdHIoaSk7DQp9DQoNCnRlbXBsYXRlIDxUPg0Kc3RyaW5nIGJpZ3VpbnRfdG9fc3RyX2ZvcndhcmQoVCBpLCBUIE1BWCkgew0KICBpZiAoaSA8PSBNQVgpIHsNCiAgICByZXR1cm4gYmlndWludF90b19zdHIoOjp0b19iaWd1aW50KGkpKTsNCiAgfQ0KICBpIC09IE1BWDsNCiAgaSA9IE1BWCAtIGk7DQogIFQgXzIgPSAyOw0KICBpICs9IF8yOw0KICByZXR1cm4gOjpzdHJfY29uY2F0KCItIiwgYmlndWludF90b19zdHIoOjp0b19iaWd1aW50KGkpKSk7DQp9DQoNCnN0cmluZyBpbnRfdG9fc3RyKGludCBpKSB7DQogIHJldHVybiBiaWd1aW50X3RvX3N0cl9mb3J3YXJkPGludD4oaSwgOjpJTlRfTUFYKTsNCn0NCg0Kc3RyaW5nIHVmbG9hdF90b19zdHIodWZsb2F0IGkpIHsNCiAgbG9hZF9tZXRob2QoImJpZ191ZGVjX3RvX3N0ciIpOw0KICByZXR1cm4gZXhlY3V0ZV9sb2FkZWRfbWV0aG9kPHVmbG9hdCwgc3RyaW5nPihpKTsNCn0NCg0Kc3RyaW5nIGxvbmdfdG9fc3RyKGxvbmcgaSkgew0KICByZXR1cm4gYmlndWludF90b19zdHJfZm9yd2FyZDxsb25nPihpLCA6OkxPTkdfTUFYKTsNCn0NCg0Kc3RyaW5nIHRvX3N0cihpbnQgaSkgew0KICByZXR1cm4gaW50X3RvX3N0cihpKTsNCn0NCg0Kc3RyaW5nIHRvX3N0cih1ZmxvYXQgaSkgew0KICByZXR1cm4gdWZsb2F0X3RvX3N0cihpKTsNCn0NCg0Kc3RyaW5nIHRvX3N0cihsb25nIGkpIHsNCiAgcmV0dXJuIGxvbmdfdG9fc3RyKGkpOw0KfQ0KDQp9ICAvLyBuYW1lc3BhY2UgYjJzdHlsZQ0KDQojZW5kaWYgIC8vIEIyU1RZTEVfTElCX0IyU1RZTEVfVE9fU1RSX0gNCg8AAABiMnN0eWxlL3R5cGVzLmiaAQAA77u/CiNpZm5kZWYgQjJTVFlMRV9MSUJfQjJTVFlMRV9UWVBFU19ICiNkZWZpbmUgQjJTVFlMRV9MSUJfQjJTVFlMRV9UWVBFU19ICgojaW5jbHVkZSA8YnN0eWxlL3R5cGVzLmg+CgovLyBUT0RPOiBTZWFyY2ggdHlwZXMgaW4gcGFyZW50IHNjb3Blcy4KbmFtZXNwYWNlIGIyc3R5bGUgewoKdHlwZWRlZiA6OnN0cmluZyBzdHJpbmc7CnR5cGVkZWYgOjp2b2lkIHZvaWQ7CnR5cGVkZWYgOjpib29sIGJvb2w7CnR5cGVkZWYgOjpiaWd1aW50IGJpZ3VpbnQ7CnR5cGVkZWYgOjpsb25nIGxvbmc7CnR5cGVkZWYgOjppbnQgaW50Owp0eXBlZGVmIDo6Ynl0ZSBieXRlOwp0eXBlZGVmIDo6dWZsb2F0IHVmbG9hdDsKCn0gIC8vIG5hbWVzcGFjZSBiMnN0eWxlCgojZW5kaWYgIC8vIEIyU1RZTEVfTElCX0IyU1RZTEVfVFlQRVNfSAoQAAAAYjJzdHlsZS91ZmxvYXQuaKwQAADvu78KI2lmbmRlZiBCMlNUWUxFX0xJQl9CMlNUWUxFX1VGTE9BVF9ICiNkZWZpbmUgQjJTVFlMRV9MSUJfQjJTVFlMRV9VRkxPQVRfSAoKI2luY2x1ZGUgPGIyc3R5bGUvbG9hZGVkX21ldGhvZC5oPgojaW5jbHVkZSA8YjJzdHlsZS9zdGRpby5oPgojaW5jbHVkZSA8YjJzdHlsZS9zdHIuaD4KI2luY2x1ZGUgPGIyc3R5bGUvdHlwZXMuaD4KCm5hbWVzcGFjZSBiMnN0eWxlIHsKCiNpZmRlZiBCM1NUWUxFCmJvb2wgZXF1YWwodWZsb2F0IGksIHVmbG9hdCBqKSB7CiAgYm9vbCByZXN1bHQ7CiAgbG9naWMgImZsb2F0X2VxdWFsIHJlc3VsdCBpIGoiOwogIHJldHVybiByZXN1bHQ7Cn0KCmJvb2wgbm90X2VxdWFsKHVmbG9hdCBpLCB1ZmxvYXQgaikgewogIGJvb2wgcmVzdWx0OwogIGxvZ2ljICJmbG9hdF9lcXVhbCByZXN1bHQgaSBqIjsKICByZXR1cm4gbm90KHJlc3VsdCk7Cn0KCmJvb2wgZ3JlYXRlcl90aGFuKHVmbG9hdCBpLCB1ZmxvYXQgaikgewogIGJvb2wgcmVzdWx0OwogIGxvZ2ljICJmbG9hdF9tb3JlIHJlc3VsdCBpIGoiOwogIHJldHVybiByZXN1bHQ7Cn0KCmJvb2wgbGVzc190aGFuKHVmbG9hdCBpLCB1ZmxvYXQgaikgewogIGJvb2wgcmVzdWx0OwogIGxvZ2ljICJmbG9hdF9sZXNzIHJlc3VsdCBpIGoiOwogIHJldHVybiByZXN1bHQ7Cn0KCnVmbG9hdCBhZGQodWZsb2F0IGksIHVmbG9hdCBqKSB7CiAgbG9naWMgImZsb2F0X2FkZCBpIGkgaiI7CiAgcmV0dXJuIGk7Cn0KCnVmbG9hdCBtaW51cyh1ZmxvYXQgaSwgdWZsb2F0IGopIHsKICBsb2dpYyAiZmxvYXRfc3VidHJhY3QgaSBpIGoiOwogIHJldHVybiBpOwp9Cgp1ZmxvYXQgbXVsdGlwbHkodWZsb2F0IGksIHVmbG9hdCBqKSB7CiAgbG9naWMgImZsb2F0X211bHRpcGx5IGkgaSBqIjsKICByZXR1cm4gaTsKfQoKdWZsb2F0IGRpdmlkZSh1ZmxvYXQgaSwgdWZsb2F0IGopIHsKICB1ZmxvYXQgcmVzdWx0OwogIGxvZ2ljICJmbG9hdF9kaXZpZGUgcmVzdWx0IGkgaiI7CiAgcmV0dXJuIHJlc3VsdDsKfQoKdWZsb2F0IHBvd2VyKHVmbG9hdCBpLCB1ZmxvYXQgaikgewogIGxvZ2ljICJmbG9hdF9wb3dlciBpIGkgaiI7CiAgcmV0dXJuIGk7Cn0KI2Vsc2UKYm9vbCBlcXVhbCh1ZmxvYXQgaSwgdWZsb2F0IGopIHsKICBib29sIHJlc3VsdDsKICBsb2dpYyAiZmxvYXRfZXF1YWwgYjJzdHlsZV9fcmVzdWx0IGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7CiAgcmV0dXJuIHJlc3VsdDsKfQoKYm9vbCBub3RfZXF1YWwodWZsb2F0IGksIHVmbG9hdCBqKSB7CiAgYm9vbCByZXN1bHQ7CiAgbG9naWMgImZsb2F0X2VxdWFsIGIyc3R5bGVfX3Jlc3VsdCBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOwogIHJldHVybiBub3QocmVzdWx0KTsKfQoKYm9vbCBncmVhdGVyX3RoYW4odWZsb2F0IGksIHVmbG9hdCBqKSB7CiAgYm9vbCByZXN1bHQ7CiAgbG9naWMgImZsb2F0X21vcmUgYjJzdHlsZV9fcmVzdWx0IGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7CiAgcmV0dXJuIHJlc3VsdDsKfQoKYm9vbCBsZXNzX3RoYW4odWZsb2F0IGksIHVmbG9hdCBqKSB7CiAgYm9vbCByZXN1bHQ7CiAgbG9naWMgImZsb2F0X2xlc3MgYjJzdHlsZV9fcmVzdWx0IGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7CiAgcmV0dXJuIHJlc3VsdDsKfQoKdWZsb2F0IGFkZCh1ZmxvYXQgaSwgdWZsb2F0IGopIHsKICBsb2dpYyAiZmxvYXRfYWRkIGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsKICByZXR1cm4gaTsKfQoKdWZsb2F0IG1pbnVzKHVmbG9hdCBpLCB1ZmxvYXQgaikgewogIGxvZ2ljICJmbG9hdF9zdWJ0cmFjdCBiMnN0eWxlX19pIGIyc3R5bGVfX2kgYjJzdHlsZV9faiI7CiAgcmV0dXJuIGk7Cn0KCnVmbG9hdCBtdWx0aXBseSh1ZmxvYXQgaSwgdWZsb2F0IGopIHsKICBsb2dpYyAiZmxvYXRfbXVsdGlwbHkgYjJzdHlsZV9faSBiMnN0eWxlX19pIGIyc3R5bGVfX2oiOwogIHJldHVybiBpOwp9Cgp1ZmxvYXQgZGl2aWRlKHVmbG9hdCBpLCB1ZmxvYXQgaikgewogIHVmbG9hdCByZXN1bHQ7CiAgbG9naWMgImZsb2F0X2RpdmlkZSBiMnN0eWxlX19yZXN1bHQgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsKICByZXR1cm4gcmVzdWx0Owp9Cgp1ZmxvYXQgcG93ZXIodWZsb2F0IGksIHVmbG9hdCBqKSB7CiAgbG9naWMgImZsb2F0X3Bvd2VyIGIyc3R5bGVfX2kgYjJzdHlsZV9faSBiMnN0eWxlX19qIjsKICByZXR1cm4gaTsKfQojZW5kaWYKCmJvb2wgZ3JlYXRlcl9vcl9lcXVhbCh1ZmxvYXQgaSwgdWZsb2F0IGopIHsKICByZXR1cm4gb3IoZ3JlYXRlcl90aGFuKGksIGopLCBlcXVhbChpLCBqKSk7Cn0KCmJvb2wgbGVzc19vcl9lcXVhbCh1ZmxvYXQgaSwgdWZsb2F0IGopIHsKICByZXR1cm4gb3IobGVzc190aGFuKGksIGopLCBlcXVhbChpLCBqKSk7Cn0KCnZvaWQgc3RkX291dCh1ZmxvYXQgaSkgewogIHN0ZF9vdXQodWZsb2F0X3RvX3N0cihpKSk7Cn0KCnZvaWQgc3RkX2Vycih1ZmxvYXQgaSkgewogIHN0ZF9lcnIodWZsb2F0X3RvX3N0cihpKSk7Cn0KCnVmbG9hdCBzZWxmX2luY19wb3N0KHVmbG9hdCYgeCkgewogIHVmbG9hdCByID0geDsKCXggPSBhZGQoeCwgMS4wKTsKICByZXR1cm4gcjsKfQoKdWZsb2F0IHNlbGZfZGVjX3Bvc3QodWZsb2F0JiB4KSB7CiAgdWZsb2F0IHIgPSB4OwoJeCA9IG1pbnVzKHgsIDEuMCk7CiAgcmV0dXJuIHI7Cn0KCnVmbG9hdCBzZWxmX2luY19wcmUodWZsb2F0JiB4KSB7Cgl4ID0gYWRkKHgsIDEuMCk7CiAgcmV0dXJuIHg7Cn0KCnVmbG9hdCBzZWxmX2RlY19wcmUodWZsb2F0JiB4KSB7Cgl4ID0gbWludXMoeCwgMS4wKTsKICByZXR1cm4geDsKfQoKdm9pZCBzZWxmX2FkZCh1ZmxvYXQmIGksIHVmbG9hdCBqKSB7CiAgaSA9IGFkZChpLCBqKTsKfQoKdm9pZCBzZWxmX21pbnVzKHVmbG9hdCYgaSwgdWZsb2F0IGopIHsKICBpID0gbWludXMoaSwgaik7Cn0KCnZvaWQgc2VsZl9tdWx0aXBseSh1ZmxvYXQmIGksIHVmbG9hdCBqKSB7CiAgaSA9IG11bHRpcGx5KGksIGopOwp9Cgp2b2lkIHNlbGZfZGl2aWRlKHVmbG9hdCYgaSwgdWZsb2F0IGopIHsKICBpID0gZGl2aWRlKGksIGopOwp9Cgp2b2lkIHNlbGZfcG93ZXIodWZsb2F0JiBpLCB1ZmxvYXQgaikgewogIGkgPSBwb3dlcihpLCBqKTsKfQoKbmFtZXNwYWNlIHVmbG9hdCB7Cgp0eXBlZGVmIDo6c3RyaW5nIHN0cmluZzsKdHlwZWRlZiA6OnZvaWQgdm9pZDsKdHlwZWRlZiA6OmJvb2wgYm9vbDsKdHlwZWRlZiA6OmJpZ3VpbnQgYmlndWludDsKdHlwZWRlZiA6OmxvbmcgbG9uZzsKdHlwZWRlZiA6OmludCBpbnQ7CnR5cGVkZWYgOjpieXRlIGJ5dGU7CnR5cGVkZWYgOjp1ZmxvYXQgdWZsb2F0OwoKdWZsb2F0IGZyb20oYmlndWludCBpKSB7CiAgOjpiMnN0eWxlOjpsb2FkX21ldGhvZCgiYmlnX3VpbnRfdG9fYmlnX3VkZWMiKTsKICByZXR1cm4gOjpiMnN0eWxlOjpleGVjdXRlX2xvYWRlZF9tZXRob2Q8YmlndWludCwgdWZsb2F0PihpKTsKfQoKdWZsb2F0IGZyb20oaW50IGkpIHsKICByZXR1cm4gZnJvbSg6OnRvX2JpZ3VpbnQoaSkpOwp9Cgp1ZmxvYXQgZnJvbShsb25nIGkpIHsKICByZXR1cm4gZnJvbSg6OnRvX2JpZ3VpbnQoaSkpOwp9Cgp1ZmxvYXQgZnJhY3Rpb24oYmlndWludCBuLCBiaWd1aW50IGQpIHsKICB1ZmxvYXQgcmVzdWx0ID0gZnJvbShuKTsKICB1ZmxvYXQgdWQgPSBmcm9tKGQpOwogIHJldHVybiA6OmIyc3R5bGU6OmRpdmlkZShyZXN1bHQsIHVkKTsKfQoKdWZsb2F0IGZyYWN0aW9uKGJpZ3VpbnQgbiwgaW50IGQpIHsKICByZXR1cm4gZnJhY3Rpb24obiwgOjp0b19iaWd1aW50KGQpKTsKfQoKdWZsb2F0IGZyYWN0aW9uKGJpZ3VpbnQgbiwgbG9uZyBkKSB7CiAgcmV0dXJuIGZyYWN0aW9uKG4sIDo6dG9fYmlndWludChkKSk7Cn0KCnVmbG9hdCBmcmFjdGlvbihpbnQgbiwgYmlndWludCBkKSB7CiAgcmV0dXJuIGZyYWN0aW9uKDo6dG9fYmlndWludChuKSwgZCk7Cn0KCnVmbG9hdCBmcmFjdGlvbihsb25nIG4sIGJpZ3VpbnQgZCkgewogIHJldHVybiBmcmFjdGlvbig6OnRvX2JpZ3VpbnQobiksIGQpOwp9Cgp1ZmxvYXQgZnJhY3Rpb24oaW50IG4sIGludCBkKSB7CiAgcmV0dXJuIGZyYWN0aW9uKDo6dG9fYmlndWludChuKSwgOjp0b19iaWd1aW50KGQpKTsKfQoKdWZsb2F0IGZyYWN0aW9uKGxvbmcgbiwgbG9uZyBkKSB7CiAgcmV0dXJuIGZyYWN0aW9uKDo6dG9fYmlndWludChuKSwgOjp0b19iaWd1aW50KGQpKTsKfQoKfSAgLy8gbmFtZXNwYWNlIHVmbG9hdAoKfSAgLy8gbmFtZXNwYWNlIGIyc3R5bGUKI2VuZGlmICAvLyBCMlNUWUxFX0xJQl9CMlNUWUxFX1VGTE9BVF9ICgsAAABzdGQvdHlwZXMuaF0BAADvu78KI2lmbmRlZiBCMlNUWUxFX0xJQl9TVERfVFlQRVNfSAojZGVmaW5lIEIyU1RZTEVfTElCX1NURF9UWVBFU19ICgojaW5jbHVkZSA8YnN0eWxlL3R5cGVzLmg+CgpuYW1lc3BhY2Ugc3RkIHsKCnR5cGVkZWYgOjpzdHJpbmcgc3RyaW5nOwp0eXBlZGVmIDo6dm9pZCB2b2lkOwp0eXBlZGVmIDo6Ym9vbCBib29sOwp0eXBlZGVmIDo6YmlndWludCBiaWd1aW50Owp0eXBlZGVmIDo6bG9uZyBsb25nOwp0eXBlZGVmIDo6aW50IGludDsKdHlwZWRlZiA6OmJ5dGUgYnl0ZTsKdHlwZWRlZiA6OnVmbG9hdCB1ZmxvYXQ7Cgp9ICAvLyBuYW1lc3BhY2Ugc3RkCgojZW5kaWYgIC8vIEIyU1RZTEVfTElCX1NURF9UWVBFU19ICgAAAHN0ZC92ZWN0b3IZBQAA77u/CiNpZm5kZWYgQjJTVFlMRV9MSUJfU1REX1ZFQ1RPUgojZGVmaW5lIEIyU1RZTEVfTElCX1NURF9WRUNUT1IKCiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDxhc3NlcnQuaD4KI2luY2x1ZGUgPGIyc3R5bGUvaGVhcF9wdHIuaD4KI2luY2x1ZGUgPHN0ZC90eXBlcy5oPgoKbmFtZXNwYWNlIHN0ZCB7Cgp0ZW1wbGF0ZSA8VD4KY2xhc3MgdmVjdG9yIHsKICA6OmIyc3R5bGU6OmhlYXBfcHRyPFQ+IF9hOwogIGludCBfczsKCiAgaW50IHNpemUoKSB7CiAgICByZXR1cm4gdGhpcy5fczsKICB9CgogIGludCBjYXBhY2l0eSgpIHsKICAgIHJldHVybiB0aGlzLl9hLnNpemUoKTsKICB9CgogIFQgZ2V0KGludCBpbmRleCkgewogICAgOjphc3NlcnQoaW5kZXggPj0gMCwgImdldCIpOwogICAgOjphc3NlcnQoaW5kZXggPCB0aGlzLnNpemUoKSwgImdldCIpOwogICAgcmV0dXJuIHRoaXMuX2EuZ2V0KGluZGV4KTsKICB9CgogIHZvaWQgc2V0KGludCBpbmRleCwgVCB2KSB7CiAgICA6OmFzc2VydChpbmRleCA+PSAwLCAic2V0Iik7CiAgICA6OmFzc2VydChpbmRleCA8IHRoaXMuc2l6ZSgpLCAic2V0Iik7CiAgICB0aGlzLl9hLnNldChpbmRleCwgdik7CiAgfQoKICB2b2lkIGRlc3RydWN0KCkgewogICAgdGhpcy5fYS5kZXN0cnVjdCgpOwogIH0KCiAgdm9pZCByZXNlcnZlKGludCBzaXplKSB7CiAgICA6OmIyc3R5bGU6OmhlYXBfcHRyPFQ+IHgoc2l6ZSk7CiAgICBmb3IgKGludCBpID0gMDsgaSA8IHRoaXMuc2l6ZSgpOyBpKyspIHsKICAgICAgeC5zZXQoaSwgdGhpcy5nZXQoaSkpOwogICAgfQoJdGhpcy5kZXN0cnVjdCgpOwogICAgdGhpcy5fYSA9IHg7Cgl4LnJlbGVhc2UoKTsKICB9CgogIHZvaWQgY29uc3RydWN0KGludCBzaXplKSB7CiAgICB0aGlzLnJlc2VydmUoc2l6ZSk7CiAgfQoKICB2b2lkIGNvbnN0cnVjdCgpIHsKICAgIHRoaXMuY29uc3RydWN0KDQpOwogIH0KCiAgdm9pZCBwdXNoX2JhY2soVCB2KSB7CiAgICBpZiAodGhpcy5zaXplKCkgPT0gdGhpcy5jYXBhY2l0eSgpKSB7CiAgICAgIHRoaXMucmVzZXJ2ZSh0aGlzLmNhcGFjaXR5KCkgPDwgMSk7CiAgICB9CiAgICB0aGlzLl9zKys7CiAgICB0aGlzLnNldCh0aGlzLnNpemUoKSAtIDEsIHYpOwogIH0KCiAgdm9pZCBwb3BfYmFjaygpIHsKICAgIDo6YXNzZXJ0KHRoaXMuc2l6ZSgpID4gMCwgInBvcF9iYWNrIik7CiAgICB0aGlzLl9zLS07CiAgfQoKICB2b2lkIGNsZWFyKCkgewogICAgdGhpcy5fcyA9IDA7CiAgfQp9OwoKfSAgLy8gbmFtZXNwYWNlIHN0ZAoKI2VuZGlmICAvLyBCMlNUWUxFX0xJQl9TVERfVkVDVE9SEAAAAHRlc3RpbmcvYXNzZXJ0LmggBQAA77u/CiNpZm5kZWYgQjJTVFlMRV9MSUJfVEVTVElOR19BU1NFUlRfSAojZGVmaW5lIEIyU1RZTEVfTElCX1RFU1RJTkdfQVNTRVJUX0gKCiNpbmNsdWRlIDxiMnN0eWxlL3N0ZGlvLmg+CiNpbmNsdWRlIDxiMnN0eWxlL3RvX3N0ci5oPgojaW5jbHVkZSA8YnN0eWxlLmg+CiNpbmNsdWRlIDxic3R5bGUvc3RyLmg+CiNpbmNsdWRlIDx0ZXN0aW5nL3R5cGVzLmg+CgpuYW1lc3BhY2UgYjJzdHlsZSB7Cm5hbWVzcGFjZSB0ZXN0aW5nIHsKCmludCBfYXNzZXJ0aW9uX2NvdW50ID0gMDsKCi8vIFRPRE86IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIHRlc3QgdGhlIF9fRklMRV9fIGluIGluY2x1ZGVkIGZpbGVzLgpzdHJpbmcgYXNzZXJ0X19GSUxFX18oKSB7CiAgcmV0dXJuIF9fRklMRV9fOwp9Cgp2b2lkIGFzc2VydF90cnVlKGJvb2wgdiwgc3RyaW5nIG1zZykgewogIF9hc3NlcnRpb25fY291bnQrKzsKICBzdHJpbmcgcHJlZml4OwogIGlmICh2KSB7CiAgICBwcmVmaXggPSAiU3VjY2VzczogIjsKICB9IGVsc2UgewogICAgcHJlZml4ID0gIkZhaWx1cmU6ICI7CiAgfQogIDo6YjJzdHlsZTo6c3RkX291dChwcmVmaXgpOwogIDo6YjJzdHlsZTo6c3RkX291dChtc2cpOwogIDo6YjJzdHlsZTo6c3RkX291dCgiXG4iKTsKfQoKdm9pZCBhc3NlcnRfdHJ1ZShib29sIHYpIHsKICBhc3NlcnRfdHJ1ZSh2LCAibm8gZXh0cmEgaW5mb3JtYXRpb24uIik7Cn0KCnZvaWQgYXNzZXJ0X2ZhbHNlKGJvb2wgdiwgc3RyaW5nIG1zZykgewogIGFzc2VydF90cnVlKCF2LCBtc2cpOwp9Cgp2b2lkIGFzc2VydF9mYWxzZShib29sIHYpIHsKICBhc3NlcnRfdHJ1ZSghdik7Cn0KCi8qClRPRE86IE1ha2UgdGhpcyB3b3JrLiBDdXJyZW50bHkgYXNzZXJ0X2VxdWFsX18yIGNvbmZsaWN0cyB3aXRoIHRoZSBmb2xsb3dpbmcgb25lLgp0ZW1wbGF0ZSA8VCwgVDI+CnZvaWQgYXNzZXJ0X2VxdWFsKFQgdCwgVDIgdDIsIHN0cmluZyBtc2cpIHsKICBhc3NlcnRfdHJ1ZSh0ID09IHQyLCBtc2cpOwp9CiovCgp0ZW1wbGF0ZSA8VCwgVDI+CnZvaWQgYXNzZXJ0X2VxdWFsKFQgdCwgVDIgdDIpIHsKICBhc3NlcnRfdHJ1ZSh0ID09IHQyLCA6OnN0cl9jb25jYXQoOjpiMnN0eWxlOjp0b19zdHIodCksICIgIT0gIiwgOjpiMnN0eWxlOjp0b19zdHIodDIpKSk7Cn0KCnRlbXBsYXRlIDxUPgp2b2lkIGFzc2VydF9lcXVhbChUIHQsIFQgdDIpIHsKICBhc3NlcnRfZXF1YWw8VCwgVD4odCwgdDIpOwp9Cgp9ICAvLyBuYW1lc3BhY2UgdGVzdGluZwp9ICAvLyBuYW1lc3BhY2UgYjJzdHlsZQoKI2VuZGlmICAvLyBCMlNUWUxFX0xJQl9URVNUSU5HX0FTU0VSVF9ICg8AAAB0ZXN0aW5nL3R5cGVzLmiuAQAACiNpZm5kZWYgQjJTVFlMRV9MSUJfVEVTVElOR19UWVBFU19ICiNkZWZpbmUgQjJTVFlMRV9MSUJfVEVTVElOR19UWVBFU19ICgojaW5jbHVkZSA8YnN0eWxlL3R5cGVzLmg+CgpuYW1lc3BhY2UgYjJzdHlsZSB7Cm5hbWVzcGFjZSB0ZXN0aW5nIHsKCnR5cGVkZWYgOjpzdHJpbmcgc3RyaW5nOwp0eXBlZGVmIDo6dm9pZCB2b2lkOwp0eXBlZGVmIDo6Ym9vbCBib29sOwp0eXBlZGVmIDo6aW50IGludDsKCi8vIFRPRE86IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIHRlc3QgdGhlIF9fRklMRV9fIGluIGluY2x1ZGVkIGZpbGVzLgpzdHJpbmcgdHlwZXNfX0ZJTEVfXygpIHsKICByZXR1cm4gX19GSUxFX187Cn0KCn0gIC8vIG5hbWVzcGFjZSB0ZXN0aW5nCn0gIC8vIG5hZW1zcGFjZSBiMnN0eWxlCgojZW5kaWYgIC8vIEIyU1RZTEVfTElCX1RFU1RJTkdfVFlQRVNfSA=="
        ))
End Class
