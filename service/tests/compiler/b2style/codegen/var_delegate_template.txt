
#include <b2style.h>

template<RT, T...>
delegate RT function(T);

int add(int i, int j) {
  return i + j;
}

void write(string s) {
  b2style::std_out(s);
}

void self_inc(int& i, int j, int k) {
  i+=j;
  i+=k;
}

void main() {
  function<int, int, int> f = add;
  b2style::std_out(f(1, 1));

  function<void, string> f2 = write;
  f2("abc");

  function<void, int&, int, int> f3 = self_inc;
  int i = 1;
  f3(i, 2, 3);
  b2style::std_out(i);
}