Option Explicit On
Option Infer Off
Option Strict On
Imports osi.root.connector
Public NotInheritable Class b2style_self_test_cases
    Private Sub New()
    End Sub
    Public Shared ReadOnly data() As Byte = 
        Convert.FromBase64String(strcat_hint(CUInt(23482), 
            "GgAAAGFjY2Vzcy1iaWd1aW50LWFzLWhlYXAudHh0LgEAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKdm9pZCBtYWluKCkgewogIGludCB4WzEwMF07CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgeFtpXSA9IGkgKyAxOwogIH0KICB0eXBlX3B0ciB5ID0geDsKICByZWludGVycHJldF9jYXN0KHksIGludCk7CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oeVtpXSwgaSArIDEpOwogIH0KICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9EAAAAGFzc2VydC1lcXVhbC50eHTQAAAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp2b2lkIG1haW4oKSB7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludCwgaW50PigxLCAxKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nLCBzdHJpbmc+KCJhYmMiLCAiYWJjIik7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQ0AAABib29sLWhlYXAudHh0pAIAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgojaW5jbHVkZSA8YjJzdHlsZS9oZWFwX3B0ci5oPgoKdm9pZCBmKGJvb2wgcykgewogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxib29sPihzW2ldLCAoaSAlIDIpID09IDEpOwogIH0KfQoKdm9pZCBmKGIyc3R5bGU6OmhlYXBfcHRyPGJvb2w+IGgpIHsKICBmb3IgKGludCBpID0gMDsgaSA8IGguc2l6ZSgpOyBpKyspIHsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxib29sPihoLmdldChpKSwgKGkgJSAyKSA9PSAxKTsKICB9Cn0KCnZvaWQgbWFpbigpIHsKICBib29sIHNbMTAwXTsKICBmb3IgKGludCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7CiAgICBzW2ldID0gKChpICUgMikgPT0gMSk7CiAgfQogIGYocyk7CgogIGIyc3R5bGU6OmhlYXBfcHRyPGJvb2w+IGgoMTAwKTsKICBmb3IgKGludCBpID0gMDsgaSA8IGguc2l6ZSgpOyBpKyspIHsKICAgIGguc2V0KGksIChpICUgMikgPT0gMSk7CiAgfQogIGYoaCk7CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGIyc3R5bGU6OnRlc3Rpbmc6Ol9hc3NlcnRpb25fY291bnQsIDIwMCk7CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0OAAAAYm9vbF9hcnJheS50eHReAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp2b2lkIG1haW4oKSB7CiAgYm9vbCBhWzEwMF07CiAgYm9vbCBiOwogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIGFbaV0gPSAoKGkgJSAyKSA9PSAxKTsKICB9CiAgcmVpbnRlcnByZXRfY2FzdChiLCBpbnQpOwogIGIgPSBhOwogIHJlaW50ZXJwcmV0X2Nhc3QoYiwgYm9vbCk7CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGJvb2w+KGJbaV0sIChpICUgMikgPT0gMSk7CiAgfQogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0WAAAAY2FsbC1mdW5jLWluLXBhcmFtLnR4dKMAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgZihpbnQgeCkge30KCnZvaWQgZygpIHsKICBmKDEpOwp9Cgp2b2lkIGYoKSB7CiAgZygpOwp9Cgp2b2lkIG1haW4oKSB7CiAgZigpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KGwAAAGNsYXNzLWZ1bmMtdXNlLW93bi10eXBlLnR4dE4BAADvu78NCiNpbmNsdWRlIDxiMnN0eWxlLmg+DQojaW5jbHVkZSA8dGVzdGluZy5oPg0KDQpjbGFzcyBDIHsNCiAgaW50IHg7DQoNCiAgdm9pZCBhZGQoQyB0aGF0KSB7DQogICAgdGhpcy54ICs9IHRoYXQueDsNCiAgfQ0KfTsNCg0Kdm9pZCBtYWluKCkgew0KICBDIGM7DQogIGMueCA9IDEwOw0KICBDIGQ7DQogIGQueCA9IDIwOw0KICBjLmFkZChkKTsNCg0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihjLngsIDMwKTsNCiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oZC54LCAyMCk7DQogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7DQp9DgAAAGNsYXNzLWZ1bmMudHh0HgEAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKY2xhc3MgQyB7CiAgaW50IGJhc2U7CgogIGludCBpbmMoaW50IHgpIHsKICAgIHJldHVybiB4ICsgdGhpcy5iYXNlOwogIH0KCiAgdm9pZCBjb25zdHJ1Y3QoaW50IGJhc2UpIHsKCXRoaXMuYmFzZSA9IGJhc2U7CiAgfQp9OwoKdm9pZCBtYWluKCkgewogIEMgYygxKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihjLmluYygxKSwgMik7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQojAAAAY2xhc3MtZnVuY3Rpb24tY2FsbC13aXRoLXNwYWNlcy50eHTeAAAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CgpjbGFzcyBDIHsKICB2b2lkIGYoaW50JiB4KSB7CiAgICB4Kys7CiAgfQp9OwoKdm9pZCBtYWluKCkgewogIEMgYzsKICBpbnQgeCA9IDA7CiAgYyAuIGYgKCB4ICk7CiAgYjJzdHlsZTo6IHRlc3Rpbmc6OiBhc3NlcnRfdHJ1ZSggeCA9PSAxICk7CiAgYjJzdHlsZTo6IHRlc3Rpbmc6OiBmaW5pc2hlZCgpOwp9JAAAAGNsYXNzLWluaGVyaXRhbmNlLWJhc2UtdmFyaWFibGVzLnR4dNABAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCmNsYXNzIEEgewogIGludCBhOwp9OwoKY2xhc3MgQiB7CiAgaW50IGI7Cn07CgpjbGFzcyBDIDogQiB7CiAgaW50IGM7Cn07CgpjbGFzcyBEIDogQSwgQyB7CiAgaW50IGQ7Cn07Cgp2b2lkIG1haW4oKSB7CiAgRCBkOwogIGQuYT0xOwogIGQuYj0yOwogIGQuYz0zOwogIGQuZD00OwogIC8vIFRoZSAidHlwZS1pZCJzIGFyZSBub3QgdGVzdGVkLgogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGQuYSwgMSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oZC5iLCAyKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihkLmMsIDMpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGQuZCwgNCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfSIAAABjbGFzcy1pbmhlcml0YW5jZS1jb21waWxlLW9ubHkudHh01QAAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKY2xhc3MgQiB7CiAgaW50IHg7Cn07CgpjbGFzcyBDIDogQiB7CiAgaW50IHk7Cn07Cgp2b2lkIG1haW4oKSB7CiAgQyBjOwogIGMueSA9IDEwMDsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihjLnksIDEwMCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfSgAAABjbGFzcy1pbmhlcml0YW5jZS10ZW1wbGF0ZS12YXJpYWJsZXMudHh0wgEAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKdGVtcGxhdGUgPFQ+CmNsYXNzIEIgewogIFQgeDsKfTsKCmNsYXNzIEMgOiBCPGludD4gewogIGludCB5Owp9OwoKY2xhc3MgQzIgOiBCPHN0cmluZz4gewogIGludCB5Owp9OwoKdm9pZCBtYWluKCkgewogIEMgYzsKICBjLng9IDE7CiAgYy55PTI7CgogIEMyIGMyOwogIGMyLng9ImEiOwogIGMyLnk9MzsKCiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oYy54LCAxKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihjLnksIDIpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxzdHJpbmc+KGMyLngsICJhIik7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oYzIueSwgMyk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfSQAAABjbGFzcy10ZW1wbGF0ZS1mdW5jLWNvbXBpbGUtb25seS50eHR4AQAA77u/DQojaW5jbHVkZSA8YjJzdHlsZS5oPg0KI2luY2x1ZGUgPHRlc3RpbmcuaD4NCg0KY2xhc3MgQyB7DQogIHRlbXBsYXRlIDxUPg0KICB2b2lkIGYoKSB7fQ0KDQogIHRlbXBsYXRlIDxUPg0KICBvdmVycmlkYWJsZSB2b2lkIGcoKSB7fQ0KfTsNCg0KLyogVE9ETzogUmVtb3ZlIGNvbW1lbnRzLCB0aGUgZnVuY3Rpb24gdGVtcGxhdGUgbmVlZHMgdG8gY2FycnkgdG8gdHlwZSBpbmZvcm1hdGlvbiB0byBhdm9pZCBkdXBsaWNhdGluZyB3aXRoIG90aGVycy4NCmNsYXNzIEQgOiBDIHsNCiAgdGVtcGxhdGUgPFQ+DQogIG92ZXJyaWRlIHZvaWQgZygpIHt9DQp9Ow0KKi8NCg0Kdm9pZCBtYWluKCkgew0KICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOw0KfRUAAABjb3B5LWZ1bmN0aW9uLXB0ci50eHTLAAAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CgpkZWxlZ2F0ZSB2b2lkIHAoKTsKCnZvaWQgZigpIHsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZSh0cnVlKTsKfQoKdm9pZCBtYWluKCkgewogIHAgeCA9IGY7CiAgcCB5ID0geDsKICB4KCk7CiAgeSgpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0qAAAAZGVmaW5lLWNsYXNzLWNvbnN0cnVjdG9yLWZvci1ub24tY2xhc3MudHh0WgEAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKdm9pZCBjb25zdHJ1Y3QoaW50JiB0aGlzLCBpbnQgdikgewogIHRoaXMgPSB2ICsgMTsKfQoKdm9pZCBjb25zdHJ1Y3QoaW50JiB0aGlzKSB7CiAgdGhpcy5jb25zdHJ1Y3QoMSk7Cn0KCnZvaWQgZGVzdHJ1Y3QoaW50JiB0aGlzKSB7fQoKdm9pZCBtYWluKCkgewogIGludCB4KDEwMCk7CiAgaW50IHkoKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih4LCAxMDEpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KHksIDIpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0lAAAAZGVsZWdhdGUtZnVuY3Rpb25zLXdpdGgtc2FtZS1uYW1lLnR4dIIBAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPGIyc3R5bGUvZGVsZWdhdGVzLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CgppbnQgZihpbnQgeCkgewogIHJldHVybiB4ICsgMTsKfQoKc3RyaW5nIGYoc3RyaW5nIHgpIHsKICByZXR1cm4geDsKfQoKdm9pZCBtYWluKCkgewogIGIyc3R5bGU6OmZ1bmN0aW9uPGludCwgaW50PiBkID0gZjsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihkKDEpLCAyKTsKCiAgYjJzdHlsZTo6ZnVuY3Rpb248c3RyaW5nLCBzdHJpbmc+IGQyID0gZjsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihkMigiYWJjIiksICJhYmMiKTsKCiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfRUAAABkZWxlZ2F0ZV9pbl9jbGFzcy50eHR7AQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CiNpbmNsdWRlIDxiMnN0eWxlL2RlbGVnYXRlcy5oPgoKY2xhc3MgQyB7CiAgYjJzdHlsZTo6ZnVuY3Rpb248aW50LCBpbnQ+IGluYzsKICBpbnQgYmFzZTsKCiAgaW50IG15X2luYyhpbnQgeCkgewogICAgcmV0dXJuIHggKyB0aGlzLmJhc2U7CiAgfQoKICB2b2lkIGNvbnN0cnVjdChpbnQgYmFzZSkgewogICAgdGhpcy5pbmMgPSAgbXlfaW5jOwoJdGhpcy5iYXNlID0gYmFzZTsKICB9Cn07Cgp2b2lkIG1haW4oKSB7CiAgQyBjKDEpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGMuaW5jKDEpLCAyKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9Ch0AAABkZWxlZ2F0ZV9pbl9jbGFzc19vbl9oZWFwLnR4dGIBAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KI2luY2x1ZGUgPGIyc3R5bGUvZGVsZWdhdGVzLmg+CgpjbGFzcyBDIHsKICBiMnN0eWxlOjpmdW5jdGlvbjxpbnQsIGludD4gaW5jOwoKICBpbnQgbXlfaW5jKGludCB4KSB7CiAgICByZXR1cm4geCArIDE7CiAgfQoKICB2b2lkIGNvbnN0cnVjdCgpIHsKICAgIHRoaXMuaW5jID0gIG15X2luYzsKICB9Cn07Cgp2b2lkIG1haW4oKSB7CiAgQyBjWzFdOwogIGNbMF0uY29uc3RydWN0KCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oY1swXS5pbmMoMSksIDIpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0SAAAAZW1wdHktYW5kLW51bGwudHh09wEAAO+7vw0KI2luY2x1ZGUgPGIyc3R5bGUuaD4NCiNpbmNsdWRlIDx0ZXN0aW5nLmg+DQoNCnRlbXBsYXRlIDxUPg0KYm9vbCBpc19udWxsKFQgdCkgew0KICBib29sIHI7DQogIGxvZ2ljICJlbXB0eSByIHQiOw0KICByZXR1cm4gcjsNCn0NCg0KdGVtcGxhdGUgPFQ+DQp2b2lkIHNldF9udWxsKFQmIHQpIHsNCiAgVCB4Ow0KICB0ID0geDsNCn0NCg0Kdm9pZCBtYWluKCkgew0KICBpbnQgaTsNCiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUoaXNfbnVsbDxpbnQ+KGkpKTsNCiAgaSA9IDA7DQogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9mYWxzZShpc19udWxsPGludD4oaSkpOw0KICBzZXRfbnVsbDxpbnQ+KGkpOw0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZShpc19udWxsPGludD4oaSkpOw0KICBpID0gMTsNCiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2ZhbHNlKGlzX251bGw8aW50PihpKSk7DQogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7DQp9FQAAAGZ1bmN0aW9uLXRlbXBsYXRlLnR4dBUBAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnRlbXBsYXRlIDxUPgpUIGFkZChUJiB4LCBUIHkpIHsKICB4ICs9IHk7CiAgcmV0dXJuIHg7Cn0KCnZvaWQgbWFpbigpIHsKICBpbnQgeCA9IDE7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUoYWRkPGludD4oeCwgMSkgPT0gMik7CiAgYWRkPGludD4oeCwgMSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUoeCA9PSAzKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9CAAAAGhlYXAudHh08gEAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgojaW5jbHVkZSA8YjJzdHlsZS9zdGRpby5oPgoKc3RydWN0IFMgewogIGludCB4OwogIHN0cmluZyB5Owp9OwoKdm9pZCBtYWluKCkgewogIFMgczsKICB7CiAgICBTIHhbMTBdOwogICAgcyA9IHg7CiAgICB1bmRlZmluZSh4KTsKICB9CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICBzW2ldLnggPSBpICsgMTsKICAgIHNbaV0ueSA9IGIyc3R5bGU6OmludF90b19zdHIoaSArIDIpOwogIH0KICBmb3IgKGludCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KHNbaV0ueCwgaSArIDEpOwogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPHN0cmluZz4oc1tpXS55LCBiMnN0eWxlOjppbnRfdG9fc3RyKGkgKyAyKSk7CiAgfQogIGRlYWxsb2Mocyk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfREAAABoZWFwX3B0cl90ZXN0LnR4dEEDAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KI2luY2x1ZGUgPGIyc3R5bGUvc3RkaW8uaD4KCnN0cnVjdCBTIHsKICBpbnQgeDsKICBzdHJpbmcgeTsKfTsKCiNpbmNsdWRlIDxiMnN0eWxlL2hlYXBfcHRyLmg+Cgp2b2lkIG1haW4oKSB7CiAgYjJzdHlsZTo6aGVhcF9wdHI8aW50PiBoMSgxMDApOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGgxLnNpemUoKSwgMTAwKTsKICBmb3IgKGludCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7CiAgICBoMS5zZXQoaSwgaSArIDEpOwogIH0KICBmb3IgKGludCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7CiAgICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihoMS5nZXQoaSksIGkgKyAxKTsKICB9CgogIGIyc3R5bGU6OmhlYXBfcHRyPFM+IGgyKDEwMCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oaDIuc2l6ZSgpLCAxMDApOwogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIFMgczsKICAgIHMueCA9IGkgKyAxOwogICAgcy55ID0gYjJzdHlsZTo6aW50X3RvX3N0cihpICsgMik7CiAgICBoMi5zZXQoaSwgcyk7CiAgfQogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIFMgcyA9IGgyLmdldChpKTsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KHMueCwgaSArIDEpOwogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPHN0cmluZz4ocy55LCBiMnN0eWxlOjppbnRfdG9fc3RyKGkgKyAyKSk7CiAgfQoKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9ChQAAABpZmRlZi1lbHNlLWlmZGVmLnR4dE0BAADvu78NCiNpbmNsdWRlIDxiMnN0eWxlLmg+DQojaW5jbHVkZSA8dGVzdGluZy5oPg0KDQojaWZkZWYgTk8NCnZvaWQgbWFpbigpIHsNCiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGJvb2w+KF9fU1RBVEVNRU5UX18sIHRydWUsIGZhbHNlKTsNCn0NCiNlbHNlICNpZmRlZiBOT19BR0FJTg0Kdm9pZCBtYWluKCkgew0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8Ym9vbD4oX19TVEFURU1FTlRfXywgZmFsc2UsIHRydWUpOw0KfQ0KI2Vsc2UNCnZvaWQgbWFpbigpIHsNCiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsNCn0NCiNlbmRpZg0KI2VuZGlmDQoOAAAAaWZkZWYtZWxzZS50eHR+AAAA77u/DQojaW5jbHVkZSA8YjJzdHlsZS5oPg0KI2luY2x1ZGUgPHRlc3RpbmcuaD4NCg0KI2lmZGVmIE5PDQojZWxzZQ0Kdm9pZCBtYWluKCkgew0KICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOw0KfQ0KI2VuZGlmCQAAAGlmZGVmLnR4dLwAAADvu78NCiNpbmNsdWRlIDxiMnN0eWxlLmg+DQojaW5jbHVkZSA8dGVzdGluZy5oPg0KDQojZGVmaW5lIFlFUw0KI2lmZGVmIFlFUw0Kdm9pZCBtYWluKCkgew0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8Ym9vbD4odHJ1ZSwgdHJ1ZSk7DQogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7DQp9DQojZW5kaWYNChMAAABpbmNsdWRlX19GSUxFX18udHh0VwEAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgojaW5jbHVkZSA8YjJzdHlsZS9zdHIuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZShiMnN0eWxlOjpzdHJfZW5kc193aXRoKGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9fRklMRV9fKCksICJ0ZXN0aW5nL2Fzc2VydC5oIikpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF90cnVlKGIyc3R5bGU6OnN0cl9lbmRzX3dpdGgoYjJzdHlsZTo6dGVzdGluZzo6dHlwZXNfX0ZJTEVfXygpLCAidGVzdGluZy90eXBlcy5oIikpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0PAAAAbGlua2VkLWxpc3QudHh00QIAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgojaW5jbHVkZSA8YXNzZXJ0Lmg+CgovKiBUT0RPOiBJbXBsZW1lbnQKdGVtcGxhdGUgPFQ+CmNsYXNzIGxpbmtlZF9ub2RlIHsKICBUIHY7CiAgdHlwZV9wdHIgX25leHQ7CgogIHZvaWQgY29uc3RydWN0KCkgewogICAgdGhpcy5fbmV4dCA9IDA7CiAgfQp9OwoKdGVtcGxhdGUgPFQ+CmNsYXNzIGxpbmtlZF9pdGVyYXRvciB7CiAgdHlwZV9wdHIgcDsKCiAgdm9pZCBjb25zdHJ1Y3QodHlwZV9wdHIgcCkgewogICAgYXNzZXJ0KF9fU1RBVEVNRU5UX18gKyAiIEAiICsgX19GSUxFX18sIHAgIT0gMCk7Cgl0aGlzLnAgPSBwOwogIH0KCiAgdm9pZCBzZXQoVCB2KSB7CiAgICB0eXBlX3B0ciB0ID0gdGhpcy5wOwoJc3RhdGljX2Nhc3QodCwgbGlua2VkX25vZGU8VD4pOwoJdFswXS52ID0gdjsKICB9CgogIFQgZ2V0KCkgewogICAgdHlwZV9wdHIgdCA9IHRoaXMucDsKCXN0YXRpY19jYXN0KHQsIGxpbmtlZF9ub2RlPFQ+KTsKCXJldHVybiB0WzBdLnY7CiAgfQp9OwoKdGVtcGxhdGUgPFQ+CmNsYXNzIGxpbmtlZF9saXN0IHsKICB0eXBlX3B0ciBoZWFkOwogIHR5cGVfcHRyIHRhaWw7CgogIHZvaWQgY29uc3RydWN0KCkgewogICAgdGhpcy5oZWFkID0gMDsKICAgIHRoaXMudGFpbCA9IDA7CiAgfQp9OwoqLwoKdm9pZCBtYWluKCkgewogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0TAAAAbW9kX2VxdWFsc190b18xLnR4dMQAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZmFsc2UoKCgxMCAlIDIpID09IDEpKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZSgoKDExICUgMikgPT0gMSkpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KHwAAAG1vcmUtY2xvc2luZy1hbmdsZS1icmFja2V0cy50eHQcAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp0ZW1wbGF0ZSA8VD4KY2xhc3MgQyB7CiAgdm9pZCBmKCkgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUodHJ1ZSk7CiAgfQp9OwoKdGVtcGxhdGUgPFQ+CmNsYXNzIEMyIHsKICB2b2lkIGYoKSB7CiAgICBUIHQ7Cgl0LmYoKTsKICB9Cn07Cgp2b2lkIG1haW4oKSB7CiAgQzI8QzI8QzI8QzI8QzI8Qzx2b2lkPj4+Pj4+IGM7CiAgYy5mKCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQoRAAAAbXVsdGktZGVmaW5lcy50eHTQAAAA77u/DQojaW5jbHVkZSA8YjJzdHlsZS5oPg0KI2luY2x1ZGUgPHRlc3RpbmcuaD4NCg0KI2RlZmluZSBZRVMNCiNkZWZpbmUgWUVTMg0KDQojaWZuZGVmIFlFUyB8fCBOTw0Kdm9pZCBmKCkgew0KfQ0KI2VuZGlmDQoNCiNpZmRlZiBZRVMyIHx8IE5PDQp2b2lkIG1haW4oKSB7DQogIGYoKTsNCiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsNCn0NCiNlbmRpZisAAABub24tb3ZlcnJpZGFibGUtY2xhc3MtdGVtcGxhdGUtZnVuY3Rpb24udHh0YAEAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKY2xhc3MgQyB7CiAgdGVtcGxhdGUgPFQ+CiAgVCBmKFQgeCkgewogICAgcmV0dXJuIHg7CiAgfQp9OwoKdm9pZCBtYWluKCkgewogIEMgYzsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihjLmY8aW50PigxMDApLCAxMDApOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxib29sPihjLmY8Ym9vbD4odHJ1ZSksIHRydWUpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxzdHJpbmc+KGMuZjxzdHJpbmc+KCIxMDAiKSwgIjEwMCIpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0SAAAAcHJlZGVmaW5lZF9kZWYudHh0hwAAAO+7vw0KI2luY2x1ZGUgPGIyc3R5bGUuaD4NCiNpbmNsdWRlIDx0ZXN0aW5nLmg+DQoNCiNpZmRlZiBCMlNUWUxFIHx8IEIzU1RZTEUNCnZvaWQgbWFpbigpIHsNCiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsNCn0NCiNlbmRpZg4AAABwdHJfb2Zmc2V0LnR4dN0BAADvu78NCiNpbmNsdWRlIDxiMnN0eWxlLmg+DQojaW5jbHVkZSA8dGVzdGluZy5oPg0KI2luY2x1ZGUgPGIyc3R5bGUvdG9fc3RyLmg+DQojaW5jbHVkZSA8YnN0eWxlL2NvbnN0Lmg+DQojaW5jbHVkZSA8YnN0eWxlL2ludC5oPg0KDQpsb25nIHB0cl9vZmZzZXQoKSB7DQogIGxvZ2ljICJyZXR1cm4gcHRyX29mZnNldCBAQHByZWZpeGVzQGNvbnN0YW50c0BwdHJfb2Zmc2V0IjsNCn0NCg0Kdm9pZCBtYWluKCkgew0KICBsb25nIE1BWF9VSU5UX1BMVVNfMSA9IHRvX2xvbmcoNDI5NDk2NzI5NkwpOw0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8bG9uZz4ocHRyX29mZnNldCgpLCBNQVhfVUlOVF9QTFVTXzEpOw0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihiMnN0eWxlOjp0b19zdHIocHRyX29mZnNldCgpKSwgIjQyOTQ5NjcyOTYiKTsNCiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsNCn0VAAAAcmF3LWhlYXAtcHRyLXRlc3QudHh0sQEAAO+7vw0KI2luY2x1ZGUgPGIyc3R5bGUuaD4NCiNpbmNsdWRlIDx0ZXN0aW5nLmg+DQovKiBUT0RPOiBJbXBsZW1lbnRhdGlvbg0KI2luY2x1ZGUgPGIyc3R5bGUvcmF3X2hlYXBfcHRyLmg+DQoNCnN0cnVjdCBTIHsNCiAgaW50IHg7DQogIHJhd19oZWFwX3B0ciBuZXh0Ow0KfTsNCg0Kdm9pZCBtYWluKCkgew0KICBTIGZpcnN0Ow0KICBmaXJzdC54ID0gMTA7DQogIFMgbmV4dDsNCiAgZmlyc3QubmV4dC5zZXQobmV4dCk7DQogIG5leHQueCA9IDIwOw0KDQogIG5leHQgPSBmaXJzdC5uZXh0LmdldDxTPigpOw0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihuZXh0LngsIDIwKTsNCiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsNCn0NCiovDQoNCnZvaWQgbWFpbigpIHsNCiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsNCn0QAAAAcmVhbF9fZmlsZV9fLnR4dKYAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihfX0ZJTEVfXywgInJlYWxfX2ZpbGVfXy50eHQiKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9DQAAAHJlY3Vyc2l2ZS50eHTtAAAA77u/DQojaW5jbHVkZSA8YjJzdHlsZS5oPg0KI2luY2x1ZGUgPHRlc3RpbmcuaD4NCg0KaW50IGYoaW50IHgpIHsNCiAgaWYgKHggPCAxMDApIHsNCiAgICByZXR1cm4gZih4ICsgMSk7DQogIH0NCiAgcmV0dXJuIDEwMDsNCn0NCg0Kdm9pZCBtYWluKCkgew0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50LCBpbnQ+KGYoMCksIDEwMCk7DQogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7DQp9HwAAAHJlZGVmaW5lLXN0cnVjdC1tZW1iZXItdHlwZS50eHTjAAAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp0eXBlZGVmIGludCBJTlQ7CgpzdHJ1Y3QgUyB7CiAgSU5UIGk7Cn07Cgp0eXBlZGVmIHN0cmluZyBJTlQ7Cgp2b2lkIG1haW4oKSB7CiAgUyBzOwogIHMuaSA9IDEwMDsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihzLmksIDEwMCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQoMAAAAcmVmX3Rlc3QudHh0KQIAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8YjJzdHlsZS9yZWYuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjpyZWY8c3RyaW5nPiBzKCk7CiAgYjJzdHlsZTo6cmVmPHN0cmluZz4gczIoImFiYyIpOwogIGIyc3R5bGU6OnJlZjxzdHJpbmc+IHMzKHMyKTsKICBiMnN0eWxlOjpyZWY8c3RyaW5nPiBzNCgpOwoKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZShzLmVtcHR5KCkpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF90cnVlKHMyLmVtcHR5KCkpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9mYWxzZShzMy5lbXB0eSgpKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihzMy5nZXQoKSwgImFiYyIpOwogIHM0LmFsbG9jKCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2ZhbHNlKHM0LmVtcHR5KCkpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxzdHJpbmc+KHM0LmdldCgpLCAiIik7CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0UAAAAcmVmX3ZhbHVlX2NsYXVzZS50eHR/AgAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp2b2lkIGYoaW50JiB4LCBpbnQgaSwgaW50IGopIHsKICB4ID0gaTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihpLCBqKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih4LCBqKTsKICB4ID0gaTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihpLCBqKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih4LCBqKTsKfQoKdm9pZCBnKGludCB4LCBpbnQgaSwgaW50IGopIHsKICB4ID0gaTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihpLCBqKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih4LCBqKTsKICB4ID0gaTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihpLCBqKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih4LCBqKTsKfQoKdm9pZCBtYWluKCkgewogIGludCB4OwogIGYoeCwgMSwgMSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oeCwgMSk7CiAgZigxLCAxLCAxKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9GAAAAHJlaW50ZXJwcmV0X2Nhc3RfcmVmLnR4dJMBAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCmNsYXNzIEIgewogIGludCB4OwogIHZvaWQgZigpIHsKICAgIHRoaXMueCsrOwogIH0KfTsKCmNsYXNzIEMgOiBCIHsKICB2b2lkIGYyKCkgewogICAgcmVpbnRlcnByZXRfY2FzdCh0aGlzLCBCKTsKCXRoaXMuZigpOwogICAgZih0aGlzKTsKICB9CgogIHZvaWQgZjMoKSB7CiAgICByZWludGVycHJldF9jYXN0KHRoaXMsIEIpOwoJdGhpcy5mKCk7CiAgICBmKHRoaXMpOwogIH0KfTsKCnZvaWQgbWFpbigpIHsKICBDIGM7CiAgYy54ID0gMTAwOwogIGMuZjIoKTsKICBjLmYzKCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oYy54LCAxMDQpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KDwAAAHNlbGYtaGVhbHRoLnR4dIYAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZSh0cnVlKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9ChgAAABzdGF0aWNfY2FzdF9wdHJfdHlwZS50eHQOAgAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CiNpbmNsdWRlIDxiMnN0eWxlL3RvX3N0ci5oPgoKc3RydWN0IFMgewogIGludCB4OwogIHN0cmluZyB5Owp9OwoKdm9pZCBmKFMgcykgewogIGZvciAoaW50IGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oc1tpXS54LCBpKTsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxzdHJpbmc+KHNbaV0ueSwgYjJzdHlsZTo6aW50X3RvX3N0cihpKSk7CiAgfQp9Cgp2b2lkIGYodHlwZV9wdHIgcCkgewogIHN0YXRpY19jYXN0KHAsIFMpOwogIGYocCk7Cn0KCnZvaWQgbWFpbigpIHsKICBTIHNbMTBdOwogIGZvciAoaW50IGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgc1tpXS54ID0gaTsKICAgIHNbaV0ueSA9IGIyc3R5bGU6OnRvX3N0cihpKTsKICB9CiAgc3RhdGljX2Nhc3QocywgdHlwZV9wdHIpOwogIGYocyk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfRkAAABzdGF0aWNfY2FzdF9wdHJfdHlwZTIudHh0XQEAAO+7vw0KI2luY2x1ZGUgPGIyc3R5bGUuaD4NCiNpbmNsdWRlIDx0ZXN0aW5nLmg+DQoNCnN0cnVjdCBTIHsNCiAgaW50IHg7DQogIHN0cmluZyB5Ow0KfTsNCg0Kdm9pZCBtYWluKCkgew0KICBTIHNbMTBdOw0KICBzWzBdLnggPSAxMDsNCiAgc1swXS55ID0gIjExIjsNCiAgc3RhdGljX2Nhc3QocywgdHlwZV9wdHIpOw0KICBzdGF0aWNfY2FzdChzLCBTKTsNCiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oc1swXS54LCAxMCk7DQogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxzdHJpbmc+KHNbMF0ueSwgIjExIik7DQogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7DQp9DQoZAAAAc3RhdGljX2Nhc3RfcHRyX3R5cGUzLnR4dJkBAADvu78NCiNpbmNsdWRlIDxiMnN0eWxlLmg+DQojaW5jbHVkZSA8dGVzdGluZy5oPg0KDQpzdHJ1Y3QgUyB7DQogIGludCB4Ow0KICBzdHJpbmcgeTsNCn07DQoNCnZvaWQgZihTIHMpIHsNCiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oc1swXS54LCAxKTsNCiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPHN0cmluZz4oc1swXS55LCAiMiIpOw0KfQ0KDQp2b2lkIGYodHlwZV9wdHIgcCkgew0KICBzdGF0aWNfY2FzdChwLCBTKTsNCiAgZihwKTsNCn0NCg0Kdm9pZCBtYWluKCkgew0KICBTIHNbMV07DQogIHNbMF0ueCA9IDE7DQogIHNbMF0ueSA9ICIyIjsNCiAgc3RhdGljX2Nhc3QocywgdHlwZV9wdHIpOw0KICBmKHMpOw0KICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOw0KfQ0KHQAAAHN0YXRpY19jYXN0X3B0cl90eXBlX2Jvb2wudHh0GgIAAO+7vw0KI2luY2x1ZGUgPGIyc3R5bGUuaD4NCiNpbmNsdWRlIDx0ZXN0aW5nLmg+DQoNCnN0cnVjdCBTIHsNCiAgYm9vbCB4Ow0KICBib29sIHk7DQp9Ow0KDQp2b2lkIGYoUyBzKSB7DQogIGZvciAoaW50IGkgPSAwOyBpIDwgMTA7IGkrKykgew0KICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxib29sPihzW2ldLngsIChpICUgMikgPT0gMCk7DQogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGJvb2w+KHNbaV0ueSwgKGkgJSAyKSA9PSAxKTsNCiAgfQ0KfQ0KDQp2b2lkIGYodHlwZV9wdHIgcCkgew0KICBzdGF0aWNfY2FzdChwLCBTKTsNCiAgZihwKTsNCn0NCg0Kdm9pZCBtYWluKCkgew0KICBTIHNbMTBdOw0KICBmb3IgKGludCBpID0gMDsgaSA8IDEwOyBpKyspIHsNCiAgICBzW2ldLnggPSAoKGkgJSAyKSA9PSAwKTsNCiAgICBzW2ldLnkgPSAoKGkgJSAyKSA9PSAxKTsNCiAgfQ0KICBzdGF0aWNfY2FzdChzLCB0eXBlX3B0cik7DQogIGYocyk7DQogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7DQp9DQoRAAAAc3RyLW9wZXJhdG9ycy50eHTFAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CiNpbmNsdWRlIDxic3R5bGUvc3RyLmg+Cgp2b2lkIG1haW4oKSB7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUoc3RyX2VtcHR5KCIiKSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUoc3RyX2VtcHR5KCIiICsgIiIpKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZmFsc2Uoc3RyX2VtcHR5KCJhIiArICIiKSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oc3RyX2xlbigiIiksIDApOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KHN0cl9sZW4oImFiYyIpLCAzKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihzdHJfbGVuKCJhYmMiICsgImRlZiIpLCA2KTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9LAAAAHN0cnVjdC1hbmQtcHJpbWl0aXZlLXR5cGUtd2l0aC1zYW1lLW5hbWUudHh00gAAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKdHlwZWRlZiBpbnQgSU5UOwoKc3RydWN0IElOVCB7CiAgaW50IHg7Cn07Cgp2b2lkIG1haW4oKSB7CiAgSU5UIGk7CiAgaS54ID0gMTAwOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGkueCwgMTAwKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9CiUAAABzdHJ1Y3RfbWVtYmVyX3R5cGVfd2l0aF9uYW1lc3BhY2UudHh06QAAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKbmFtZXNwYWNlIE4gewpzdHJ1Y3QgUyB7CiAgOjpiMnN0eWxlOjppbnQgaTsKfTsKfSAgLy8gbmFtZXNwYWNlIE4KCnZvaWQgbWFpbigpIHsKICBOOjpTIHM7CiAgcy5pID0gMTAwOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KHMuaSwgMTAwKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9GQAAAHRlbXBsYXRlLWluLW5hbWVzcGFjZS50eHTRAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CgpuYW1lc3BhY2UgTiB7Cgp0eXBlZGVmIDo6dm9pZCB2b2lkOwoKdGVtcGxhdGUgPFQ+CmNsYXNzIEMgewogIHZvaWQgZigpIHsKICAgIDo6YjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUodHJ1ZSk7CiAgfQp9OwoKdGVtcGxhdGUgPFQ+CmRlbGVnYXRlIHZvaWQgZigpOwoKdGVtcGxhdGUgPFQ+CnZvaWQgZjIoKSB7CiAgICA6OmIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF90cnVlKHRydWUpOwp9Cgp9ICAvLyBuYW1lc3BhY2UgTgoKdm9pZCBmKCkgewogIDo6YjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUodHJ1ZSk7Cn0KCnZvaWQgbWFpbigpIHsKICBOOjpDPGludD4gYzsKICBjLmYoKTsKICBOOjpmPGludD4gZjIgPSBmOwogIGYyKCk7CiAgTjo6ZjI8aW50PigpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KFQAAAHRlbXBsYXRlLW92ZXJyaWRlLnR4dEcDAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCmNsYXNzIE91dFdyaXRlciB7CiAgaW50IGM7CgogIHZvaWQgd3JpdGUoc3RyaW5nIG1zZykgewogICAgdGhpcy5jKys7CiAgICAvLyBEbyBub3QgcmVhbGx5IHdyaXRlIHRvIHN0ZG91dCwgaXQgd2lsbCBtYXNzIHVwIHRoZSB0ZXN0aW5nIGFzc2VydGlvbnMuCiAgICBiMnN0eWxlOjpzdGRfZXJyKG1zZyk7CiAgfQp9OwoKY2xhc3MgRXJyV3JpdGVyIHsKICBpbnQgYzsKCiAgdm9pZCB3cml0ZShzdHJpbmcgbXNnKSB7CiAgICB0aGlzLmMrKzsKICAgIGIyc3R5bGU6OnN0ZF9lcnIobXNnKTsKICB9Cn07Cgp0ZW1wbGF0ZSA8Vz4KY2xhc3MgTG9nZ2VyIHsKICBXIHc7CgogIHZvaWQgbG9nKHN0cmluZyBtc2cpIHsKICAgIHRoaXMudy53cml0ZShtc2cpOwogIH0KCiAgaW50IGNvdW50X29mX2xvZ19saW5lcygpIHsKICAgIHJldHVybiB0aGlzLncuYzsKICB9Cn07Cgp0eXBlZGVmIExvZ2dlcjxPdXRXcml0ZXI+IE91dExvZ2dlcjsKdHlwZWRlZiBMb2dnZXI8RXJyV3JpdGVyPiBFcnJMb2dnZXI7Cgp2b2lkIG1haW4oKSB7CiAgT3V0TG9nZ2VyIG9sOwogIEVyckxvZ2dlciBlbDsKCiAgb2wubG9nKCJvdXQiKTsKICBvbC5sb2coIm91dCIpOwogIG9sLmxvZygib3V0Iik7CiAgZWwubG9nKCJlcnIiKTsKCiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4ob2wuY291bnRfb2ZfbG9nX2xpbmVzKCksIDMpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGVsLmNvdW50X29mX2xvZ19saW5lcygpLCAxKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9ChgAAAB0ZW1wbGF0ZV9iZWZvcmVfdHlwZS50eHRmAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CiNpbmNsdWRlIDxzdGQvdmVjdG9yPgoKY2xhc3MgQyB7CiAgaW50IHg7Cn07Cgp2b2lkIG1haW4oKSB7CiAgc3RkOjp2ZWN0b3I8Qz4gdigpOwogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIEMgYzsKICAgIGMueCA9IGkgKyAxOwogICAgdi5wdXNoX2JhY2soYyk7CiAgfQoKICBmb3IgKGludCBpID0gMDsg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ZWQoKTsKICB9Cn07CgpjbGFzcyBDOiBCMiwgQjMgewogIHZvaWQgZjMoKSB7CiAgICB0aGlzLngrPTM7CiAgfQp9OwoKdm9pZCBtYWluKCkgewogIEMgYzsKICBjLmYoKTsKICBjLmYyKCk7CiAgYy5mMygpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGMueCwgNik7CiAgYy5maW5pc2goKTsKfQoPAAAAdmVjdG9yLXRlc3QudHh0PAIAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8c3RkL3ZlY3Rvcj4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICBzdGQ6OnZlY3RvcjxpbnQ+IHYoKTsKICBmb3IgKGludCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgIHYucHVzaF9iYWNrKGkgKyAxKTsKICB9CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4odi5zaXplKCksIDEwKTsKCiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih2LmdldChpKSwgaSArIDEpOwogIH0KCiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICB2LnNldChpLCBpICsgMik7CiAgfQoKICBmb3IgKGludCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KHYuZ2V0KGkpLCBpICsgMik7CiAgfQoKICB2LmNsZWFyKCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4odi5zaXplKCksIDApOwoKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9IQAAAHZpcnR1YWwtZnVuY3Rpb24tY29tcGlsZS1vbmx5LnR4dNEAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCmNsYXNzIEMgewogIG92ZXJyaWRhYmxlIHZvaWQgZigpIHt9Cn07CgpjbGFzcyBEIDogQyB7CiAgb3ZlcnJpZGUgdm9pZCBmKCkge30KfTsKCnZvaWQgbWFpbigpIHsKICBDIGM7CiAgRCBkOwoKICBjLmYoKTsKICBkLmYoKTsKCiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfREAAAB2b2lkLXZhcmlhYmxlLnR4dNUAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICB2b2lkIHY7CiAgdm9pZCB2MlsxMDBdOwogIC8vIHZvaWQgaXMgbm90IGFzc2lnbmFibGUsIGJ1dCBkZWZpbmluZyBhIHZhcmlhYmxlIHdpdGggdm9pZCB0eXBlIHNob3VsZCBzdGlsbCBiZSBhbGxvd2VkLgogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0MAAAAX19maWxlX18udHh0VQIAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKdm9pZCBtYWluKCkgewogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxzdHJpbmc+KF9fRklMRV9fLCBfX0ZJTEVfXyk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPHN0cmluZz4oX19mdW5jX18sIF9fZnVuY19fKTsKICAvLyBUaGUgX19MSU5FX18gaXMgaGFuZGxlZCBhcyB0aGUgc3RhcnQgb2YgY2hhcmFjdGVyLCBzbyB0aGUgZm9sbG93aW5nIGFzc2VydGlvbiB3b24ndCBwYXNzLgogIC8vIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KF9fTElORV9fLCBfX0xJTkVfXyk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUoX19MSU5FX18gPiAwKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihfX1NUQVRFTUVOVF9fLCBfX1NUQVRFTUVOVF9fKTsKICBzdHJpbmcgcyA9IF9fU1RBVEVNRU5UX187CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPHN0cmluZz4ocywgInN0cmluZyBzID0gX19TVEFURU1FTlRfXyA7Iik7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQ=="
        ))
End Class
