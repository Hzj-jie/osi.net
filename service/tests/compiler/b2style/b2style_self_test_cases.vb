Option Explicit On
Option Infer Off
Option Strict On
Imports osi.root.connector
Public NotInheritable Class b2style_self_test_cases
    Private Sub New()
    End Sub
    Public Shared ReadOnly data() As Byte = 
        Convert.FromBase64String(strcat_hint(CUInt(17793), 
            "GgAAAGFjY2Vzcy1iaWd1aW50LWFzLWhlYXAudHh0LgEAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKdm9pZCBtYWluKCkgewogIGludCB4WzEwMF07CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgeFtpXSA9IGkgKyAxOwogIH0KICB0eXBlX3B0ciB5ID0geDsKICByZWludGVycHJldF9jYXN0KHksIGludCk7CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oeVtpXSwgaSArIDEpOwogIH0KICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9EAAAAGFzc2VydC1lcXVhbC50eHTQAAAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp2b2lkIG1haW4oKSB7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludCwgaW50PigxLCAxKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nLCBzdHJpbmc+KCJhYmMiLCAiYWJjIik7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQ0AAABib29sLWhlYXAudHh0pAIAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgojaW5jbHVkZSA8YjJzdHlsZS9oZWFwX3B0ci5oPgoKdm9pZCBmKGJvb2wgcykgewogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxib29sPihzW2ldLCAoaSAlIDIpID09IDEpOwogIH0KfQoKdm9pZCBmKGIyc3R5bGU6OmhlYXBfcHRyPGJvb2w+IGgpIHsKICBmb3IgKGludCBpID0gMDsgaSA8IGguc2l6ZSgpOyBpKyspIHsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxib29sPihoLmdldChpKSwgKGkgJSAyKSA9PSAxKTsKICB9Cn0KCnZvaWQgbWFpbigpIHsKICBib29sIHNbMTAwXTsKICBmb3IgKGludCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7CiAgICBzW2ldID0gKChpICUgMikgPT0gMSk7CiAgfQogIGYocyk7CgogIGIyc3R5bGU6OmhlYXBfcHRyPGJvb2w+IGgoMTAwKTsKICBmb3IgKGludCBpID0gMDsgaSA8IGguc2l6ZSgpOyBpKyspIHsKICAgIGguc2V0KGksIChpICUgMikgPT0gMSk7CiAgfQogIGYoaCk7CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGIyc3R5bGU6OnRlc3Rpbmc6Ol9hc3NlcnRpb25fY291bnQsIDIwMCk7CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0OAAAAYm9vbF9hcnJheS50eHReAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp2b2lkIG1haW4oKSB7CiAgYm9vbCBhWzEwMF07CiAgYm9vbCBiOwogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIGFbaV0gPSAoKGkgJSAyKSA9PSAxKTsKICB9CiAgcmVpbnRlcnByZXRfY2FzdChiLCBpbnQpOwogIGIgPSBhOwogIHJlaW50ZXJwcmV0X2Nhc3QoYiwgYm9vbCk7CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGJvb2w+KGJbaV0sIChpICUgMikgPT0gMSk7CiAgfQogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0WAAAAY2FsbC1mdW5jLWluLXBhcmFtLnR4dKMAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgZihpbnQgeCkge30KCnZvaWQgZygpIHsKICBmKDEpOwp9Cgp2b2lkIGYoKSB7CiAgZygpOwp9Cgp2b2lkIG1haW4oKSB7CiAgZigpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KIwAAAGNsYXNzLWZ1bmN0aW9uLWNhbGwtd2l0aC1zcGFjZXMudHh03gAAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKY2xhc3MgQyB7CiAgdm9pZCBmKGludCYgeCkgewogICAgeCsrOwogIH0KfTsKCnZvaWQgbWFpbigpIHsKICBDIGM7CiAgaW50IHggPSAwOwogIGMgLiBmICggeCApOwogIGIyc3R5bGU6OiB0ZXN0aW5nOjogYXNzZXJ0X3RydWUoIHggPT0gMSApOwogIGIyc3R5bGU6OiB0ZXN0aW5nOjogZmluaXNoZWQoKTsKfSQAAABjbGFzcy1pbmhlcml0YW5jZS1iYXNlLXZhcmlhYmxlcy50eHTQAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CgpjbGFzcyBBIHsKICBpbnQgYTsKfTsKCmNsYXNzIEIgewogIGludCBiOwp9OwoKY2xhc3MgQyA6IEIgewogIGludCBjOwp9OwoKY2xhc3MgRCA6IEEsIEMgewogIGludCBkOwp9OwoKdm9pZCBtYWluKCkgewogIEQgZDsKICBkLmE9MTsKICBkLmI9MjsKICBkLmM9MzsKICBkLmQ9NDsKICAvLyBUaGUgInR5cGUtaWQicyBhcmUgbm90IHRlc3RlZC4KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihkLmEsIDEpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGQuYiwgMik7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oZC5jLCAzKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihkLmQsIDQpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0iAAAAY2xhc3MtaW5oZXJpdGFuY2UtY29tcGlsZS1vbmx5LnR4dNUAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCmNsYXNzIEIgewogIGludCB4Owp9OwoKY2xhc3MgQyA6IEIgewogIGludCB5Owp9OwoKdm9pZCBtYWluKCkgewogIEMgYzsKICBjLnkgPSAxMDA7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oYy55LCAxMDApOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0oAAAAY2xhc3MtaW5oZXJpdGFuY2UtdGVtcGxhdGUtdmFyaWFibGVzLnR4dMIBAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnRlbXBsYXRlIDxUPgpjbGFzcyBCIHsKICBUIHg7Cn07CgpjbGFzcyBDIDogQjxpbnQ+IHsKICBpbnQgeTsKfTsKCmNsYXNzIEMyIDogQjxzdHJpbmc+IHsKICBpbnQgeTsKfTsKCnZvaWQgbWFpbigpIHsKICBDIGM7CiAgYy54PSAxOwogIGMueT0yOwoKICBDMiBjMjsKICBjMi54PSJhIjsKICBjMi55PTM7CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGMueCwgMSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oYy55LCAyKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihjMi54LCAiYSIpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGMyLnksIDMpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0VAAAAY29weS1mdW5jdGlvbi1wdHIudHh0ywAAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKZGVsZWdhdGUgdm9pZCBwKCk7Cgp2b2lkIGYoKSB7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUodHJ1ZSk7Cn0KCnZvaWQgbWFpbigpIHsKICBwIHggPSBmOwogIHAgeSA9IHg7CiAgeCgpOwogIHkoKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9KgAAAGRlZmluZS1jbGFzcy1jb25zdHJ1Y3Rvci1mb3Itbm9uLWNsYXNzLnR4dFoBAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgY29uc3RydWN0KGludCYgdGhpcywgaW50IHYpIHsKICB0aGlzID0gdiArIDE7Cn0KCnZvaWQgY29uc3RydWN0KGludCYgdGhpcykgewogIHRoaXMuY29uc3RydWN0KDEpOwp9Cgp2b2lkIGRlc3RydWN0KGludCYgdGhpcykge30KCnZvaWQgbWFpbigpIHsKICBpbnQgeCgxMDApOwogIGludCB5KCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oeCwgMTAxKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih5LCAyKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9JQAAAGRlbGVnYXRlLWZ1bmN0aW9ucy13aXRoLXNhbWUtbmFtZS50eHSCAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDxiMnN0eWxlL2RlbGVnYXRlcy5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKaW50IGYoaW50IHgpIHsKICByZXR1cm4geCArIDE7Cn0KCnN0cmluZyBmKHN0cmluZyB4KSB7CiAgcmV0dXJuIHg7Cn0KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjpmdW5jdGlvbjxpbnQsIGludD4gZCA9IGY7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oZCgxKSwgMik7CgogIGIyc3R5bGU6OmZ1bmN0aW9uPHN0cmluZywgc3RyaW5nPiBkMiA9IGY7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPHN0cmluZz4oZDIoImFiYyIpLCAiYWJjIik7CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0VAAAAZnVuY3Rpb24tdGVtcGxhdGUudHh0FQEAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKdGVtcGxhdGUgPFQ+ClQgYWRkKFQmIHgsIFQgeSkgewogIHggKz0geTsKICByZXR1cm4geDsKfQoKdm9pZCBtYWluKCkgewogIGludCB4ID0gMTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZShhZGQ8aW50Pih4LCAxKSA9PSAyKTsKICBhZGQ8aW50Pih4LCAxKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZSh4ID09IDMpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0IAAAAaGVhcC50eHTyAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CiNpbmNsdWRlIDxiMnN0eWxlL3N0ZGlvLmg+CgpzdHJ1Y3QgUyB7CiAgaW50IHg7CiAgc3RyaW5nIHk7Cn07Cgp2b2lkIG1haW4oKSB7CiAgUyBzOwogIHsKICAgIFMgeFsxMF07CiAgICBzID0geDsKICAgIHVuZGVmaW5lKHgpOwogIH0KICBmb3IgKGludCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgIHNbaV0ueCA9IGkgKyAxOwogICAgc1tpXS55ID0gYjJzdHlsZTo6aW50X3RvX3N0cihpICsgMik7CiAgfQogIGZvciAoaW50IGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oc1tpXS54LCBpICsgMSk7CiAgICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihzW2ldLnksIGIyc3R5bGU6OmludF90b19zdHIoaSArIDIpKTsKICB9CiAgZGVhbGxvYyhzKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9EQAAAGhlYXBfcHRyX3Rlc3QudHh0QQMAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgojaW5jbHVkZSA8YjJzdHlsZS9zdGRpby5oPgoKc3RydWN0IFMgewogIGludCB4OwogIHN0cmluZyB5Owp9OwoKI2luY2x1ZGUgPGIyc3R5bGUvaGVhcF9wdHIuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjpoZWFwX3B0cjxpbnQ+IGgxKDEwMCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oaDEuc2l6ZSgpLCAxMDApOwogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIGgxLnNldChpLCBpICsgMSk7CiAgfQogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGgxLmdldChpKSwgaSArIDEpOwogIH0KCiAgYjJzdHlsZTo6aGVhcF9wdHI8Uz4gaDIoMTAwKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihoMi5zaXplKCksIDEwMCk7CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgUyBzOwogICAgcy54ID0gaSArIDE7CiAgICBzLnkgPSBiMnN0eWxlOjppbnRfdG9fc3RyKGkgKyAyKTsKICAgIGgyLnNldChpLCBzKTsKICB9CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgUyBzID0gaDIuZ2V0KGkpOwogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4ocy54LCBpICsgMSk7CiAgICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihzLnksIGIyc3R5bGU6OmludF90b19zdHIoaSArIDIpKTsKICB9CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KEwAAAGluY2x1ZGVfX0ZJTEVfXy50eHRXAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CiNpbmNsdWRlIDxiMnN0eWxlL3N0ci5oPgoKdm9pZCBtYWluKCkgewogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF90cnVlKGIyc3R5bGU6OnN0cl9lbmRzX3dpdGgoYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X19GSUxFX18oKSwgInRlc3RpbmcvYXNzZXJ0LmgiKSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUoYjJzdHlsZTo6c3RyX2VuZHNfd2l0aChiMnN0eWxlOjp0ZXN0aW5nOjp0eXBlc19fRklMRV9fKCksICJ0ZXN0aW5nL3R5cGVzLmgiKSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQ8AAABsaW5rZWQtbGlzdC50eHTAAgAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CiNpbmNsdWRlIDxhc3NlcnQuaD4KCnRlbXBsYXRlIDxUPgpjbGFzcyBsaW5rZWRfbm9kZSB7CiAgVCB2OwogIHR5cGVfcHRyIF9uZXh0OwoKICB2b2lkIGNvbnN0cnVjdCgpIHsKICAgIHRoaXMuX25leHQgPSAwOwogIH0KfTsKCnRlbXBsYXRlIDxUPgpjbGFzcyBsaW5rZWRfaXRlcmF0b3IgewogIHR5cGVfcHRyIHA7CgogIHZvaWQgY29uc3RydWN0KHR5cGVfcHRyIHApIHsKICAgIGFzc2VydChfX1NUQVRFTUVOVF9fICsgIiBAIiArIF9fRklMRV9fLCBwICE9IDApOwoJdGhpcy5wID0gcDsKICB9CgogIHZvaWQgc2V0KFQgdikgewogICAgdHlwZV9wdHIgdCA9IHRoaXMucDsKCXN0YXRpY19jYXN0KHQsIGxpbmtlZF9ub2RlPFQ+KTsKCXRbMF0udiA9IHY7CiAgfQoKICBUIGdldCgpIHsKICAgIHR5cGVfcHRyIHQgPSB0aGlzLnA7CglzdGF0aWNfY2FzdCh0LCBsaW5rZWRfbm9kZTxUPik7CglyZXR1cm4gdFswXS52OwogIH0KfTsKCnRlbXBsYXRlIDxUPgpjbGFzcyBsaW5rZWRfbGlzdCB7CiAgdHlwZV9wdHIgaGVhZDsKICB0eXBlX3B0ciB0YWlsOwoKICB2b2lkIGNvbnN0cnVjdCgpIHsKICAgIHRoaXMuaGVhZCA9IDA7CiAgICB0aGlzLnRhaWwgPSAwOwogIH0KfTsKCnZvaWQgbWFpbigpIHsKICBmb3IgKGludCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICB9Cn0TAAAAbW9kX2VxdWFsc190b18xLnR4dMQAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZmFsc2UoKCgxMCAlIDIpID09IDEpKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZSgoKDExICUgMikgPT0gMSkpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KHwAAAG1vcmUtY2xvc2luZy1hbmdsZS1icmFja2V0cy50eHQcAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp0ZW1wbGF0ZSA8VD4KY2xhc3MgQyB7CiAgdm9pZCBmKCkgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUodHJ1ZSk7CiAgfQp9OwoKdGVtcGxhdGUgPFQ+CmNsYXNzIEMyIHsKICB2b2lkIGYoKSB7CiAgICBUIHQ7Cgl0LmYoKTsKICB9Cn07Cgp2b2lkIG1haW4oKSB7CiAgQzI8QzI8QzI8QzI8QzI8Qzx2b2lkPj4+Pj4+IGM7CiAgYy5mKCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQoOAAAAcHRyX29mZnNldC50eHTlAQAA77u/DQojaW5jbHVkZSA8YjJzdHlsZS5oPg0KI2luY2x1ZGUgPHRlc3RpbmcuaD4NCiNpbmNsdWRlIDxiMnN0eWxlL3RvX3N0ci5oPg0KI2luY2x1ZGUgPGJzdHlsZS9jb25zdC5oPg0KI2luY2x1ZGUgPGJzdHlsZS9pbnQuaD4NCg0KbG9uZyBwdHJfb2Zmc2V0KCkgew0KICBsb2dpYyAicmV0dXJuIHB0cl9vZmZzZXQgQEBwcmVmaXhlc0Bjb25zdGFudHNAcHRyX29mZnNldCI7DQp9DQoNCnZvaWQgbWFpbigpIHsNCiAgbG9uZyBNQVhfVUlOVF9QTFVTXzEgPSBic3R5bGU6OnRvX2xvbmcoNDI5NDk2NzI5NkwpOw0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8bG9uZz4ocHRyX29mZnNldCgpLCBNQVhfVUlOVF9QTFVTXzEpOw0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihiMnN0eWxlOjp0b19zdHIocHRyX29mZnNldCgpKSwgIjQyOTQ5NjcyOTYiKTsNCiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsNCn0QAAAAcmVhbF9fZmlsZV9fLnR4dKYAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihfX0ZJTEVfXywgInJlYWxfX2ZpbGVfXy50eHQiKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9HwAAAHJlZGVmaW5lLXN0cnVjdC1tZW1iZXItdHlwZS50eHTjAAAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp0eXBlZGVmIGludCBJTlQ7CgpzdHJ1Y3QgUyB7CiAgSU5UIGk7Cn07Cgp0eXBlZGVmIHN0cmluZyBJTlQ7Cgp2b2lkIG1haW4oKSB7CiAgUyBzOwogIHMuaSA9IDEwMDsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihzLmksIDEwMCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQoMAAAAcmVmX3Rlc3QudHh0KQIAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8YjJzdHlsZS9yZWYuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjpyZWY8c3RyaW5nPiBzKCk7CiAgYjJzdHlsZTo6cmVmPHN0cmluZz4gczIoImFiYyIpOwogIGIyc3R5bGU6OnJlZjxzdHJpbmc+IHMzKHMyKTsKICBiMnN0eWxlOjpyZWY8c3RyaW5nPiBzNCgpOwoKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZShzLmVtcHR5KCkpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF90cnVlKHMyLmVtcHR5KCkpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9mYWxzZShzMy5lbXB0eSgpKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihzMy5nZXQoKSwgImFiYyIpOwogIHM0LmFsbG9jKCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2ZhbHNlKHM0LmVtcHR5KCkpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxzdHJpbmc+KHM0LmdldCgpLCAiIik7CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0UAAAAcmVmX3ZhbHVlX2NsYXVzZS50eHR/AgAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp2b2lkIGYoaW50JiB4LCBpbnQgaSwgaW50IGopIHsKICB4ID0gaTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihpLCBqKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih4LCBqKTsKICB4ID0gaTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihpLCBqKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih4LCBqKTsKfQoKdm9pZCBnKGludCB4LCBpbnQgaSwgaW50IGopIHsKICB4ID0gaTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihpLCBqKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih4LCBqKTsKICB4ID0gaTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihpLCBqKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih4LCBqKTsKfQoKdm9pZCBtYWluKCkgewogIGludCB4OwogIGYoeCwgMSwgMSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oeCwgMSk7CiAgZigxLCAxLCAxKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9GAAAAHJlaW50ZXJwcmV0X2Nhc3RfcmVmLnR4dJMBAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCmNsYXNzIEIgewogIGludCB4OwogIHZvaWQgZigpIHsKICAgIHRoaXMueCsrOwogIH0KfTsKCmNsYXNzIEMgOiBCIHsKICB2b2lkIGYyKCkgewogICAgcmVpbnRlcnByZXRfY2FzdCh0aGlzLCBCKTsKCXRoaXMuZigpOwogICAgZih0aGlzKTsKICB9CgogIHZvaWQgZjMoKSB7CiAgICByZWludGVycHJldF9jYXN0KHRoaXMsIEIpOwoJdGhpcy5mKCk7CiAgICBmKHRoaXMpOwogIH0KfTsKCnZvaWQgbWFpbigpIHsKICBDIGM7CiAgYy54ID0gMTAwOwogIGMuZjIoKTsKICBjLmYzKCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oYy54LCAxMDQpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KDwAAAHNlbGYtaGVhbHRoLnR4dIYAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZSh0cnVlKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9ChgAAABzdGF0aWNfY2FzdF9wdHJfdHlwZS50eHRVAwAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CiNpbmNsdWRlIDxiMnN0eWxlL3N0ZGlvLmg+CgpzdHJ1Y3QgUyB7CiAgaW50IHg7CiAgc3RyaW5nIHk7Cn07Cgp2b2lkIGRlYnVnKFMgcykgewogIHJlaW50ZXJwcmV0X2Nhc3Qocy54LCBiaWd1aW50KTsKICBiMnN0eWxlOjpzdGRfb3V0KHMueCk7CiAgYjJzdHlsZTo6c3RkX291dCgiXG4iKTsKICByZWludGVycHJldF9jYXN0KHMueSwgYmlndWludCk7CiAgYjJzdHlsZTo6c3RkX291dChzLnkpOwogIGIyc3R5bGU6OnN0ZF9vdXQoIlxuIik7CiAgcmVpbnRlcnByZXRfY2FzdChzLlNfX3N0cnVjdF9fdHlwZV9faWQsIGJpZ3VpbnQpOwogIGIyc3R5bGU6OnN0ZF9vdXQocy5TX19zdHJ1Y3RfX3R5cGVfX2lkKTsKICBiMnN0eWxlOjpzdGRfb3V0KCJcbiIpOwp9Cgp2b2lkIGYoUyBzKSB7CiAgZGVidWcocyk7CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihzW2ldLngsIGkpOwogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPHN0cmluZz4oc1tpXS55LCBiMnN0eWxlOjppbnRfdG9fc3RyKGkpKTsKICB9Cn0KCnZvaWQgZih0eXBlX3B0ciBwKSB7CiAgc3RhdGljX2Nhc3QocCwgUyk7CiAgZihwKTsKfQoKdm9pZCBtYWluKCkgewogIFMgc1sxMF07CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICBzW2ldLnggPSBpOwogICAgc1tpXS55ID0gYjJzdHlsZTo6aW50X3RvX3N0cihpKTsKICB9CiAgc3RhdGljX2Nhc3QocywgdHlwZV9wdHIpOwogIGYocyk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfREAAABzdHItb3BlcmF0b3JzLnR4dPUBAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KI2luY2x1ZGUgPGJzdHlsZS9zdHIuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZShic3R5bGU6OnN0cl9lbXB0eSgiIikpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF90cnVlKGJzdHlsZTo6c3RyX2VtcHR5KCIiICsgIiIpKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZmFsc2UoYnN0eWxlOjpzdHJfZW1wdHkoImEiICsgIiIpKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pihic3R5bGU6OnN0cl9sZW4oIiIpLCAwKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pihic3R5bGU6OnN0cl9sZW4oImFiYyIpLCAzKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pihic3R5bGU6OnN0cl9sZW4oImFiYyIgKyAiZGVmIiksIDYpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0sAAAAc3RydWN0LWFuZC1wcmltaXRpdmUtdHlwZS13aXRoLXNhbWUtbmFtZS50eHTSAAAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp0eXBlZGVmIGludCBJTlQ7CgpzdHJ1Y3QgSU5UIHsKICBpbnQgeDsKfTsKCnZvaWQgbWFpbigpIHsKICBJTlQgaTsKICBpLnggPSAxMDA7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oaS54LCAxMDApOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KJQAAAHN0cnVjdF9tZW1iZXJfdHlwZV93aXRoX25hbWVzcGFjZS50eHTpAAAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CgpuYW1lc3BhY2UgTiB7CnN0cnVjdCBTIHsKICA6OmIyc3R5bGU6OmludCBpOwp9Owp9ICAvLyBuYW1lc3BhY2UgTgoKdm9pZCBtYWluKCkgewogIE46OlMgczsKICBzLmkgPSAxMDA7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4ocy5pLCAxMDApOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0ZAAAAdGVtcGxhdGUtaW4tbmFtZXNwYWNlLnR4dNEBAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCm5hbWVzcGFjZSBOIHsKCnR5cGVkZWYgOjp2b2lkIHZvaWQ7Cgp0ZW1wbGF0ZSA8VD4KY2xhc3MgQyB7CiAgdm9pZCBmKCkgewogICAgOjpiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZSh0cnVlKTsKICB9Cn07Cgp0ZW1wbGF0ZSA8VD4KZGVsZWdhdGUgdm9pZCBmKCk7Cgp0ZW1wbGF0ZSA8VD4Kdm9pZCBmMigpIHsKICAgIDo6YjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUodHJ1ZSk7Cn0KCn0gIC8vIG5hbWVzcGFjZSBOCgp2b2lkIGYoKSB7CiAgOjpiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZSh0cnVlKTsKfQoKdm9pZCBtYWluKCkgewogIE46OkM8aW50PiBjOwogIGMuZigpOwogIE46OmY8aW50PiBmMiA9IGY7CiAgZjIoKTsKICBOOjpmMjxpbnQ+KCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQoVAAAAdGVtcGxhdGUtb3ZlcnJpZGUudHh0RwMAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKY2xhc3MgT3V0V3JpdGVyIHsKICBpbnQgYzsKCiAgdm9pZCB3cml0ZShzdHJpbmcgbXNnKSB7CiAgICB0aGlzLmMrKzsKICAgIC8vIERvIG5vdCByZWFsbHkgd3JpdGUgdG8gc3Rkb3V0LCBpdCB3aWxsIG1hc3MgdXAgdGhlIHRlc3RpbmcgYXNzZXJ0aW9ucy4KICAgIGIyc3R5bGU6OnN0ZF9lcnIobXNnKTsKICB9Cn07CgpjbGFzcyBFcnJXcml0ZXIgewogIGludCBjOwoKICB2b2lkIHdyaXRlKHN0cmluZyBtc2cpIHsKICAgIHRoaXMuYysrOwogICAgYjJzdHlsZTo6c3RkX2Vycihtc2cpOwogIH0KfTsKCnRlbXBsYXRlIDxXPgpjbGFzcyBMb2dnZXIgewogIFcgdzsKCiAgdm9pZCBsb2coc3RyaW5nIG1zZykgewogICAgdGhpcy53LndyaXRlKG1zZyk7CiAgfQoKICBpbnQgY291bnRfb2ZfbG9nX2xpbmVzKCkgewogICAgcmV0dXJuIHRoaXMudy5jOwogIH0KfTsKCnR5cGVkZWYgTG9nZ2VyPE91dFdyaXRlcj4gT3V0TG9nZ2VyOwp0eXBlZGVmIExvZ2dlcjxFcnJXcml0ZXI+IEVyckxvZ2dlcjsKCnZvaWQgbWFpbigpIHsKICBPdXRMb2dnZXIgb2w7CiAgRXJyTG9nZ2VyIGVsOwoKICBvbC5sb2coIm91dCIpOwogIG9sLmxvZygib3V0Iik7CiAgb2wubG9nKCJvdXQiKTsKICBlbC5sb2coImVyciIpOwoKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihvbC5jb3VudF9vZl9sb2dfbGluZXMoKSwgMyk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oZWwuY291bnRfb2ZfbG9nX2xpbmVzKCksIDEpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KGAAAAHRlbXBsYXRlX2JlZm9yZV90eXBlLnR4dGYBAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KI2luY2x1ZGUgPHN0ZC92ZWN0b3I+CgpjbGFzcyBDIHsKICBpbnQgeDsKfTsKCnZvaWQgbWFpbigpIHsKICBzdGQ6OnZlY3RvcjxDPiB2KCk7CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgQyBjOwogICAgYy54ID0gaSArIDE7CiAgICB2LnB1c2hfYmFjayhjKTsKICB9CgogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIEMgYyA9IHYuZ2V0KGkpOwogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oYy54LCBpICsgMSk7CiAgfQogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KGwAAAHRlbXBsYXRlX2NsYXNzX3dpdGhfcmVmLnR4dN0BAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnRlbXBsYXRlIDxUPgpjbGFzcyBDIHsKICB2b2lkIGYoVCYgeCkgewogICAgeCsrOwogIH0KfTsKCnRlbXBsYXRlIDxUPgpjbGFzcyBDMiB7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IHN0ZDo6dmVjdG9yPGludD4gdigpOwogIGZvciAoaW50IGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgdi5wdXNoX2JhY2soaSArIDEpOwogIH0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih2LnNpemUoKSwgMTApOwoKICBmb3IgKGludCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KHYuZ2V0KGkpLCBpICsgMSk7CiAgfQoKICBmb3IgKGludCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgIHYuc2V0KGksIGkgKyAyKTsKICB9CgogIGZvciAoaW50IGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4odi5nZXQoaSksIGkgKyAyKTsKICB9CgogIHYuY2xlYXIoKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih2LnNpemUoKSwgMCk7CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0hAAAAdmlydHVhbC1mdW5jdGlvbi1jb21waWxlLW9ubHkudHh00QAAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKY2xhc3MgQyB7CiAgb3ZlcnJpZGFibGUgdm9pZCBmKCkge30KfTsKCmNsYXNzIEQgOiBDIHsKICBvdmVycmlkZSB2b2lkIGYoKSB7fQp9OwoKdm9pZCBtYWluKCkgewogIEMgYzsKICBEIGQ7CgogIGMuZigpOwogIGQuZigpOwoKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9EQAAAHZvaWQtdmFyaWFibGUudHh01QAAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKdm9pZCBtYWluKCkgewogIHZvaWQgdjsKICB2b2lkIHYyWzEwMF07CiAgLy8gdm9pZCBpcyBub3QgYXNzaWduYWJsZSwgYnV0IGRlZmluaW5nIGEgdmFyaWFibGUgd2l0aCB2b2lkIHR5cGUgc2hvdWxkIHN0aWxsIGJlIGFsbG93ZWQuCiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQwAAABfX2ZpbGVfXy50eHRVAgAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp2b2lkIG1haW4oKSB7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPHN0cmluZz4oX19GSUxFX18sIF9fRklMRV9fKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihfX2Z1bmNfXywgX19mdW5jX18pOwogIC8vIFRoZSBfX0xJTkVfXyBpcyBoYW5kbGVkIGFzIHRoZSBzdGFydCBvZiBjaGFyYWN0ZXIsIHNvIHRoZSBmb2xsb3dpbmcgYXNzZXJ0aW9uIHdvbid0IHBhc3MuCiAgLy8gYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oX19MSU5FX18sIF9fTElORV9fKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZShfX0xJTkVfXyA+IDApOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxzdHJpbmc+KF9fU1RBVEVNRU5UX18sIF9fU1RBVEVNRU5UX18pOwogIHN0cmluZyBzID0gX19TVEFURU1FTlRfXzsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihzLCAic3RyaW5nIHMgPSBfX1NUQVRFTUVOVF9fIDsiKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9"
        ))
End Class
