Option Explicit On
Option Infer Off
Option Strict On
Imports osi.root.connector
Public NotInheritable Class b2style_self_test_cases
    Private Sub New()
    End Sub
    Public Shared ReadOnly data() As Byte = 
        Convert.FromBase64String(strcat_hint(CUInt(18319), 
            "GgAAAGFjY2Vzcy1iaWd1aW50LWFzLWhlYXAudHh0LgEAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKdm9pZCBtYWluKCkgewogIGludCB4WzEwMF07CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgeFtpXSA9IGkgKyAxOwogIH0KICB0eXBlX3B0ciB5ID0geDsKICByZWludGVycHJldF9jYXN0KHksIGludCk7CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oeVtpXSwgaSArIDEpOwogIH0KICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9EAAAAGFzc2VydC1lcXVhbC50eHTQAAAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp2b2lkIG1haW4oKSB7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludCwgaW50PigxLCAxKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nLCBzdHJpbmc+KCJhYmMiLCAiYWJjIik7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQ0AAABib29sLWhlYXAudHh0pAIAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgojaW5jbHVkZSA8YjJzdHlsZS9oZWFwX3B0ci5oPgoKdm9pZCBmKGJvb2wgcykgewogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxib29sPihzW2ldLCAoaSAlIDIpID09IDEpOwogIH0KfQoKdm9pZCBmKGIyc3R5bGU6OmhlYXBfcHRyPGJvb2w+IGgpIHsKICBmb3IgKGludCBpID0gMDsgaSA8IGguc2l6ZSgpOyBpKyspIHsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxib29sPihoLmdldChpKSwgKGkgJSAyKSA9PSAxKTsKICB9Cn0KCnZvaWQgbWFpbigpIHsKICBib29sIHNbMTAwXTsKICBmb3IgKGludCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7CiAgICBzW2ldID0gKChpICUgMikgPT0gMSk7CiAgfQogIGYocyk7CgogIGIyc3R5bGU6OmhlYXBfcHRyPGJvb2w+IGgoMTAwKTsKICBmb3IgKGludCBpID0gMDsgaSA8IGguc2l6ZSgpOyBpKyspIHsKICAgIGguc2V0KGksIChpICUgMikgPT0gMSk7CiAgfQogIGYoaCk7CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGIyc3R5bGU6OnRlc3Rpbmc6Ol9hc3NlcnRpb25fY291bnQsIDIwMCk7CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0OAAAAYm9vbF9hcnJheS50eHReAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp2b2lkIG1haW4oKSB7CiAgYm9vbCBhWzEwMF07CiAgYm9vbCBiOwogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIGFbaV0gPSAoKGkgJSAyKSA9PSAxKTsKICB9CiAgcmVpbnRlcnByZXRfY2FzdChiLCBpbnQpOwogIGIgPSBhOwogIHJlaW50ZXJwcmV0X2Nhc3QoYiwgYm9vbCk7CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGJvb2w+KGJbaV0sIChpICUgMikgPT0gMSk7CiAgfQogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0WAAAAY2FsbC1mdW5jLWluLXBhcmFtLnR4dKMAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgZihpbnQgeCkge30KCnZvaWQgZygpIHsKICBmKDEpOwp9Cgp2b2lkIGYoKSB7CiAgZygpOwp9Cgp2b2lkIG1haW4oKSB7CiAgZigpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KIwAAAGNsYXNzLWZ1bmN0aW9uLWNhbGwtd2l0aC1zcGFjZXMudHh03gAAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKY2xhc3MgQyB7CiAgdm9pZCBmKGludCYgeCkgewogICAgeCsrOwogIH0KfTsKCnZvaWQgbWFpbigpIHsKICBDIGM7CiAgaW50IHggPSAwOwogIGMgLiBmICggeCApOwogIGIyc3R5bGU6OiB0ZXN0aW5nOjogYXNzZXJ0X3RydWUoIHggPT0gMSApOwogIGIyc3R5bGU6OiB0ZXN0aW5nOjogZmluaXNoZWQoKTsKfSQAAABjbGFzcy1pbmhlcml0YW5jZS1iYXNlLXZhcmlhYmxlcy50eHTQAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CgpjbGFzcyBBIHsKICBpbnQgYTsKfTsKCmNsYXNzIEIgewogIGludCBiOwp9OwoKY2xhc3MgQyA6IEIgewogIGludCBjOwp9OwoKY2xhc3MgRCA6IEEsIEMgewogIGludCBkOwp9OwoKdm9pZCBtYWluKCkgewogIEQgZDsKICBkLmE9MTsKICBkLmI9MjsKICBkLmM9MzsKICBkLmQ9NDsKICAvLyBUaGUgInR5cGUtaWQicyBhcmUgbm90IHRlc3RlZC4KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihkLmEsIDEpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGQuYiwgMik7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oZC5jLCAzKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihkLmQsIDQpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0iAAAAY2xhc3MtaW5oZXJpdGFuY2UtY29tcGlsZS1vbmx5LnR4dNUAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCmNsYXNzIEIgewogIGludCB4Owp9OwoKY2xhc3MgQyA6IEIgewogIGludCB5Owp9OwoKdm9pZCBtYWluKCkgewogIEMgYzsKICBjLnkgPSAxMDA7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oYy55LCAxMDApOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0oAAAAY2xhc3MtaW5oZXJpdGFuY2UtdGVtcGxhdGUtdmFyaWFibGVzLnR4dMIBAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnRlbXBsYXRlIDxUPgpjbGFzcyBCIHsKICBUIHg7Cn07CgpjbGFzcyBDIDogQjxpbnQ+IHsKICBpbnQgeTsKfTsKCmNsYXNzIEMyIDogQjxzdHJpbmc+IHsKICBpbnQgeTsKfTsKCnZvaWQgbWFpbigpIHsKICBDIGM7CiAgYy54PSAxOwogIGMueT0yOwoKICBDMiBjMjsKICBjMi54PSJhIjsKICBjMi55PTM7CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGMueCwgMSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oYy55LCAyKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihjMi54LCAiYSIpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGMyLnksIDMpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0VAAAAY29weS1mdW5jdGlvbi1wdHIudHh0ywAAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKZGVsZWdhdGUgdm9pZCBwKCk7Cgp2b2lkIGYoKSB7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUodHJ1ZSk7Cn0KCnZvaWQgbWFpbigpIHsKICBwIHggPSBmOwogIHAgeSA9IHg7CiAgeCgpOwogIHkoKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9KgAAAGRlZmluZS1jbGFzcy1jb25zdHJ1Y3Rvci1mb3Itbm9uLWNsYXNzLnR4dFoBAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgY29uc3RydWN0KGludCYgdGhpcywgaW50IHYpIHsKICB0aGlzID0gdiArIDE7Cn0KCnZvaWQgY29uc3RydWN0KGludCYgdGhpcykgewogIHRoaXMuY29uc3RydWN0KDEpOwp9Cgp2b2lkIGRlc3RydWN0KGludCYgdGhpcykge30KCnZvaWQgbWFpbigpIHsKICBpbnQgeCgxMDApOwogIGludCB5KCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oeCwgMTAxKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih5LCAyKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9JQAAAGRlbGVnYXRlLWZ1bmN0aW9ucy13aXRoLXNhbWUtbmFtZS50eHSCAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDxiMnN0eWxlL2RlbGVnYXRlcy5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKaW50IGYoaW50IHgpIHsKICByZXR1cm4geCArIDE7Cn0KCnN0cmluZyBmKHN0cmluZyB4KSB7CiAgcmV0dXJuIHg7Cn0KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjpmdW5jdGlvbjxpbnQsIGludD4gZCA9IGY7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oZCgxKSwgMik7CgogIGIyc3R5bGU6OmZ1bmN0aW9uPHN0cmluZywgc3RyaW5nPiBkMiA9IGY7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPHN0cmluZz4oZDIoImFiYyIpLCAiYWJjIik7CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0VAAAAZnVuY3Rpb24tdGVtcGxhdGUudHh0FQEAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKdGVtcGxhdGUgPFQ+ClQgYWRkKFQmIHgsIFQgeSkgewogIHggKz0geTsKICByZXR1cm4geDsKfQoKdm9pZCBtYWluKCkgewogIGludCB4ID0gMTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZShhZGQ8aW50Pih4LCAxKSA9PSAyKTsKICBhZGQ8aW50Pih4LCAxKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZSh4ID09IDMpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0IAAAAaGVhcC50eHTyAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CiNpbmNsdWRlIDxiMnN0eWxlL3N0ZGlvLmg+CgpzdHJ1Y3QgUyB7CiAgaW50IHg7CiAgc3RyaW5nIHk7Cn07Cgp2b2lkIG1haW4oKSB7CiAgUyBzOwogIHsKICAgIFMgeFsxMF07CiAgICBzID0geDsKICAgIHVuZGVmaW5lKHgpOwogIH0KICBmb3IgKGludCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgIHNbaV0ueCA9IGkgKyAxOwogICAgc1tpXS55ID0gYjJzdHlsZTo6aW50X3RvX3N0cihpICsgMik7CiAgfQogIGZvciAoaW50IGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oc1tpXS54LCBpICsgMSk7CiAgICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihzW2ldLnksIGIyc3R5bGU6OmludF90b19zdHIoaSArIDIpKTsKICB9CiAgZGVhbGxvYyhzKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9EQAAAGhlYXBfcHRyX3Rlc3QudHh0QQMAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgojaW5jbHVkZSA8YjJzdHlsZS9zdGRpby5oPgoKc3RydWN0IFMgewogIGludCB4OwogIHN0cmluZyB5Owp9OwoKI2luY2x1ZGUgPGIyc3R5bGUvaGVhcF9wdHIuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjpoZWFwX3B0cjxpbnQ+IGgxKDEwMCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oaDEuc2l6ZSgpLCAxMDApOwogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIGgxLnNldChpLCBpICsgMSk7CiAgfQogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGgxLmdldChpKSwgaSArIDEpOwogIH0KCiAgYjJzdHlsZTo6aGVhcF9wdHI8Uz4gaDIoMTAwKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihoMi5zaXplKCksIDEwMCk7CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgUyBzOwogICAgcy54ID0gaSArIDE7CiAgICBzLnkgPSBiMnN0eWxlOjppbnRfdG9fc3RyKGkgKyAyKTsKICAgIGgyLnNldChpLCBzKTsKICB9CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgUyBzID0gaDIuZ2V0KGkpOwogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4ocy54LCBpICsgMSk7CiAgICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihzLnksIGIyc3R5bGU6OmludF90b19zdHIoaSArIDIpKTsKICB9CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KEwAAAGluY2x1ZGVfX0ZJTEVfXy50eHRXAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CiNpbmNsdWRlIDxiMnN0eWxlL3N0ci5oPgoKdm9pZCBtYWluKCkgewogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF90cnVlKGIyc3R5bGU6OnN0cl9lbmRzX3dpdGgoYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X19GSUxFX18oKSwgInRlc3RpbmcvYXNzZXJ0LmgiKSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUoYjJzdHlsZTo6c3RyX2VuZHNfd2l0aChiMnN0eWxlOjp0ZXN0aW5nOjp0eXBlc19fRklMRV9fKCksICJ0ZXN0aW5nL3R5cGVzLmgiKSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQ8AAABsaW5rZWQtbGlzdC50eHTAAgAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CiNpbmNsdWRlIDxhc3NlcnQuaD4KCnRlbXBsYXRlIDxUPgpjbGFzcyBsaW5rZWRfbm9kZSB7CiAgVCB2OwogIHR5cGVfcHRyIF9uZXh0OwoKICB2b2lkIGNvbnN0cnVjdCgpIHsKICAgIHRoaXMuX25leHQgPSAwOwogIH0KfTsKCnRlbXBsYXRlIDxUPgpjbGFzcyBsaW5rZWRfaXRlcmF0b3IgewogIHR5cGVfcHRyIHA7CgogIHZvaWQgY29uc3RydWN0KHR5cGVfcHRyIHApIHsKICAgIGFzc2VydChfX1NUQVRFTUVOVF9fICsgIiBAIiArIF9fRklMRV9fLCBwICE9IDApOwoJdGhpcy5wID0gcDsKICB9CgogIHZvaWQgc2V0KFQgdikgewogICAgdHlwZV9wdHIgdCA9IHRoaXMucDsKCXN0YXRpY19jYXN0KHQsIGxpbmtlZF9ub2RlPFQ+KTsKCXRbMF0udiA9IHY7CiAgfQoKICBUIGdldCgpIHsKICAgIHR5cGVfcHRyIHQgPSB0aGlzLnA7CglzdGF0aWNfY2FzdCh0LCBsaW5rZWRfbm9kZTxUPik7CglyZXR1cm4gdFswXS52OwogIH0KfTsKCnRlbXBsYXRlIDxUPgpjbGFzcyBsaW5rZWRfbGlzdCB7CiAgdHlwZV9wdHIgaGVhZDsKICB0eXBlX3B0ciB0YWlsOwoKICB2b2lkIGNvbnN0cnVjdCgpIHsKICAgIHRoaXMuaGVhZCA9IDA7CiAgICB0aGlzLnRhaWwgPSAwOwogIH0KfTsKCnZvaWQgbWFpbigpIHsKICBmb3IgKGludCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICB9Cn0TAAAAbW9kX2VxdWFsc190b18xLnR4dMQAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZmFsc2UoKCgxMCAlIDIpID09IDEpKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZSgoKDExICUgMikgPT0gMSkpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KHwAAAG1vcmUtY2xvc2luZy1hbmdsZS1icmFja2V0cy50eHQcAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp0ZW1wbGF0ZSA8VD4KY2xhc3MgQyB7CiAgdm9pZCBmKCkgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUodHJ1ZSk7CiAgfQp9OwoKdGVtcGxhdGUgPFQ+CmNsYXNzIEMyIHsKICB2b2lkIGYoKSB7CiAgICBUIHQ7Cgl0LmYoKTsKICB9Cn07Cgp2b2lkIG1haW4oKSB7CiAgQzI8QzI8QzI8QzI8QzI8Qzx2b2lkPj4+Pj4+IGM7CiAgYy5mKCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQoOAAAAcHRyX29mZnNldC50eHTlAQAA77u/DQojaW5jbHVkZSA8YjJzdHlsZS5oPg0KI2luY2x1ZGUgPHRlc3RpbmcuaD4NCiNpbmNsdWRlIDxiMnN0eWxlL3RvX3N0ci5oPg0KI2luY2x1ZGUgPGJzdHlsZS9jb25zdC5oPg0KI2luY2x1ZGUgPGJzdHlsZS9pbnQuaD4NCg0KbG9uZyBwdHJfb2Zmc2V0KCkgew0KICBsb2dpYyAicmV0dXJuIHB0cl9vZmZzZXQgQEBwcmVmaXhlc0Bjb25zdGFudHNAcHRyX29mZnNldCI7DQp9DQoNCnZvaWQgbWFpbigpIHsNCiAgbG9uZyBNQVhfVUlOVF9QTFVTXzEgPSBic3R5bGU6OnRvX2xvbmcoNDI5NDk2NzI5NkwpOw0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8bG9uZz4ocHRyX29mZnNldCgpLCBNQVhfVUlOVF9QTFVTXzEpOw0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihiMnN0eWxlOjp0b19zdHIocHRyX29mZnNldCgpKSwgIjQyOTQ5NjcyOTYiKTsNCiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsNCn0QAAAAcmVhbF9fZmlsZV9fLnR4dKYAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihfX0ZJTEVfXywgInJlYWxfX2ZpbGVfXy50eHQiKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9HwAAAHJlZGVmaW5lLXN0cnVjdC1tZW1iZXItdHlwZS50eHTjAAAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp0eXBlZGVmIGludCBJTlQ7CgpzdHJ1Y3QgUyB7CiAgSU5UIGk7Cn07Cgp0eXBlZGVmIHN0cmluZyBJTlQ7Cgp2b2lkIG1haW4oKSB7CiAgUyBzOwogIHMuaSA9IDEwMDsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihzLmksIDEwMCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQoMAAAAcmVmX3Rlc3QudHh0KQIAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8YjJzdHlsZS9yZWYuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjpyZWY8c3RyaW5nPiBzKCk7CiAgYjJzdHlsZTo6cmVmPHN0cmluZz4gczIoImFiYyIpOwogIGIyc3R5bGU6OnJlZjxzdHJpbmc+IHMzKHMyKTsKICBiMnN0eWxlOjpyZWY8c3RyaW5nPiBzNCgpOwoKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZShzLmVtcHR5KCkpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF90cnVlKHMyLmVtcHR5KCkpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9mYWxzZShzMy5lbXB0eSgpKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihzMy5nZXQoKSwgImFiYyIpOwogIHM0LmFsbG9jKCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2ZhbHNlKHM0LmVtcHR5KCkpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxzdHJpbmc+KHM0LmdldCgpLCAiIik7CgogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0UAAAAcmVmX3ZhbHVlX2NsYXVzZS50eHR/AgAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp2b2lkIGYoaW50JiB4LCBpbnQgaSwgaW50IGopIHsKICB4ID0gaTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihpLCBqKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih4LCBqKTsKICB4ID0gaTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihpLCBqKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih4LCBqKTsKfQoKdm9pZCBnKGludCB4LCBpbnQgaSwgaW50IGopIHsKICB4ID0gaTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihpLCBqKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih4LCBqKTsKICB4ID0gaTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihpLCBqKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih4LCBqKTsKfQoKdm9pZCBtYWluKCkgewogIGludCB4OwogIGYoeCwgMSwgMSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oeCwgMSk7CiAgZigxLCAxLCAxKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9GAAAAHJlaW50ZXJwcmV0X2Nhc3RfcmVmLnR4dJMBAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCmNsYXNzIEIgewogIGludCB4OwogIHZvaWQgZigpIHsKICAgIHRoaXMueCsrOwogIH0KfTsKCmNsYXNzIEMgOiBCIHsKICB2b2lkIGYyKCkgewogICAgcmVpbnRlcnByZXRfY2FzdCh0aGlzLCBCKTsKCXRoaXMuZigpOwogICAgZih0aGlzKTsKICB9CgogIHZvaWQgZjMoKSB7CiAgICByZWludGVycHJldF9jYXN0KHRoaXMsIEIpOwoJdGhpcy5mKCk7CiAgICBmKHRoaXMpOwogIH0KfTsKCnZvaWQgbWFpbigpIHsKICBDIGM7CiAgYy54ID0gMTAwOwogIGMuZjIoKTsKICBjLmYzKCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oYy54LCAxMDQpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KDwAAAHNlbGYtaGVhbHRoLnR4dIYAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZSh0cnVlKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9ChgAAABzdGF0aWNfY2FzdF9wdHJfdHlwZS50eHQOAgAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CiNpbmNsdWRlIDxiMnN0eWxlL3RvX3N0ci5oPgoKc3RydWN0IFMgewogIGludCB4OwogIHN0cmluZyB5Owp9OwoKdm9pZCBmKFMgcykgewogIGZvciAoaW50IGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oc1tpXS54LCBpKTsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxzdHJpbmc+KHNbaV0ueSwgYjJzdHlsZTo6aW50X3RvX3N0cihpKSk7CiAgfQp9Cgp2b2lkIGYodHlwZV9wdHIgcCkgewogIHN0YXRpY19jYXN0KHAsIFMpOwogIGYocCk7Cn0KCnZvaWQgbWFpbigpIHsKICBTIHNbMTBdOwogIGZvciAoaW50IGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgc1tpXS54ID0gaTsKICAgIHNbaV0ueSA9IGIyc3R5bGU6OnRvX3N0cihpKTsKICB9CiAgc3RhdGljX2Nhc3QocywgdHlwZV9wdHIpOwogIGYocyk7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfRkAAABzdGF0aWNfY2FzdF9wdHJfdHlwZTIudHh0XQEAAO+7vw0KI2luY2x1ZGUgPGIyc3R5bGUuaD4NCiNpbmNsdWRlIDx0ZXN0aW5nLmg+DQoNCnN0cnVjdCBTIHsNCiAgaW50IHg7DQogIHN0cmluZyB5Ow0KfTsNCg0Kdm9pZCBtYWluKCkgew0KICBTIHNbMTBdOw0KICBzWzBdLnggPSAxMDsNCiAgc1swXS55ID0gIjExIjsNCiAgc3RhdGljX2Nhc3QocywgdHlwZV9wdHIpOw0KICBzdGF0aWNfY2FzdChzLCBTKTsNCiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oc1swXS54LCAxMCk7DQogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxzdHJpbmc+KHNbMF0ueSwgIjExIik7DQogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7DQp9DQoZAAAAc3RhdGljX2Nhc3RfcHRyX3R5cGUzLnR4dLYBAADvu78NCiNpbmNsdWRlIDxiMnN0eWxlLmg+DQojaW5jbHVkZSA8dGVzdGluZy5oPg0KI2luY2x1ZGUgPGIyc3R5bGUvdG9fc3RyLmg+DQoNCnN0cnVjdCBTIHsNCiAgaW50IHg7DQogIHN0cmluZyB5Ow0KfTsNCg0Kdm9pZCBmKFMgcykgew0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50PihzWzBdLngsIDEpOw0KICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihzWzBdLnksICIyIik7DQp9DQoNCnZvaWQgZih0eXBlX3B0ciBwKSB7DQogIHN0YXRpY19jYXN0KHAsIFMpOw0KICBmKHApOw0KfQ0KDQp2b2lkIG1haW4oKSB7DQogIFMgc1sxXTsNCiAgc1swXS54ID0gMTsNCiAgc1swXS55ID0gIjIiOw0KICBzdGF0aWNfY2FzdChzLCB0eXBlX3B0cik7DQogIGYocyk7DQogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7DQp9DQoRAAAAc3RyLW9wZXJhdG9ycy50eHT1AQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CiNpbmNsdWRlIDxic3R5bGUvc3RyLmg+Cgp2b2lkIG1haW4oKSB7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUoYnN0eWxlOjpzdHJfZW1wdHkoIiIpKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZShic3R5bGU6OnN0cl9lbXB0eSgiIiArICIiKSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2ZhbHNlKGJzdHlsZTo6c3RyX2VtcHR5KCJhIiArICIiKSk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oYnN0eWxlOjpzdHJfbGVuKCIiKSwgMCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oYnN0eWxlOjpzdHJfbGVuKCJhYmMiKSwgMyk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oYnN0eWxlOjpzdHJfbGVuKCJhYmMiICsgImRlZiIpLCA2KTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9LAAAAHN0cnVjdC1hbmQtcHJpbWl0aXZlLXR5cGUtd2l0aC1zYW1lLW5hbWUudHh00gAAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKdHlwZWRlZiBpbnQgSU5UOwoKc3RydWN0IElOVCB7CiAgaW50IHg7Cn07Cgp2b2lkIG1haW4oKSB7CiAgSU5UIGk7CiAgaS54ID0gMTAwOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGkueCwgMTAwKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9CiUAAABzdHJ1Y3RfbWVtYmVyX3R5cGVfd2l0aF9uYW1lc3BhY2UudHh06QAAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKbmFtZXNwYWNlIE4gewpzdHJ1Y3QgUyB7CiAgOjpiMnN0eWxlOjppbnQgaTsKfTsKfSAgLy8gbmFtZXNwYWNlIE4KCnZvaWQgbWFpbigpIHsKICBOOjpTIHM7CiAgcy5pID0gMTAwOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KHMuaSwgMTAwKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9GQAAAHRlbXBsYXRlLWluLW5hbWVzcGFjZS50eHTRAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CgpuYW1lc3BhY2UgTiB7Cgp0eXBlZGVmIDo6dm9pZCB2b2lkOwoKdGVtcGxhdGUgPFQ+CmNsYXNzIEMgewogIHZvaWQgZigpIHsKICAgIDo6YjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUodHJ1ZSk7CiAgfQp9OwoKdGVtcGxhdGUgPFQ+CmRlbGVnYXRlIHZvaWQgZigpOwoKdGVtcGxhdGUgPFQ+CnZvaWQgZjIoKSB7CiAgICA6OmIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF90cnVlKHRydWUpOwp9Cgp9ICAvLyBuYW1lc3BhY2UgTgoKdm9pZCBmKCkgewogIDo6YjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUodHJ1ZSk7Cn0KCnZvaWQgbWFpbigpIHsKICBOOjpDPGludD4gYzsKICBjLmYoKTsKICBOOjpmPGludD4gZjIgPSBmOwogIGYyKCk7CiAgTjo6ZjI8aW50PigpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0KFQAAAHRlbXBsYXRlLW92ZXJyaWRlLnR4dEcDAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCmNsYXNzIE91dFdyaXRlciB7CiAgaW50IGM7CgogIHZvaWQgd3JpdGUoc3RyaW5nIG1zZykgewogICAgdGhpcy5jKys7CiAgICAvLyBEbyBub3QgcmVhbGx5IHdyaXRlIHRvIHN0ZG91dCwgaXQgd2lsbCBtYXNzIHVwIHRoZSB0ZXN0aW5nIGFzc2VydGlvbnMuCiAgICBiMnN0eWxlOjpzdGRfZXJyKG1zZyk7CiAgfQp9OwoKY2xhc3MgRXJyV3JpdGVyIHsKICBpbnQgYzsKCiAgdm9pZCB3cml0ZShzdHJpbmcgbXNnKSB7CiAgICB0aGlzLmMrKzsKICAgIGIyc3R5bGU6OnN0ZF9lcnIobXNnKTsKICB9Cn07Cgp0ZW1wbGF0ZSA8Vz4KY2xhc3MgTG9nZ2VyIHsKICBXIHc7CgogIHZvaWQgbG9nKHN0cmluZyBtc2cpIHsKICAgIHRoaXMudy53cml0ZShtc2cpOwogIH0KCiAgaW50IGNvdW50X29mX2xvZ19saW5lcygpIHsKICAgIHJldHVybiB0aGlzLncuYzsKICB9Cn07Cgp0eXBlZGVmIExvZ2dlcjxPdXRXcml0ZXI+IE91dExvZ2dlcjsKdHlwZWRlZiBMb2dnZXI8RXJyV3JpdGVyPiBFcnJMb2dnZXI7Cgp2b2lkIG1haW4oKSB7CiAgT3V0TG9nZ2VyIG9sOwogIEVyckxvZ2dlciBlbDsKCiAgb2wubG9nKCJvdXQiKTsKICBvbC5sb2coIm91dCIpOwogIG9sLmxvZygib3V0Iik7CiAgZWwubG9nKCJlcnIiKTsKCiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4ob2wuY291bnRfb2ZfbG9nX2xpbmVzKCksIDMpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGVsLmNvdW50X29mX2xvZ19saW5lcygpLCAxKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9ChgAAAB0ZW1wbGF0ZV9iZWZvcmVfdHlwZS50eHRmAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+CiNpbmNsdWRlIDxzdGQvdmVjdG9yPgoKY2xhc3MgQyB7CiAgaW50IHg7Cn07Cgp2b2lkIG1haW4oKSB7CiAgc3RkOjp2ZWN0b3I8Qz4gdigpOwogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIEMgYzsKICAgIGMueCA9IGkgKyAxOwogICAgdi5wdXNoX2JhY2soYyk7CiAgfQoKICBmb3IgKGludCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7CiAgICBDIGMgPSB2LmdldChpKTsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGMueCwgaSArIDEpOwogIH0KICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9ChsAAAB0ZW1wbGF0ZV9jbGFzc193aXRoX3JlZi50eHTdAQAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp0ZW1wbGF0ZSA8VD4KY2xhc3MgQyB7CiAgdm9pZCBmKFQmIHgpIHsKICAgIHgrKzsKICB9Cn07Cgp0ZW1wbGF0ZSA8VD4KY2xhc3MgQzIgewogIHZvaWQgZihUIHgpIHsKICAgIHgrKzsKICB9Cn07Cgp0ZW1wbGF0ZSA8VD4KY2xhc3MgQzMgewogIHZvaWQgZihUIHQpIHsKICAgIGludCB4ID0gMDsKCXQuZih4KTsKCWIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF90cnVlKHggPT0gMSk7CiAgfQp9OwoKdm9pZCBtYWluKCkgewogIEM8aW50PiBjOwogIEMyPGludCY+IGMyOwogIC8vIFRPRE86IFJlbW92ZSByaWdodC1zaGlmdCBhbmQgYXZvaWQgYWRkaW5nIGEgc3BhY2UgYmV0d2VlbiB0d28gPj4uCiAgQzM8QzxpbnQ+ID4gcjsKICByLmYoYyk7CiAgQzM8QzI8aW50Jj4gPiByMjsKICByMi5mKGMyKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9HgAAAHR3by1jbG9zaW5nLWFuZ2xlLWJyYWNrZXRzLnR4dCsBAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnRlbXBsYXRlIDxUPgpjbGFzcyBDIHsKICB2b2lkIGYoVCB0LCBUIHQyKSB7CiAgICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfdHJ1ZSh0ID09IHQyKTsKICB9Cn07Cgp0ZW1wbGF0ZSA8VD4KY2xhc3MgQzIgewogIHZvaWQgZihUIHQpIHsKICAgIHQuZigxMDAsIDEwMCk7CiAgfQp9OwoKdm9pZCBtYWluKCkgewogIEM8aW50PiBjOwogIEMyPEM8aW50Pj4gYzI7CiAgYzIuZihjKTsKCiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfRIAAAB1bm1hbmFnZWRfaGVhcC50eHQwAgAA77u/CiNpbmNsdWRlIDxiMnN0eWxlLmg+CiNpbmNsdWRlIDx0ZXN0aW5nLmg+Cgp0ZW1wbGF0ZSA8VD4KY2xhc3MgYXJyYXkgewogIFQgYTsKCiAgdm9pZCBjb25zdHJ1Y3QoaW50IHNpemUpIHsKICAgIFQgeFtzaXplXTsKCXRoaXMuYSA9IHg7Cglsb2dpYyAidW5kZWZpbmUgeCI7CiAgfQoKICB2b2lkIGRlc3RydWN0KCkgewogICAgbG9naWMgImRlYWxsb2NfaGVhcCB0aGlzLmEiOwogIH0KCiAgVCBnZXQoaW50IGluZGV4KSB7CiAgICByZXR1cm4gdGhpcy5hW2luZGV4XTsKICB9CgogIHZvaWQgc2V0KGludCBpbmRleCwgVCB2KSB7CiAgICB0aGlzLmFbaW5kZXhdID0gdjsKICB9Cn07Cgp2b2lkIG1haW4oKSB7CiAgYXJyYXk8aW50PiBhKDEwMCk7CgogIGZvciAoaW50IGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgIGEuc2V0KGksIGkgKyAxKTsKICB9CiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDA7IGkrKykgewogICAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4oYS5nZXQoaSksIGkgKyAxKTsKICB9CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQobAAAAdXNlLWJhc2UtY2xhc3MtZnVuY3Rpb24udHh0gQEAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKY2xhc3MgQiB7CiAgaW50IHg7CiAgdm9pZCBmKCkgewoJdGhpcy54Kys7CiAgfQp9OwoKY2xhc3MgQjI6IEIgewogIHZvaWQgZjIoKSB7CiAgICB0aGlzLngrPTI7CiAgfQp9OwoKY2xhc3MgQjMgewogIHZvaWQgZmluaXNoKCkgewoJYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKICB9Cn07CgpjbGFzcyBDOiBCMiwgQjMgewogIHZvaWQgZjMoKSB7CiAgICB0aGlzLngrPTM7CiAgfQp9OwoKdm9pZCBtYWluKCkgewogIEMgYzsKICBjLmYoKTsKICBjLmYyKCk7CiAgYy5mMygpOwogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KGMueCwgNik7CiAgYy5maW5pc2goKTsKfQoPAAAAdmVjdG9yLXRlc3QudHh0PAIAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8c3RkL3ZlY3Rvcj4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICBzdGQ6OnZlY3RvcjxpbnQ+IHYoKTsKICBmb3IgKGludCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgIHYucHVzaF9iYWNrKGkgKyAxKTsKICB9CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4odi5zaXplKCksIDEwKTsKCiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8aW50Pih2LmdldChpKSwgaSArIDEpOwogIH0KCiAgZm9yIChpbnQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICB2LnNldChpLCBpICsgMik7CiAgfQoKICBmb3IgKGludCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KHYuZ2V0KGkpLCBpICsgMik7CiAgfQoKICB2LmNsZWFyKCk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPGludD4odi5zaXplKCksIDApOwoKICBiMnN0eWxlOjp0ZXN0aW5nOjpmaW5pc2hlZCgpOwp9IQAAAHZpcnR1YWwtZnVuY3Rpb24tY29tcGlsZS1vbmx5LnR4dNEAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCmNsYXNzIEMgewogIG92ZXJyaWRhYmxlIHZvaWQgZigpIHt9Cn07CgpjbGFzcyBEIDogQyB7CiAgb3ZlcnJpZGUgdm9pZCBmKCkge30KfTsKCnZvaWQgbWFpbigpIHsKICBDIGM7CiAgRCBkOwoKICBjLmYoKTsKICBkLmYoKTsKCiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfREAAAB2b2lkLXZhcmlhYmxlLnR4dNUAAADvu78KI2luY2x1ZGUgPGIyc3R5bGUuaD4KI2luY2x1ZGUgPHRlc3RpbmcuaD4KCnZvaWQgbWFpbigpIHsKICB2b2lkIHY7CiAgdm9pZCB2MlsxMDBdOwogIC8vIHZvaWQgaXMgbm90IGFzc2lnbmFibGUsIGJ1dCBkZWZpbmluZyBhIHZhcmlhYmxlIHdpdGggdm9pZCB0eXBlIHNob3VsZCBzdGlsbCBiZSBhbGxvd2VkLgogIGIyc3R5bGU6OnRlc3Rpbmc6OmZpbmlzaGVkKCk7Cn0MAAAAX19maWxlX18udHh0VQIAAO+7vwojaW5jbHVkZSA8YjJzdHlsZS5oPgojaW5jbHVkZSA8dGVzdGluZy5oPgoKdm9pZCBtYWluKCkgewogIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxzdHJpbmc+KF9fRklMRV9fLCBfX0ZJTEVfXyk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPHN0cmluZz4oX19mdW5jX18sIF9fZnVuY19fKTsKICAvLyBUaGUgX19MSU5FX18gaXMgaGFuZGxlZCBhcyB0aGUgc3RhcnQgb2YgY2hhcmFjdGVyLCBzbyB0aGUgZm9sbG93aW5nIGFzc2VydGlvbiB3b24ndCBwYXNzLgogIC8vIGIyc3R5bGU6OnRlc3Rpbmc6OmFzc2VydF9lcXVhbDxpbnQ+KF9fTElORV9fLCBfX0xJTkVfXyk7CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X3RydWUoX19MSU5FX18gPiAwKTsKICBiMnN0eWxlOjp0ZXN0aW5nOjphc3NlcnRfZXF1YWw8c3RyaW5nPihfX1NUQVRFTUVOVF9fLCBfX1NUQVRFTUVOVF9fKTsKICBzdHJpbmcgcyA9IF9fU1RBVEVNRU5UX187CiAgYjJzdHlsZTo6dGVzdGluZzo6YXNzZXJ0X2VxdWFsPHN0cmluZz4ocywgInN0cmluZyBzID0gX19TVEFURU1FTlRfXyA7Iik7CiAgYjJzdHlsZTo6dGVzdGluZzo6ZmluaXNoZWQoKTsKfQ=="
        ))
End Class
